let chart;$(".chart-area-womens-recession-intro").parent().css("overflow","visible"),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("TwoStep",[],t):"object"==typeof exports?exports.TwoStep=t():e.TwoStep=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[40,32,39,34].indexOf(e)>-1?1:[37,38,33].indexOf(e)>-1?-1:0},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.instances=[]}return i(e,[{key:"register",value:function(e){return this.instances.push(e),this}},{key:"getActiveInstances",value:function(){return this.instances.filter(function(e){return e.enabled})}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(0)),r=new(i(n(1)).default),s=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),0===t.elements.length)throw"Elements array is empty";if(t.narrative){if(t.elements.length!==t.narrative.length)throw"Elements and narrative are different lengths";if(!1==!t.narrative.filter(function(e){return"function"!=typeof e}).length)throw"Narrative contains non-functions";this.narrative=t.narrative}this.onChange=t.onChange,this.elements=Array.prototype.slice.call(t.elements),this.enabled=!0,this.offset=t.hasOwnProperty("offset")?t.offset:{down:"50%",up:"0"};var n=this.setWaypoints(this.elements,function(e){if("down"==e){var t=o.elements.indexOf(this.element);t!==this.index&&o.goTo(t,!1,e)}},t.continuous,this.offset.down),i=this.setWaypoints(this.elements,function(e){if("up"==e){var t=o.elements.indexOf(this.element);t!==this.index&&o.goTo(t,!1,e)}},t.continuous,this.offset.up);if(this.waypoints=[n,i],t.stick){if(void 0===$().fixTo)throw"fixTo is not present on the page, or may have been loaded in before jQuery.";$(t.stick).wrapInner('<div class="two-step-sticky-wrapper"></div>'),this.sticky=$(t.stick).find(".two-step-sticky-wrapper").fixTo($(t.stick))}this.setKeyboard(),this.index=-1,r.register(this),setInterval(function(){Waypoint.refreshAll()},1e3);var o=this}return o(e,[{key:"goTo",value:function(e,t,n){var i=this;if(!1===this.isValidIndex(e))throw e+" is not a valid index. Must be between 0 and "+(this.elements.length-1)+" (inclusive).";this.narrative&&this.narrative[e]({element:this.elements[e],index:e,direction:n}),this.onChange&&this.onChange({element:this.elements[e],index:e,direction:n}),this.index=e;var o=$(this.elements).eq(e);return $(this.elements).removeClass("active"),o.addClass("active"),!0===t?(this.disableWaypoints(),$("html, body").animate({scrollTop:o.offset().top-100},500).promise().then(function(){i.enableWaypoints()})):$.Deferred().resolve()}},{key:"setWaypoints",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments[3];return e.map(function(e){return new Waypoint({element:e,handler:t,continuous:n,offset:i})})}},{key:"setKeyboard",value:function(){var e=this;$(window).keydown(function(t){if(e.disabled)return!0;var n=(0,a.default)(t.keyCode),i=r.getActiveInstances();if(0!==n&&t.target===document.body&&!1===t.metaKey&&1===i.length){var o=e.index+n;return!e.isValidIndex(o)||(e.goTo(o,!0),t.preventDefault(),!1)}})}},{key:"isValidIndex",value:function(e){return e<this.elements.length&&e>-1}},{key:"disableWaypoints",value:function(){[].concat.apply([],this.waypoints).forEach(function(e){return e.disable()})}},{key:"enableWaypoints",value:function(){[].concat.apply([],this.waypoints).forEach(function(e){return e.enable()})}},{key:"disable",value:function(){this.disabled=!0,this.enabled=!1,this.disableWaypoints(),this.sticky&&this.sticky.fixTo("stop")}},{key:"enable",value:function(){this.disabled=!1,this.enabled=!0,this.enableWaypoints(),this.sticky&&this.sticky.fixTo("start")}}]),e}();t.default=s,e.exports=t.default}])});var ts=new TwoStep({elements:document.querySelectorAll(".parent .narrative-item"),onChange:function(e){console.log("Item "+e.index)},stick:document.querySelector(".parent .sticky-outer"),narrative:[function(e){chart.addAnnotation({id:"e-p-anno",shapes:[{point:{xAxis:0,yAxis:0,x:Date.UTC(2020,3,1),y:69.67},type:"circle",r:8},{point:{xAxis:0,yAxis:0,x:Date.UTC(2020,1,1),y:80.45},type:"circle",r:8},{points:[{xAxis:0,yAxis:0,x:Date.UTC(2020,3,1),y:69.67},{xAxis:0,yAxis:0,x:Date.UTC(2e3,1,1),y:69.67}],type:"path"},,{points:[{xAxis:0,yAxis:0,x:Date.UTC(2020,1,1),y:80.45},{xAxis:0,yAxis:0,x:Date.UTC(2001,7,1),y:80.45}],type:"path"}]})},function(e){chart.removeAnnotation("e-p-anno"),chart.update({data:{googleSpreadsheetKey:"1Gwd_S7Hz57AQ2jIApbtSSiDdMPEgx8pQ_EIlQ95pHGs",googleSpreadsheetWorksheet:2}})},function(e){chart.removeAnnotation("e-p-anno")},function(e){chart.removeAnnotation("e-p-anno")}],offset:{up:"-10%",down:"70%"}});function drawHighcharts(){chart=Highcharts.chart("chart-container-intro",{chart:{type:"area",styledMode:!0,spacingBottom:25,spacingRight:5,spacingLeft:5,spacingTop:20},title:{text:null},data:{googleSpreadsheetKey:"1Gwd_S7Hz57AQ2jIApbtSSiDdMPEgx8pQ_EIlQ95pHGs",googleSpreadsheetWorksheet:1},annotations:[{}],plotOptions:{series:{lineWidth:1,states:{hover:{enabled:!1}},marker:{enabled:!1,symbol:"circle",fillColor:"#ffffff",states:{hover:{fillColor:"#ffffff"}}}}},legend:{enabled:!1},xAxis:{labels:{style:{whiteSpace:"nowrap"}},tickLength:5,plotBands:[{from:Date.UTC(2020,1,1),to:Date.UTC(2020,9,30),label:{text:"Pandemic",textAlign:"right"}}]},yAxis:{title:!1,labels:{useHTML:!0,overflow:"allow"},min:60,max:85,tickAmount:6},credits:{enabled:!1},tooltip:{enabled:!1},defs:{gradient0:{tagName:"linearGradient",id:"gradient-0",x1:0,y1:0,x2:0,y2:1,children:[{tagName:"stop",offset:0},{tagName:"stop",offset:1}]}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{spacingRight:10,spacingLeft:10},legend:{align:"left",x:-18},tooltip:{enabled:!1}}}]}})}Highcharts.setOptions({lang:{thousandsSep:","}}),"complete"===document.readyState||"interactive"===document.readyState?drawHighcharts():document.addEventListener("DOMContentLoaded",drawHighcharts);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiY2hhcnQiLCIkIiwicGFyZW50IiwiY3NzIiwiZSIsInQiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiVHdvU3RlcCIsInRoaXMiLCJpIiwibiIsIm8iLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInZhbHVlIiwiaW5kZXhPZiIsImxlbmd0aCIsIndyaXRhYmxlIiwia2V5IiwiciIsIlR5cGVFcnJvciIsImluc3RhbmNlcyIsInB1c2giLCJmaWx0ZXIiLCJlbmFibGVkIiwiYSIsImVsZW1lbnRzIiwibmFycmF0aXZlIiwib25DaGFuZ2UiLCJBcnJheSIsInNsaWNlIiwib2Zmc2V0IiwiZG93biIsInVwIiwic2V0V2F5cG9pbnRzIiwiZWxlbWVudCIsImluZGV4IiwiZ29UbyIsImNvbnRpbnVvdXMiLCJ3YXlwb2ludHMiLCJzdGljayIsImZpeFRvIiwid3JhcElubmVyIiwic3RpY2t5IiwiZmluZCIsInNldEtleWJvYXJkIiwicmVnaXN0ZXIiLCJzZXRJbnRlcnZhbCIsIldheXBvaW50IiwicmVmcmVzaEFsbCIsImlzVmFsaWRJbmRleCIsImRpcmVjdGlvbiIsImVxIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImRpc2FibGVXYXlwb2ludHMiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwidG9wIiwicHJvbWlzZSIsInRoZW4iLCJlbmFibGVXYXlwb2ludHMiLCJEZWZlcnJlZCIsInJlc29sdmUiLCJhcmd1bWVudHMiLCJtYXAiLCJoYW5kbGVyIiwid2luZG93Iiwia2V5ZG93biIsImRpc2FibGVkIiwia2V5Q29kZSIsImdldEFjdGl2ZUluc3RhbmNlcyIsInRhcmdldCIsImRvY3VtZW50IiwiYm9keSIsIm1ldGFLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImNvbmNhdCIsImFwcGx5IiwiZm9yRWFjaCIsImRpc2FibGUiLCJlbmFibGUiLCJ0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJldmVudCIsImNvbnNvbGUiLCJsb2ciLCJxdWVyeVNlbGVjdG9yIiwiYWRkQW5ub3RhdGlvbiIsImlkIiwic2hhcGVzIiwicG9pbnQiLCJ4QXhpcyIsInlBeGlzIiwieCIsIkRhdGUiLCJVVEMiLCJ5IiwidHlwZSIsInBvaW50cyIsInJlbW92ZUFubm90YXRpb24iLCJ1cGRhdGUiLCJkYXRhIiwiZ29vZ2xlU3ByZWFkc2hlZXRLZXkiLCJnb29nbGVTcHJlYWRzaGVldFdvcmtzaGVldCIsImRyYXdIaWdoY2hhcnRzIiwiSGlnaGNoYXJ0cyIsInN0eWxlZE1vZGUiLCJzcGFjaW5nQm90dG9tIiwic3BhY2luZ1JpZ2h0Iiwic3BhY2luZ0xlZnQiLCJzcGFjaW5nVG9wIiwidGl0bGUiLCJ0ZXh0IiwiYW5ub3RhdGlvbnMiLCJwbG90T3B0aW9ucyIsInNlcmllcyIsImxpbmVXaWR0aCIsInN0YXRlcyIsImhvdmVyIiwibWFya2VyIiwic3ltYm9sIiwiZmlsbENvbG9yIiwibGVnZW5kIiwibGFiZWxzIiwic3R5bGUiLCJ3aGl0ZVNwYWNlIiwidGlja0xlbmd0aCIsInBsb3RCYW5kcyIsImZyb20iLCJ0byIsImxhYmVsIiwidGV4dEFsaWduIiwidXNlSFRNTCIsIm92ZXJmbG93IiwibWluIiwibWF4IiwidGlja0Ftb3VudCIsImNyZWRpdHMiLCJ0b29sdGlwIiwiZGVmcyIsImdyYWRpZW50MCIsInRhZ05hbWUiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImNoaWxkcmVuIiwicmVzcG9uc2l2ZSIsInJ1bGVzIiwiY29uZGl0aW9uIiwibWF4V2lkdGgiLCJjaGFydE9wdGlvbnMiLCJhbGlnbiIsInNldE9wdGlvbnMiLCJsYW5nIiwidGhvdXNhbmRzU2VwIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3Mi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S0FFQUMsYUFBQSxDQUNBekssTUFBQSxDQUNBOEgsYUFBQSxHQUNBQyxZQUFBLElBRUFhLE9BQUEsQ0FDQThCLE1BQUEsT0FDQTNELEdBQUEsSUFFQTZDLFFBQUEsQ0FDQW5ILFNBQUEsU0F4SUFrRixXQUFBZ0QsV0FBQSxDQUNBQyxLQUFBLENBQ0FDLGFBQUEsT0E4SUEsYUFBQW5GLFNBQUFvRixZQUFBLGdCQUFBcEYsU0FBQW9GLFdBQ0FwRCxpQkFFQWhDLFNBQUFxRixpQkFBQSxtQkFBQXJEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhZGRzIHNvY2lhbCBjbGFzcyB0byBnZXQgc29jaWFsIGNoYXJ0XG4vLyBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjaGFydC1hcmVhXCIpO1xuLy8gZm9yKHZhciBpID0gMDsgaSA8IGVsZW1lbnQubGVuZ3RoOyBpKyspXG4vLyB7XG4vLyAgICAgZWxlbWVudFtpXS5jbGFzc05hbWUgKz0gXCIgc29jaWFsXCI7XG4vLyB9XG5cbmxldCBjaGFydDtcblxuJCggXCIuY2hhcnQtYXJlYS13b21lbnMtcmVjZXNzaW9uLWludHJvXCIgKS5wYXJlbnQoKS5jc3MoIFwib3ZlcmZsb3dcIiwgXCJ2aXNpYmxlXCIgKVxuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJUd29TdGVwXCIsW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5Ud29TdGVwPXQoKTplLlR3b1N0ZXA9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoaSl7aWYobltpXSlyZXR1cm4gbltpXS5leHBvcnRzO3ZhciBvPW5baV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHQpLG8ubD0hMCxvLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIHQubT1lLHQuYz1uLHQuaT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdC5kPWZ1bmN0aW9uKGUsbixpKXt0Lm8oZSxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Oml9KX0sdC5uPWZ1bmN0aW9uKGUpe3ZhciBuPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQobixcImFcIixuKSxufSx0Lm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHQucD1cIlwiLHQodC5zPTIpfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7dmFyIHQ9WzQwLDMyLDM5LDM0XSxuPVszNywzOCwzM107cmV0dXJuIHQuaW5kZXhPZihlKT4tMT8xOm4uaW5kZXhPZihlKT4tMT8tMTowfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1pLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpLHRoaXMuaW5zdGFuY2VzPVtdfXJldHVybiBvKGUsW3trZXk6XCJyZWdpc3RlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluc3RhbmNlcy5wdXNoKGUpLHRoaXN9fSx7a2V5OlwiZ2V0QWN0aXZlSW5zdGFuY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVuYWJsZWR9KX19XSksZX0oKTt0LmRlZmF1bHQ9cixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPW4oMCksYT1pKHMpLHU9bigxKSxmPWkodSksbD1uZXcgZi5kZWZhdWx0LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2Z1bmN0aW9uIG4oZSl7aWYoXCJ1cFwiPT1lKXt2YXIgdD1hLmVsZW1lbnRzLmluZGV4T2YodGhpcy5lbGVtZW50KTt0IT09dGhpcy5pbmRleCYmYS5nb1RvKHQsITEsZSl9fWZ1bmN0aW9uIGkoZSl7aWYoXCJkb3duXCI9PWUpe3ZhciB0PWEuZWxlbWVudHMuaW5kZXhPZih0aGlzLmVsZW1lbnQpO3QhPT10aGlzLmluZGV4JiZhLmdvVG8odCwhMSxlKX19aWYobyh0aGlzLGUpLDA9PT10LmVsZW1lbnRzLmxlbmd0aCl0aHJvd1wiRWxlbWVudHMgYXJyYXkgaXMgZW1wdHlcIjtpZih0Lm5hcnJhdGl2ZSl7aWYodC5lbGVtZW50cy5sZW5ndGghPT10Lm5hcnJhdGl2ZS5sZW5ndGgpdGhyb3dcIkVsZW1lbnRzIGFuZCBuYXJyYXRpdmUgYXJlIGRpZmZlcmVudCBsZW5ndGhzXCI7aWYoIXQubmFycmF0aXZlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBlfSkubGVuZ3RoPT09ITEpdGhyb3dcIk5hcnJhdGl2ZSBjb250YWlucyBub24tZnVuY3Rpb25zXCI7dGhpcy5uYXJyYXRpdmU9dC5uYXJyYXRpdmV9dGhpcy5vbkNoYW5nZT10Lm9uQ2hhbmdlLHRoaXMuZWxlbWVudHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC5lbGVtZW50cyksdGhpcy5lbmFibGVkPSEwLHRoaXMub2Zmc2V0PXQuaGFzT3duUHJvcGVydHkoXCJvZmZzZXRcIik/dC5vZmZzZXQ6e2Rvd246XCI1MCVcIix1cDpcIjBcIn07dmFyIHI9dGhpcy5zZXRXYXlwb2ludHModGhpcy5lbGVtZW50cyxpLHQuY29udGludW91cyx0aGlzLm9mZnNldC5kb3duKSxzPXRoaXMuc2V0V2F5cG9pbnRzKHRoaXMuZWxlbWVudHMsbix0LmNvbnRpbnVvdXMsdGhpcy5vZmZzZXQudXApO2lmKHRoaXMud2F5cG9pbnRzPVtyLHNdLHQuc3RpY2spe2lmKHZvaWQgMD09PSQoKS5maXhUbyl0aHJvd1wiZml4VG8gaXMgbm90IHByZXNlbnQgb24gdGhlIHBhZ2UsIG9yIG1heSBoYXZlIGJlZW4gbG9hZGVkIGluIGJlZm9yZSBqUXVlcnkuXCI7JCh0LnN0aWNrKS53cmFwSW5uZXIoJzxkaXYgY2xhc3M9XCJ0d28tc3RlcC1zdGlja3ktd3JhcHBlclwiPjwvZGl2PicpLHRoaXMuc3RpY2t5PSQodC5zdGljaykuZmluZChcIi50d28tc3RlcC1zdGlja3ktd3JhcHBlclwiKS5maXhUbygkKHQuc3RpY2spKX10aGlzLnNldEtleWJvYXJkKCksdGhpcy5pbmRleD0tMSxsLnJlZ2lzdGVyKHRoaXMpLHNldEludGVydmFsKGZ1bmN0aW9uKCl7V2F5cG9pbnQucmVmcmVzaEFsbCgpfSwxZTMpO3ZhciBhPXRoaXN9cmV0dXJuIHIoZSxbe2tleTpcImdvVG9cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcztpZih0aGlzLmlzVmFsaWRJbmRleChlKT09PSExKXRocm93IGUrXCIgaXMgbm90IGEgdmFsaWQgaW5kZXguIE11c3QgYmUgYmV0d2VlbiAwIGFuZCBcIisodGhpcy5lbGVtZW50cy5sZW5ndGgtMSkrXCIgKGluY2x1c2l2ZSkuXCI7dGhpcy5uYXJyYXRpdmUmJnRoaXMubmFycmF0aXZlW2VdKHtlbGVtZW50OnRoaXMuZWxlbWVudHNbZV0saW5kZXg6ZSxkaXJlY3Rpb246bn0pLHRoaXMub25DaGFuZ2UmJnRoaXMub25DaGFuZ2Uoe2VsZW1lbnQ6dGhpcy5lbGVtZW50c1tlXSxpbmRleDplLGRpcmVjdGlvbjpufSksdGhpcy5pbmRleD1lO3ZhciBvPSQodGhpcy5lbGVtZW50cykuZXEoZSk7cmV0dXJuICQodGhpcy5lbGVtZW50cykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksby5hZGRDbGFzcyhcImFjdGl2ZVwiKSx0PT09ITA/KHRoaXMuZGlzYWJsZVdheXBvaW50cygpLCQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDpvLm9mZnNldCgpLnRvcC0xMDB9LDUwMCkucHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24oKXtpLmVuYWJsZVdheXBvaW50cygpfSkpOiQuRGVmZXJyZWQoKS5yZXNvbHZlKCl9fSx7a2V5Olwic2V0V2F5cG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdLGk9YXJndW1lbnRzWzNdO3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFdheXBvaW50KHtlbGVtZW50OmUsaGFuZGxlcjp0LGNvbnRpbnVvdXM6bixvZmZzZXQ6aX0pfSl9fSx7a2V5Olwic2V0S2V5Ym9hcmRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7JCh3aW5kb3cpLmtleWRvd24oZnVuY3Rpb24odCl7aWYoZS5kaXNhYmxlZClyZXR1cm4hMDt2YXIgbj0oMCxhLmRlZmF1bHQpKHQua2V5Q29kZSksaT1sLmdldEFjdGl2ZUluc3RhbmNlcygpO2lmKDAhPT1uJiZ0LnRhcmdldD09PWRvY3VtZW50LmJvZHkmJnQubWV0YUtleT09PSExJiYxPT09aS5sZW5ndGgpe3ZhciBvPWUuaW5kZXgrbjtyZXR1cm4hZS5pc1ZhbGlkSW5kZXgobyl8fChlLmdvVG8obywhMCksdC5wcmV2ZW50RGVmYXVsdCgpLCExKX19KX19LHtrZXk6XCJpc1ZhbGlkSW5kZXhcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZTx0aGlzLmVsZW1lbnRzLmxlbmd0aCYmZT4tMX19LHtrZXk6XCJkaXNhYmxlV2F5cG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtbXS5jb25jYXQuYXBwbHkoW10sdGhpcy53YXlwb2ludHMpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZSgpfSl9fSx7a2V5OlwiZW5hYmxlV2F5cG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtbXS5jb25jYXQuYXBwbHkoW10sdGhpcy53YXlwb2ludHMpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5hYmxlKCl9KX19LHtrZXk6XCJkaXNhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwLHRoaXMuZW5hYmxlZD0hMSx0aGlzLmRpc2FibGVXYXlwb2ludHMoKSx0aGlzLnN0aWNreSYmdGhpcy5zdGlja3kuZml4VG8oXCJzdG9wXCIpfX0se2tleTpcImVuYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5lbmFibGVXYXlwb2ludHMoKSx0aGlzLnN0aWNreSYmdGhpcy5zdGlja3kuZml4VG8oXCJzdGFydFwiKX19XSksZX0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fV0pfSk7XG5cbnZhciB0cyA9IG5ldyBUd29TdGVwKHtcbiAgZWxlbWVudHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJlbnQgLm5hcnJhdGl2ZS1pdGVtJyksXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgY29uc29sZS5sb2coJ0l0ZW0gJytldmVudC5pbmRleCk7XG4gIH0sXG4gIHN0aWNrOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFyZW50IC5zdGlja3ktb3V0ZXInKSxcbiAgbmFycmF0aXZlOiBbXG4gICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGNoYXJ0LmFkZEFubm90YXRpb24oe1xuICAgICAgICAgICAgaWQ6ICdlLXAtYW5ubycsXG4gICAgICAgICAgICBzaGFwZXM6IFt7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgeEF4aXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIHlBeGlzOiAwLFxuICAgICAgICAgICAgICAgICAgICB4OiBEYXRlLlVUQygyMDIwLCAzLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgeTogNjkuNjcgXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2lyY2xlJyxcbiAgICAgICAgICAgICAgICByOiA4XG4gICAgICAgICAgICB9LHtcbiAgICAgICAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgICAgICAgICB4QXhpczogMCxcbiAgICAgICAgICAgICAgICAgICAgeUF4aXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIHg6IERhdGUuVVRDKDIwMjAsIDEsIDEpLFxuICAgICAgICAgICAgICAgICAgICB5OiA4MC40NSBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICdjaXJjbGUnLFxuICAgICAgICAgICAgICAgIHI6IDggXG4gICAgICAgICAgICB9LHtcbiAgICAgICAgICAgICAgICBwb2ludHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHhBeGlzOiAwLFxuICAgICAgICAgICAgICAgICAgICB5QXhpczogMCxcbiAgICAgICAgICAgICAgICAgICAgeDogRGF0ZS5VVEMoMjAyMCwgMywgMSksXG4gICAgICAgICAgICAgICAgICAgIHk6IDY5LjY3IFxuICAgICAgICAgICAgICAgIH0se1xuICAgICAgICAgICAgICAgICAgICB4QXhpczogMCxcbiAgICAgICAgICAgICAgICAgICAgeUF4aXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIHg6IERhdGUuVVRDKDIwMDAsIDEsIDEpLFxuICAgICAgICAgICAgICAgICAgICB5OiA2OS42NyAgXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ3BhdGgnXG4gICAgICAgICAgICB9LCx7XG4gICAgICAgICAgICAgICAgcG9pbnRzOiBbe1xuICAgICAgICAgICAgICAgICAgICB4QXhpczogMCxcbiAgICAgICAgICAgICAgICAgICAgeUF4aXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIHg6IERhdGUuVVRDKDIwMjAsIDEsIDEpLFxuICAgICAgICAgICAgICAgICAgICB5OiA4MC40NSAgXG4gICAgICAgICAgICAgICAgfSx7XG4gICAgICAgICAgICAgICAgICAgIHhBeGlzOiAwLFxuICAgICAgICAgICAgICAgICAgICB5QXhpczogMCxcbiAgICAgICAgICAgICAgICAgICAgeDogRGF0ZS5VVEMoMjAwMSwgNywgMSksXG4gICAgICAgICAgICAgICAgICAgIHk6IDgwLjQ1ICBcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICB0eXBlOiAncGF0aCdcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgY2hhcnQucmVtb3ZlQW5ub3RhdGlvbignZS1wLWFubm8nKTtcbiAgICAgICAgY2hhcnQudXBkYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBnb29nbGVTcHJlYWRzaGVldEtleTogJzFHd2RfUzdIejU3QVEyaklBcGJ0U1NpRGRNUEVneDhwUV9FSWxROTVwSEdzJyxcbiAgICAgICAgICAgICAgICBnb29nbGVTcHJlYWRzaGVldFdvcmtzaGVldDogMlxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNoYXJ0LnVwZGF0ZUZyb21EYXRhKCk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgY2hhcnQucmVtb3ZlQW5ub3RhdGlvbignZS1wLWFubm8nKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBjaGFydC5yZW1vdmVBbm5vdGF0aW9uKCdlLXAtYW5ubycpO1xuICAgICAgfVxuICBdLFxuICBvZmZzZXQ6IHtcbiAgICAgIHVwOiAnLTEwJScsXG4gICAgICBkb3duOiAnNzAlJ1xuICB9XG59KTtcblxuXG5IaWdoY2hhcnRzLnNldE9wdGlvbnMoe1xuICAgIGxhbmc6IHtcbiAgICAgIHRob3VzYW5kc1NlcDogJywnXG4gICAgfVxufSk7XG5cblxuXG5mdW5jdGlvbiBkcmF3SGlnaGNoYXJ0cygpIHtcbiAgICBjaGFydCA9IEhpZ2hjaGFydHMuY2hhcnQoJ2NoYXJ0LWNvbnRhaW5lci1pbnRybycsIHtcbiAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcmVhJyxcbiAgICAgICAgICAgIHN0eWxlZE1vZGU6IHRydWUsXG4gICAgICAgICAgICBzcGFjaW5nQm90dG9tOiAyNSxcbiAgICAgICAgICAgIHNwYWNpbmdSaWdodDogNSxcbiAgICAgICAgICAgIHNwYWNpbmdMZWZ0OiA1LFxuICAgICAgICAgICAgc3BhY2luZ1RvcDogMjAsXG4gICAgICAgIH0sIFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgdGV4dDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBnb29nbGVTcHJlYWRzaGVldEtleTogJzFHd2RfUzdIejU3QVEyaklBcGJ0U1NpRGRNUEVneDhwUV9FSWxROTVwSEdzJyxcbiAgICAgICAgICAgIGdvb2dsZVNwcmVhZHNoZWV0V29ya3NoZWV0OiAxXG4gICAgICAgIH0sXG4gICAgICAgIGFubm90YXRpb25zOiBbe1xuICAgICAgICB9XSxcbiAgICAgICAgLy8gZm9yIGJhciBjaGFydHMgb25seVxuICAgICAgICAvLyBwbG90T3B0aW9uczoge1xuICAgICAgICAvLyAgICAgc2VyaWVzOiB7XG4gICAgICAgIC8vICAgICAgICAgZ3JvdXBQYWRkaW5nOiAwLjFcbiAgICAgICAgLy8gICAgIH0gXG4gICAgICAgIC8vIH0sXG4gICAgICAgIC8vIGZvciBsaW5lIGNoYXJ0cyBvbmx5XG4gICAgICAgIHBsb3RPcHRpb25zOiB7XG4gICAgICAgICAgICBzZXJpZXM6IHtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGhvdmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBjbGlwOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtYXJrZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbDogJ2NpcmNsZScsXG4gICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAvLyBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgIC8vIHN5bWJvbFJhZGl1czogMCxcbiAgICAgICAgICAgIC8vIHZlcnRpY2FsQWxpZ246ICd0b3AnLFxuICAgICAgICAgICAgLy8geDogMTAsXG4gICAgICAgICAgICAvLyBpdGVtTWFyZ2luVG9wOiAtMTBcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aWNrTGVuZ3RoOiA1LFxuICAgICAgICAgICAgcGxvdEJhbmRzOiBbeyAvLyBtYXJrIHRoZSB3ZWVrZW5kXG4gICAgICAgICAgICAgICAgZnJvbTogRGF0ZS5VVEMoMjAyMCwgMSwgMSksXG4gICAgICAgICAgICAgICAgdG86IERhdGUuVVRDKDIwMjAsIDksIDMwKSxcbiAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnUGFuZGVtaWMnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdyaWdodCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIC8vIGVkaXRzIHhBeGlzIHRpY2tzXG4gICAgICAgICAgICAvLyBkYXRlVGltZUxhYmVsRm9ybWF0czoge1xuICAgICAgICAgICAgLy8gICAgIHdlZWs6ICclYi4gJWUnLFxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIC8vIHRpY2tJbnRlcnZhbDogMjQgKiAzNjAwICogMTAwMCAqIDdcbiAgICAgICAgfSxcbiAgICAgICAgeUF4aXM6IHtcbiAgICAgICAgICAgIHRpdGxlOiBmYWxzZSxcbiAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgIHVzZUhUTUw6IHRydWUsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdhbGxvdydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtaW46IDYwLFxuICAgICAgICAgICAgbWF4OiA4NSxcbiAgICAgICAgICAgIHRpY2tBbW91bnQ6IDZcbiAgICAgICAgICAgIC8vIGFkZHMgY29tbWFzIHRvIHRob3VzYW5kc1xuICAgICAgICAgICAgLy8gZm9ybWF0dGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIEhpZ2hjaGFydHMubnVtYmVyRm9ybWF0KHRoaXMudmFsdWUsMCwnLicsJywnKTtcbiAgICAgICAgICAgIC8vIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWRpdHM6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGRlZnM6IHtcbiAgICAgICAgICAgIGdyYWRpZW50MDoge1xuICAgICAgICAgICAgICAgIHRhZ05hbWU6ICdsaW5lYXJHcmFkaWVudCcsXG4gICAgICAgICAgICAgICAgaWQ6ICdncmFkaWVudC0wJyxcbiAgICAgICAgICAgICAgICB4MTogMCxcbiAgICAgICAgICAgICAgICB5MTogMCxcbiAgICAgICAgICAgICAgICB4MjogMCxcbiAgICAgICAgICAgICAgICB5MjogMSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZTogJ3N0b3AnLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWU6ICdzdG9wJyxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAxXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAgICAgcnVsZXM6IFt7XG4gICAgICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogNTAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhcnRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICBzcGFjaW5nUmlnaHQ6IDEwLFxuICAgICAgICAgICAgICAgIHNwYWNpbmdMZWZ0OiAxMCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICAgICAgICAgICAgICB4OiAtMThcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJykge1xuICAgIGRyYXdIaWdoY2hhcnRzKCk7XG59IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGRyYXdIaWdoY2hhcnRzKTtcbn0iXX0=
