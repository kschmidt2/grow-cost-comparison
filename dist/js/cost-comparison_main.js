!function(e,t,n){function i(e,t){return typeof e===t}var r=[],a=[],o={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){a.push({name:e,fn:t,options:n})},addAsyncTest:function(e){a.push({name:null,fn:e})}},s=function(){};s.prototype=o,(s=new s).addTest("devicemotion","DeviceMotionEvent"in e),s.addTest("deviceorientation","DeviceOrientationEvent"in e);var c=t.documentElement,u="svg"===c.nodeName.toLowerCase();(function(){var e,t,n,o,c,u;for(var l in a)if(a.hasOwnProperty(l)){if(e=[],(t=a[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=i(t.fn,"function")?t.fn():t.fn,c=0;c<e.length;c++)1===(u=e[c].split(".")).length?s[u[0]]=o:(!s[u[0]]||s[u[0]]instanceof Boolean||(s[u[0]]=new Boolean(s[u[0]])),s[u[0]][u[1]]=o),r.push((o?"":"no-")+u.join("-"))}})(),function(e){var t=c.className,n=s._config.classPrefix||"";if(u&&(t=t.baseVal),s._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}s._config.enableClasses&&(t+=" "+n+e.join(" "+n),u?c.className.baseVal=t:c.className=t)}(r),delete o.addTest,delete o.addAsyncTest;for(var l=0;l<s._q.length;l++)s._q[l]();e.Modernizr=s}(window,document),Modernizr.devicemotion?console.log("supported"):console.log("not supported");let chartJ,chartL,jacobMax=3420,lisaMax=3040,annotationJ={id:"j-anno",labels:[{text:"84% spent",point:{x:0,y:1979,xAxis:0,yAxis:0},y:15,overflow:"allow"}],animation:{defer:10}},annotationL={id:"l-anno",labels:[{text:"75% spent",point:{x:0,y:1903,xAxis:0,yAxis:0},y:15,overflow:"allow"}],animation:{defer:10}};!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("TwoStep",[],t):"object"==typeof exports?exports.TwoStep=t():e.TwoStep=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[40,32,39,34].indexOf(e)>-1?1:[37,38,33].indexOf(e)>-1?-1:0},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.instances=[]}return i(e,[{key:"register",value:function(e){return this.instances.push(e),this}},{key:"getActiveInstances",value:function(){return this.instances.filter(function(e){return e.enabled})}}]),e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(0)),o=new(i(n(1)).default),s=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),0===t.elements.length)throw"Elements array is empty";if(t.narrative){if(t.elements.length!==t.narrative.length)throw"Elements and narrative are different lengths";if(!1==!t.narrative.filter(function(e){return"function"!=typeof e}).length)throw"Narrative contains non-functions";this.narrative=t.narrative}this.onChange=t.onChange,this.elements=Array.prototype.slice.call(t.elements),this.enabled=!0,this.offset=t.hasOwnProperty("offset")?t.offset:{down:"50%",up:"0"};var n=this.setWaypoints(this.elements,function(e){if("down"==e){var t=r.elements.indexOf(this.element);t!==this.index&&r.goTo(t,!1,e)}},t.continuous,this.offset.down),i=this.setWaypoints(this.elements,function(e){if("up"==e){var t=r.elements.indexOf(this.element);t!==this.index&&r.goTo(t,!1,e)}},t.continuous,this.offset.up);if(this.waypoints=[n,i],t.stick){if(void 0===$().fixTo)throw"fixTo is not present on the page, or may have been loaded in before jQuery.";$(t.stick).wrapInner('<div class="two-step-sticky-wrapper"></div>'),this.sticky=$(t.stick).find(".two-step-sticky-wrapper").fixTo($(t.stick))}this.setKeyboard(),this.index=-1,o.register(this),setInterval(function(){Waypoint.refreshAll()},1e3);var r=this}return r(e,[{key:"goTo",value:function(e,t,n){var i=this;if(!1===this.isValidIndex(e))throw e+" is not a valid index. Must be between 0 and "+(this.elements.length-1)+" (inclusive).";this.narrative&&this.narrative[e]({element:this.elements[e],index:e,direction:n}),this.onChange&&this.onChange({element:this.elements[e],index:e,direction:n}),this.index=e;var r=$(this.elements).eq(e);return $(this.elements).removeClass("active"),r.addClass("active"),!0===t?(this.disableWaypoints(),$("html, body").animate({scrollTop:r.offset().top-100},500).promise().then(function(){i.enableWaypoints()})):$.Deferred().resolve()}},{key:"setWaypoints",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments[3];return e.map(function(e){return new Waypoint({element:e,handler:t,continuous:n,offset:i})})}},{key:"setKeyboard",value:function(){var e=this;$(window).keydown(function(t){if(e.disabled)return!0;var n=(0,a.default)(t.keyCode),i=o.getActiveInstances();if(0!==n&&t.target===document.body&&!1===t.metaKey&&1===i.length){var r=e.index+n;return!e.isValidIndex(r)||(e.goTo(r,!0),t.preventDefault(),!1)}})}},{key:"isValidIndex",value:function(e){return e<this.elements.length&&e>-1}},{key:"disableWaypoints",value:function(){[].concat.apply([],this.waypoints).forEach(function(e){return e.disable()})}},{key:"enableWaypoints",value:function(){[].concat.apply([],this.waypoints).forEach(function(e){return e.enable()})}},{key:"disable",value:function(){this.disabled=!0,this.enabled=!1,this.disableWaypoints(),this.sticky&&this.sticky.fixTo("stop")}},{key:"enable",value:function(){this.disabled=!1,this.enabled=!0,this.enableWaypoints(),this.sticky&&this.sticky.fixTo("start")}}]),e}();t.default=s,e.exports=t.default}])});var ts=new TwoStep({elements:document.querySelectorAll(".parent .narrative-item"),onChange:function(e){console.log("Item "+e.index)},stick:document.querySelector(".parent .sticky-outer"),narrative:[function(e){$(".lisa-illo").fadeOut(500)},function(e){$(".lisa-illo").fadeIn(500)},function(e){$(".chart-title").text(""),$(".money-info").fadeOut(500),chartJ.update({series:{data:[0]}}),chartL.update({series:{data:[0]}})},function(e){$(".money-info").fadeIn(500),$(".chart-title").text("Monthly income"),$("#jacobs-money").text("$3,420"),$("#lisas-money").text("$3,040"),chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno"),chartJ.update({series:{data:[jacobMax]},yAxis:{plotBands:[{from:0,to:jacobMax}]}}),chartL.update({series:{data:[lisaMax]},yAxis:{plotBands:[{from:0,to:lisaMax}]}})},function(e){chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno")},function(e){$(".chart-title").text("Monthly take-home pay"),$("#jacobs-money").text("$3,070"),$("#lisas-money").text("$2,700"),chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno"),chartJ.update({series:{data:[3070]}}),chartL.update({series:{data:[2700]}})},function(e){$(".chart-title").text("After student-loan payments"),$("#jacobs-money").text("$2,764"),$("#lisas-money").text("$2,510"),chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno"),chartJ.update({series:{data:[2764]}}),chartL.update({series:{data:[2510]}})},function(e){$(".chart-title").text("After rent and utilities"),$("#jacobs-money").text("$2,019"),$("#lisas-money").text("$1,964"),chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno"),chartJ.update({series:{data:[2019]}}),chartL.update({series:{data:[1964]}})},function(e){$(".chart-title").text("After transportation costs"),$("#jacobs-money").text("$1,639"),$("#lisas-money").text("$1,656"),chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno"),chartJ.update({series:{data:[1639]}}),chartL.update({series:{data:[1656]}})},function(e){$(".chart-title").text("After groceries and personal care"),$("#jacobs-money").text("$931"),$("#lisas-money").text("$977"),chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno"),chartJ.update({series:{data:[931]}}),chartL.update({series:{data:[977]}})},function(e){$(".chart-title").text("After retirement contributions"),$("#jacobs-money").text("$662"),$("#lisas-money").text("$823"),chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno"),chartJ.update({series:{data:[662]}}),chartL.update({series:{data:[823]}})},function(e){$(".chart-title").text("After health-care expenses"),$("#jacobs-money").text("$539"),$("#lisas-money").text("$766"),chartJ.removeAnnotation("j-anno"),chartL.removeAnnotation("l-anno"),chartJ.update({series:{data:[539]}}),chartL.update({series:{data:[766]}})},function(e){$(".chart-title").text("Remainder"),chartJ.addAnnotation(annotationJ),chartL.addAnnotation(annotationL)}],offset:{up:"5%",down:"70%"}}),requirejs,require,define;function drawHighcharts(){chartJ=Highcharts.chart("chart-container-jacob",{chart:{type:"bar",styledMode:!0,spacingBottom:0,spacingRight:50,spacingLeft:0,spacingTop:0,animation:{duration:1e3}},title:{text:null},series:[{data:[0]}],plotOptions:{series:{groupPadding:-2}},legend:{enabled:!1},xAxis:{labels:{enabled:!1,style:{whiteSpace:"nowrap"}},tickLength:5,type:"category"},yAxis:{title:!1,labels:{useHTML:!0,overflow:"allow",format:"${text}",step:4,align:"right",x:0,y:18},tickAmount:5,tickLength:25,tickPosition:"inside",max:4e3,gridZIndex:5},credits:{enabled:!1},tooltip:{enabled:!1},responsive:{rules:[{condition:{maxWidth:250},chartOptions:{chart:{spacingRight:20},tooltip:{enabled:!1}}}]}}),chartL=Highcharts.chart("chart-container-lisa",{chart:{type:"bar",styledMode:!0,spacingBottom:0,spacingRight:0,spacingLeft:50,spacingTop:0,animation:{duration:1e3}},title:{text:null},series:[{data:[0]}],plotOptions:{series:{groupPadding:-2}},legend:{enabled:!1},xAxis:{labels:{enabled:!1,style:{whiteSpace:"nowrap"}},tickLength:5,type:"category"},yAxis:{title:!1,reversed:!0,labels:{useHTML:!0,overflow:"allow",format:"${text}",step:4,align:"right",x:0,y:18},tickAmount:5,tickLength:25,tickPosition:"inside",max:4e3,gridZIndex:5},credits:{enabled:!1},tooltip:{enabled:!1},responsive:{rules:[{condition:{maxWidth:250},chartOptions:{chart:{spacingLeft:20},tooltip:{enabled:!1}}}]}})}Highcharts.setOptions({lang:{thousandsSep:","}}),"complete"===document.readyState||"interactive"===document.readyState?drawHighcharts():document.addEventListener("DOMContentLoaded",drawHighcharts),function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var n;if(e)for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){var n;if(e)for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){!n&&hasProp(e,r)||(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[r]=t:(e[r]||(e[r]={}),mixin(e[r],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=i):e=[]),a&&a.context&&(o=a.context),(r=getOwn(contexts,o))||(r=contexts[o]=req.s.newContext(o)),a&&r.configure(a),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return(i=req.createNode(r,t,n)).setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,r.onNodeCreated&&r.onNodeCreated(i,r,t,n),currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(i){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript())&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")]),r?(r.defQueue.push([e,t,n]),r.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(e){var t,n,i,r,a,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},s={},c={},u={},l=[],d={},f={},p={},h=1,m=1;function g(e,t,n){var i,r,a,s,c,u,l,d,f,p,h=t&&t.split("/"),m=o.map,g=m&&m["*"];if(e&&(u=(e=e.split("/")).length-1,o.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),function(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),n&&m&&(h||g)){e:for(a=(r=e.split("/")).length;a>0;a-=1){if(c=r.slice(0,a).join("/"),h)for(s=h.length;s>0;s-=1)if((i=getOwn(m,h.slice(0,s).join("/")))&&(i=getOwn(i,c))){l=i,d=a;break e}!f&&g&&getOwn(g,c)&&(f=getOwn(g,c),p=a)}!l&&f&&(l=f,d=p),l&&(r.splice(0,d,l),e=r.join("/"))}return getOwn(o.pkgs,e)||e}function v(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===i.contextName)return t.parentNode.removeChild(t),!0})}function x(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),i.require.undef(e),i.makeRequire(null,{skipMap:!0})([e]),!0}function b(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function y(e,t,n,r){var a,o,s,c,u=null,l=t?t.name:null,f=e,p=!0,v="";return e||(p=!1,e="_@r"+(h+=1)),u=(c=b(e))[0],e=c[1],u&&(u=g(u,l,r),o=getOwn(d,u)),e&&(u?v=n?e:o&&o.normalize?o.normalize(e,function(e){return g(e,l,r)}):-1===e.indexOf("!")?g(e,l,r):e:(u=(c=b(v=g(e,l,r)))[0],v=c[1],n=!0,a=i.nameToUrl(v))),{prefix:u,name:v,parentMap:t,unnormalized:!!(s=!u||o||n?"":"_unnormalized"+(m+=1)),url:a,originalName:f,isDefine:p,id:(u?u+"!"+v:v)+s}}function w(e){var t=e.id,n=getOwn(s,t);return n||(n=s[t]=new i.Module(e)),n}function k(e,t,n){var i=e.id,r=getOwn(s,i);!hasProp(d,i)||r&&!r.defineEmitComplete?(r=w(e)).error&&"error"===t?n(r.error):r.on(t,n):"defined"===t&&n(d[i])}function q(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(s,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function E(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(i.defQueueMap[t]=!0),l.push(e)}),globalDefQueue=[])}function A(e){delete s[e],delete c[e]}function M(){var e,n,r=1e3*o.waitSeconds,u=r&&i.startTime+r<(new Date).getTime(),l=[],f=[],p=!1,h=!0;if(!t){if(t=!0,eachProp(c,function(e){var t=e.map,i=t.id;if(e.enabled&&(t.isDefine||f.push(e),!e.error))if(!e.inited&&u)x(i)?(n=!0,p=!0):(l.push(i),v(i));else if(!e.inited&&e.fetched&&t.isDefine&&(p=!0,!t.prefix))return h=!1}),u&&l.length)return(e=makeError("timeout","Load timeout for modules: "+l,null,l)).contextName=i.contextName,q(e);h&&each(f,function(e){!function e(t,n,i){var r=t.map.id;t.error?t.emit("error",t.error):(n[r]=!0,each(t.depMaps,function(r,a){var o=r.id,c=getOwn(s,o);!c||t.depMatched[a]||i[o]||(getOwn(n,o)?(t.defineDep(a,d[o]),t.check()):e(c,n,i))}),i[r]=!0)}(e,{},{})}),u&&!n||!p||!isBrowser&&!isWebWorker||a||(a=setTimeout(function(){a=0,M()},50)),t=!1}}function j(e){hasProp(d,e[0])||w(y(e[0],null,!0)).init(e[1],e[2])}function O(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function S(e){var t=e.currentTarget||e.srcElement;return O(t,i.onScriptLoad,"load","onreadystatechange"),O(t,i.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function $(){var e;for(E();l.length;){if(null===(e=l.shift())[0])return q(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));j(e)}i.defQueueMap={}}return r={require:function(e){return e.require?e.require:e.require=i.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?d[e.map.id]=e.exports:e.exports=d[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(o.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(n=function(e){this.events=getOwn(u,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,i.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();i.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;f[e]||(f[e]=!0,i.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,a=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{a=i.execCb(n,o,r,a)}catch(t){e=t}else a=i.execCb(n,o,r,a);if(this.map.isDefine&&void 0===a&&((t=this.module)?a=t.exports:this.usingExports&&(a=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",q(this.error=e)}else a=o;if(this.exports=a,this.map.isDefine&&!this.ignore&&(d[n]=a,req.onResourceLoad)){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)}),req.onResourceLoad(i,this.map,s)}A(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(i.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,n=y(e.prefix);this.depMaps.push(n),k(n,"defined",bind(this,function(n){var r,a,c,u=getOwn(p,this.map.id),l=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,f=i.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(l=n.normalize(l,function(e){return g(e,d,!0)})||""),k(a=y(e.prefix+"!"+l,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=a,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((c=getOwn(s,a.id))&&(this.depMaps.push(a),this.events.error&&c.on("error",bind(this,function(e){this.emit("error",e)})),c.enable()))):u?(this.map.url=i.nameToUrl(u),void this.load()):((r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(s,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&A(e.map.id)}),q(e)}),r.fromText=bind(this,function(n,a){var s=e.name,c=y(s),u=useInteractive;a&&(n=a),u&&(useInteractive=!1),w(c),hasProp(o.config,t)&&(o.config[s]=o.config[t]);try{req.exec(n)}catch(e){return q(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}u&&(useInteractive=!0),this.depMaps.push(c),i.completeLoad(s),f([s],r)}),void n.load(e.name,f,r,o))})),i.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){c[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,a,o;if("string"==typeof e){if(e=y(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(r,e.id))return void(this.depExports[t]=o(this));this.depCount+=1,k(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?k(e,"error",bind(this,this.errback)):this.events.error&&k(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,a=s[n],hasProp(r,n)||!a||a.enabled||i.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(s,e.id);t&&!t.enabled&&i.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(i={config:o,contextName:e,registry:s,defined:d,urlFetched:f,defQueue:l,defQueueMap:{},Module:n,makeModuleMap:y,nextTick:req.nextTick,onError:q,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=o.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(o[t]||(o[t]={}),mixin(o[t],e,!0,!0)):o[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=i.makeShimExports(e)),n[t]=e}),o.shim=n),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(o.paths[t]=e.location),o.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(s,function(e,t){e.inited||e.map.unnormalized||(e.map=y(t,null,!0))}),(e.deps||e.callback)&&i.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(t,n){function a(o,c,u){var l,f;return n.enableBuildCallback&&c&&isFunction(c)&&(c.__requireJsBuild=!0),"string"==typeof o?isFunction(c)?q(makeError("requireargs","Invalid require call"),u):t&&hasProp(r,o)?r[o](s[t.id]):req.get?req.get(i,o,t,a):(l=y(o,t,!1,!0).id,hasProp(d,l)?d[l]:q(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):($(),i.nextTick(function(){$(),(f=w(y(null,t))).skipMap=n.skipMap,f.init(o,c,u,{enabled:!0}),M()}),a)}return n=n||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var n,r=e.lastIndexOf("."),a=e.split("/")[0];return-1!==r&&(!("."===a||".."===a)||r>1)&&(n=e.substring(r,e.length),e=e.substring(0,r)),i.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(d,y(e,t,!1,!0).id)},specified:function(e){return e=y(e,t,!1,!0).id,hasProp(d,e)||hasProp(s,e)}}),t||(a.undef=function(e){E();var n=y(e,t,!0),r=getOwn(s,e);r.undefed=!0,v(e),delete d[e],delete f[n.url],delete u[e],eachReverse(l,function(t,n){t[0]===e&&l.splice(n,1)}),delete i.defQueueMap[e],r&&(r.events.defined&&(u[e]=r.events),A(e))}),a},enable:function(e){getOwn(s,e.id)&&w(e).enable()},completeLoad:function(e){var t,n,r,a=getOwn(o.shim,e)||{},c=a.exports;for(E();l.length;){if(null===(n=l.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);j(n)}if(i.defQueueMap={},r=getOwn(s,e),!t&&!hasProp(d,e)&&r&&!r.inited){if(!(!o.enforceDefine||c&&getGlobal(c)))return x(e)?void 0:q(makeError("nodefine","No define call for "+e,null,[e]));j([e,a.deps||[],a.exportsFn])}M()},nameToUrl:function(e,t,n){var r,a,s,c,u,l,d=getOwn(o.pkgs,e);if(d&&(e=d),l=getOwn(p,e))return i.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))c=e+(t||"");else{for(r=o.paths,s=(a=e.split("/")).length;s>0;s-=1)if(u=getOwn(r,a.slice(0,s).join("/"))){isArray(u)&&(u=u[0]),a.splice(0,s,u);break}c=a.join("/"),c=("/"===(c+=t||(/^data\:|^blob\:|\?/.test(c)||n?"":".js")).charAt(0)||c.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+c}return o.urlArgs&&!/^blob\:/.test(c)?c+o.urlArgs(e,c):c},load:function(e,t){req.load(i,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=S(e);i.completeLoad(t.id)}},onScriptError:function(e){var t=S(e);if(!x(t.id)){var n=[];return eachProp(s,function(e,i){0!==i.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(i),!0})}),q(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}}).require=i.makeRequire(),i}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJyZXF1aXJlLmpzIl0sIm5hbWVzIjpbImUiLCJuIiwibyIsInMiLCJ0IiwiZiIsImwiLCJfdmVyc2lvbiIsIl9jb25maWciLCJjbGFzc1ByZWZpeCIsImVuYWJsZUNsYXNzZXMiLCJlbmFibGVKU0NsYXNzIiwidXNlUHJlZml4ZXMiLCJfcSIsIm9uIiwidGhpcyIsInNldFRpbWVvdXQiLCJhZGRUZXN0IiwicHVzaCIsIm5hbWUiLCJmbiIsIm9wdGlvbnMiLCJhZGRBc3luY1Rlc3QiLCJNb2Rlcm5penIiLCJwcm90b3R5cGUiLCJyIiwiZG9jdW1lbnRFbGVtZW50IiwiYyIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJhIiwiaSIsImhhc093blByb3BlcnR5IiwiYWxpYXNlcyIsImxlbmd0aCIsInNwbGl0IiwiQm9vbGVhbiIsImpvaW4iLCJjbGFzc05hbWUiLCJiYXNlVmFsIiwiUmVnRXhwIiwicmVwbGFjZSIsImQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImRldmljZW1vdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJjaGFydEoiLCJjaGFydEwiLCJqYWNvYk1heCIsImxpc2FNYXgiLCJhbm5vdGF0aW9uSiIsImlkIiwibGFiZWxzIiwidGV4dCIsInBvaW50IiwieCIsInkiLCJ4QXhpcyIsInlBeGlzIiwib3ZlcmZsb3ciLCJhbmltYXRpb24iLCJkZWZlciIsImFubm90YXRpb25MIiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIlR3b1N0ZXAiLCJjYWxsIiwibSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicCIsInZhbHVlIiwiaW5kZXhPZiIsIndyaXRhYmxlIiwia2V5IiwiVHlwZUVycm9yIiwiaW5zdGFuY2VzIiwiZmlsdGVyIiwiZW5hYmxlZCIsImVsZW1lbnRzIiwibmFycmF0aXZlIiwib25DaGFuZ2UiLCJBcnJheSIsInNsaWNlIiwib2Zmc2V0IiwiZG93biIsInVwIiwic2V0V2F5cG9pbnRzIiwiZWxlbWVudCIsImluZGV4IiwiZ29UbyIsImNvbnRpbnVvdXMiLCJ3YXlwb2ludHMiLCJzdGljayIsIiQiLCJmaXhUbyIsIndyYXBJbm5lciIsInN0aWNreSIsImZpbmQiLCJzZXRLZXlib2FyZCIsInJlZ2lzdGVyIiwic2V0SW50ZXJ2YWwiLCJXYXlwb2ludCIsInJlZnJlc2hBbGwiLCJpc1ZhbGlkSW5kZXgiLCJkaXJlY3Rpb24iLCJlcSIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJkaXNhYmxlV2F5cG9pbnRzIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInRvcCIsInByb21pc2UiLCJ0aGVuIiwiZW5hYmxlV2F5cG9pbnRzIiwiRGVmZXJyZWQiLCJyZXNvbHZlIiwiYXJndW1lbnRzIiwibWFwIiwiaGFuZGxlciIsImtleWRvd24iLCJkaXNhYmxlZCIsImtleUNvZGUiLCJnZXRBY3RpdmVJbnN0YW5jZXMiLCJ0YXJnZXQiLCJib2R5IiwibWV0YUtleSIsInByZXZlbnREZWZhdWx0IiwiY29uY2F0IiwiYXBwbHkiLCJmb3JFYWNoIiwiZGlzYWJsZSIsImVuYWJsZSIsInRzIiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZW50IiwicXVlcnlTZWxlY3RvciIsImZhZGVPdXQiLCJmYWRlSW4iLCJ1cGRhdGUiLCJzZXJpZXMiLCJkYXRhIiwicmVtb3ZlQW5ub3RhdGlvbiIsInBsb3RCYW5kcyIsImZyb20iLCJ0byIsImFkZEFubm90YXRpb24iLCJyZXF1aXJlanMiLCJyZXF1aXJlIiwiZHJhd0hpZ2hjaGFydHMiLCJIaWdoY2hhcnRzIiwiY2hhcnQiLCJ0eXBlIiwic3R5bGVkTW9kZSIsInNwYWNpbmdCb3R0b20iLCJzcGFjaW5nUmlnaHQiLCJzcGFjaW5nTGVmdCIsInNwYWNpbmdUb3AiLCJkdXJhdGlvbiIsInRpdGxlIiwicGxvdE9wdGlvbnMiLCJncm91cFBhZGRpbmciLCJsZWdlbmQiLCJzdHlsZSIsIndoaXRlU3BhY2UiLCJ0aWNrTGVuZ3RoIiwidXNlSFRNTCIsImZvcm1hdCIsInN0ZXAiLCJhbGlnbiIsInRpY2tBbW91bnQiLCJ0aWNrUG9zaXRpb24iLCJtYXgiLCJncmlkWkluZGV4IiwiY3JlZGl0cyIsInRvb2x0aXAiLCJyZXNwb25zaXZlIiwicnVsZXMiLCJjb25kaXRpb24iLCJtYXhXaWR0aCIsImNoYXJ0T3B0aW9ucyIsInJldmVyc2VkIiwic2V0T3B0aW9ucyIsImxhbmciLCJ0aG91c2FuZHNTZXAiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdsb2JhbCIsInJlcSIsImhlYWQiLCJiYXNlRWxlbWVudCIsImRhdGFNYWluIiwic3JjIiwiaW50ZXJhY3RpdmVTY3JpcHQiLCJjdXJyZW50bHlBZGRpbmdTY3JpcHQiLCJtYWluU2NyaXB0Iiwic3ViUGF0aCIsInZlcnNpb24iLCJjb21tZW50UmVnRXhwIiwiY2pzUmVxdWlyZVJlZ0V4cCIsImpzU3VmZml4UmVnRXhwIiwiY3VyckRpclJlZ0V4cCIsIm9wIiwib3N0cmluZyIsInRvU3RyaW5nIiwiaGFzT3duIiwiaXNCcm93c2VyIiwibmF2aWdhdG9yIiwiaXNXZWJXb3JrZXIiLCJpbXBvcnRTY3JpcHRzIiwicmVhZHlSZWdFeHAiLCJwbGF0Zm9ybSIsImRlZkNvbnRleHROYW1lIiwiaXNPcGVyYSIsIm9wZXJhIiwiY29udGV4dHMiLCJjZmciLCJnbG9iYWxEZWZRdWV1ZSIsInVzZUludGVyYWN0aXZlIiwiY29tbWVudFJlcGxhY2UiLCJtYXRjaCIsInNpbmdsZVByZWZpeCIsImlzRnVuY3Rpb24iLCJpdCIsImlzQXJyYXkiLCJlYWNoIiwiYXJ5IiwiZnVuYyIsImVhY2hSZXZlcnNlIiwiaGFzUHJvcCIsIm9iaiIsInByb3AiLCJnZXRPd24iLCJlYWNoUHJvcCIsIm1peGluIiwic291cmNlIiwiZm9yY2UiLCJkZWVwU3RyaW5nTWl4aW4iLCJiaW5kIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZGVmYXVsdE9uRXJyb3IiLCJlcnIiLCJnZXRHbG9iYWwiLCJnIiwicGFydCIsIm1ha2VFcnJvciIsIm1zZyIsInJlcXVpcmVNb2R1bGVzIiwiRXJyb3IiLCJyZXF1aXJlVHlwZSIsIm9yaWdpbmFsRXJyb3IiLCJ1bmRlZmluZWQiLCJkZXBzIiwiY2FsbGJhY2siLCJlcnJiYWNrIiwib3B0aW9uYWwiLCJjb250ZXh0IiwiY29uZmlnIiwiY29udGV4dE5hbWUiLCJuZXdDb250ZXh0IiwiY29uZmlndXJlIiwibmV4dFRpY2siLCJqc0V4dFJlZ0V4cCIsImN0eCIsInBhcmVudE5vZGUiLCJvbkVycm9yIiwiY3JlYXRlTm9kZSIsIm1vZHVsZU5hbWUiLCJ1cmwiLCJub2RlIiwieGh0bWwiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFbGVtZW50Iiwic2NyaXB0VHlwZSIsImNoYXJzZXQiLCJhc3luYyIsImxvYWQiLCJzZXRBdHRyaWJ1dGUiLCJhdHRhY2hFdmVudCIsIm9uU2NyaXB0TG9hZCIsIm9uU2NyaXB0RXJyb3IiLCJvbk5vZGVDcmVhdGVkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJjb21wbGV0ZUxvYWQiLCJza2lwRGF0YU1haW4iLCJzY3JpcHQiLCJnZXRBdHRyaWJ1dGUiLCJiYXNlVXJsIiwicG9wIiwidGVzdCIsImRlcCIsImdldEludGVyYWN0aXZlU2NyaXB0IiwiZGVmUXVldWUiLCJkZWZRdWV1ZU1hcCIsImpRdWVyeSIsImV4ZWMiLCJldmFsIiwiaW5DaGVja0xvYWRlZCIsIk1vZHVsZSIsImhhbmRsZXJzIiwiY2hlY2tMb2FkZWRUaW1lb3V0SWQiLCJ3YWl0U2Vjb25kcyIsInBhdGhzIiwiYnVuZGxlcyIsInBrZ3MiLCJzaGltIiwicmVnaXN0cnkiLCJlbmFibGVkUmVnaXN0cnkiLCJ1bmRlZkV2ZW50cyIsImRlZmluZWQiLCJ1cmxGZXRjaGVkIiwiYnVuZGxlc01hcCIsInJlcXVpcmVDb3VudGVyIiwidW5ub3JtYWxpemVkQ291bnRlciIsIm5vcm1hbGl6ZSIsImJhc2VOYW1lIiwiYXBwbHlNYXAiLCJtYXBWYWx1ZSIsIm5hbWVQYXJ0cyIsImoiLCJuYW1lU2VnbWVudCIsImxhc3RJbmRleCIsImZvdW5kTWFwIiwiZm91bmRJIiwiZm91bmRTdGFyTWFwIiwic3RhckkiLCJiYXNlUGFydHMiLCJzdGFyTWFwIiwibm9kZUlkQ29tcGF0IiwiY2hhckF0Iiwic3BsaWNlIiwidHJpbURvdHMiLCJvdXRlckxvb3AiLCJyZW1vdmVTY3JpcHQiLCJzY3JpcHROb2RlIiwicmVtb3ZlQ2hpbGQiLCJoYXNQYXRoRmFsbGJhY2siLCJwYXRoQ29uZmlnIiwic2hpZnQiLCJ1bmRlZiIsIm1ha2VSZXF1aXJlIiwic2tpcE1hcCIsInNwbGl0UHJlZml4IiwicHJlZml4Iiwic3Vic3RyaW5nIiwibWFrZU1vZHVsZU1hcCIsInBhcmVudE1vZHVsZU1hcCIsImlzTm9ybWFsaXplZCIsInBsdWdpbk1vZHVsZSIsInN1ZmZpeCIsInBhcmVudE5hbWUiLCJvcmlnaW5hbE5hbWUiLCJpc0RlZmluZSIsIm5vcm1hbGl6ZWROYW1lIiwibmFtZVRvVXJsIiwicGFyZW50TWFwIiwidW5ub3JtYWxpemVkIiwiZ2V0TW9kdWxlIiwiZGVwTWFwIiwibW9kIiwiZGVmaW5lRW1pdENvbXBsZXRlIiwiZXJyb3IiLCJpZHMiLCJub3RpZmllZCIsImV2ZW50cyIsImVtaXQiLCJ0YWtlR2xvYmFsUXVldWUiLCJxdWV1ZUl0ZW0iLCJjbGVhblJlZ2lzdHJ5IiwiY2hlY2tMb2FkZWQiLCJ1c2luZ1BhdGhGYWxsYmFjayIsIndhaXRJbnRlcnZhbCIsImV4cGlyZWQiLCJzdGFydFRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsIm5vTG9hZHMiLCJyZXFDYWxscyIsInN0aWxsTG9hZGluZyIsIm5lZWRDeWNsZUNoZWNrIiwibW9kSWQiLCJpbml0ZWQiLCJmZXRjaGVkIiwiYnJlYWtDeWNsZSIsInRyYWNlZCIsInByb2Nlc3NlZCIsImRlcE1hcHMiLCJkZXBJZCIsImRlcE1hdGNoZWQiLCJkZWZpbmVEZXAiLCJjaGVjayIsImNhbGxHZXRNb2R1bGUiLCJhcmdzIiwiaW5pdCIsInJlbW92ZUxpc3RlbmVyIiwiaWVOYW1lIiwiZGV0YWNoRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0U2NyaXB0RGF0YSIsImV2dCIsImN1cnJlbnRUYXJnZXQiLCJzcmNFbGVtZW50IiwiaW50YWtlRGVmaW5lcyIsInVzaW5nRXhwb3J0cyIsInVyaSIsImRlcEV4cG9ydHMiLCJwbHVnaW5NYXBzIiwiZGVwQ291bnQiLCJmYWN0b3J5IiwiaWdub3JlIiwiZmV0Y2giLCJjYWxsUGx1Z2luIiwiZW5hYmxlQnVpbGRDYWxsYmFjayIsImVuYWJsaW5nIiwiY2pzTW9kdWxlIiwiZGVmaW5pbmciLCJleGVjQ2IiLCJyZXF1aXJlTWFwIiwib25SZXNvdXJjZUxvYWQiLCJyZXNMb2FkTWFwcyIsIm5vcm1hbGl6ZWRNYXAiLCJkZWZpbmVFbWl0dGVkIiwicGx1Z2luTWFwIiwicGx1Z2luIiwibm9ybWFsaXplZE1vZCIsImJ1bmRsZUlkIiwibG9jYWxSZXF1aXJlIiwiZnJvbVRleHQiLCJ0ZXh0QWx0IiwibW9kdWxlTWFwIiwiaGFzSW50ZXJhY3RpdmUiLCJ1bmRlZmVkIiwiY2IiLCJjYnMiLCJ1cmxBcmdzIiwib2JqcyIsInYiLCJleHBvcnRzRm4iLCJtYWtlU2hpbUV4cG9ydHMiLCJwYWNrYWdlcyIsInBrZ09iaiIsImxvY2F0aW9uIiwibWFpbiIsInJldCIsInJlbE1hcCIsInJlcXVpcmVNb2QiLCJfX3JlcXVpcmVKc0J1aWxkIiwidG9VcmwiLCJtb2R1bGVOYW1lUGx1c0V4dCIsImV4dCIsImxhc3RJbmRleE9mIiwic2VnbWVudCIsInNwZWNpZmllZCIsImZvdW5kIiwic2hFeHBvcnRzIiwiZW5mb3JjZURlZmluZSIsInNraXBFeHQiLCJzeW1zIiwicGFyZW50UGF0aCIsInBrZ01haW4iLCJwYXJlbnRzIl0sIm1hcHBpbmdzIjoiQ0FRQSxTQUFBQSxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFILEVBQUFDLEdBQUEsY0FBQUQsSUFBQUMsRUFBQSxJQUFBRyxFQUFBLEdBQUFDLEVB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V0FDQSxPQUFBUSxrQkFBQThGLElBR0E5RixvQkF4OERBLENBc2xFQTVMLEtBQUEsb0JBQUFDLGdCQUFBc1AsRUFBQXRQIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhZGRzIHNvY2lhbCBjbGFzcyB0byBnZXQgc29jaWFsIGNoYXJ0XG4vLyBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjaGFydC1hcmVhXCIpO1xuLy8gZm9yKHZhciBpID0gMDsgaSA8IGVsZW1lbnQubGVuZ3RoOyBpKyspXG4vLyB7XG4vLyAgICAgZWxlbWVudFtpXS5jbGFzc05hbWUgKz0gXCIgc29jaWFsXCI7XG4vLyB9XG4vKiEgbW9kZXJuaXpyIDMuNi4wIChDdXN0b20gQnVpbGQpIHwgTUlUICpcbiAqIGh0dHBzOi8vbW9kZXJuaXpyLmNvbS9kb3dubG9hZC8/LWRldmljZW1vdGlvbl9kZXZpY2VvcmllbnRhdGlvbi1zZXRjbGFzc2VzICEqL1xuICFmdW5jdGlvbihlLG4sbyl7ZnVuY3Rpb24gcyhlLG4pe3JldHVybiB0eXBlb2YgZT09PW59ZnVuY3Rpb24gYSgpe3ZhciBlLG4sbyxhLGksbCxyO2Zvcih2YXIgYyBpbiBmKWlmKGYuaGFzT3duUHJvcGVydHkoYykpe2lmKGU9W10sbj1mW2NdLG4ubmFtZSYmKGUucHVzaChuLm5hbWUudG9Mb3dlckNhc2UoKSksbi5vcHRpb25zJiZuLm9wdGlvbnMuYWxpYXNlcyYmbi5vcHRpb25zLmFsaWFzZXMubGVuZ3RoKSlmb3Iobz0wO288bi5vcHRpb25zLmFsaWFzZXMubGVuZ3RoO28rKyllLnB1c2gobi5vcHRpb25zLmFsaWFzZXNbb10udG9Mb3dlckNhc2UoKSk7Zm9yKGE9cyhuLmZuLFwiZnVuY3Rpb25cIik/bi5mbigpOm4uZm4saT0wO2k8ZS5sZW5ndGg7aSsrKWw9ZVtpXSxyPWwuc3BsaXQoXCIuXCIpLDE9PT1yLmxlbmd0aD9Nb2Rlcm5penJbclswXV09YTooIU1vZGVybml6cltyWzBdXXx8TW9kZXJuaXpyW3JbMF1daW5zdGFuY2VvZiBCb29sZWFufHwoTW9kZXJuaXpyW3JbMF1dPW5ldyBCb29sZWFuKE1vZGVybml6cltyWzBdXSkpLE1vZGVybml6cltyWzBdXVtyWzFdXT1hKSx0LnB1c2goKGE/XCJcIjpcIm5vLVwiKStyLmpvaW4oXCItXCIpKX19ZnVuY3Rpb24gaShlKXt2YXIgbj1yLmNsYXNzTmFtZSxvPU1vZGVybml6ci5fY29uZmlnLmNsYXNzUHJlZml4fHxcIlwiO2lmKGMmJihuPW4uYmFzZVZhbCksTW9kZXJuaXpyLl9jb25maWcuZW5hYmxlSlNDbGFzcyl7dmFyIHM9bmV3IFJlZ0V4cChcIihefFxcXFxzKVwiK28rXCJuby1qcyhcXFxcc3wkKVwiKTtuPW4ucmVwbGFjZShzLFwiJDFcIitvK1wianMkMlwiKX1Nb2Rlcm5penIuX2NvbmZpZy5lbmFibGVDbGFzc2VzJiYobis9XCIgXCIrbytlLmpvaW4oXCIgXCIrbyksYz9yLmNsYXNzTmFtZS5iYXNlVmFsPW46ci5jbGFzc05hbWU9bil9dmFyIHQ9W10sZj1bXSxsPXtfdmVyc2lvbjpcIjMuNi4wXCIsX2NvbmZpZzp7Y2xhc3NQcmVmaXg6XCJcIixlbmFibGVDbGFzc2VzOiEwLGVuYWJsZUpTQ2xhc3M6ITAsdXNlUHJlZml4ZXM6ITB9LF9xOltdLG9uOmZ1bmN0aW9uKGUsbil7dmFyIG89dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bihvW2VdKX0sMCl9LGFkZFRlc3Q6ZnVuY3Rpb24oZSxuLG8pe2YucHVzaCh7bmFtZTplLGZuOm4sb3B0aW9uczpvfSl9LGFkZEFzeW5jVGVzdDpmdW5jdGlvbihlKXtmLnB1c2goe25hbWU6bnVsbCxmbjplfSl9fSxNb2Rlcm5penI9ZnVuY3Rpb24oKXt9O01vZGVybml6ci5wcm90b3R5cGU9bCxNb2Rlcm5penI9bmV3IE1vZGVybml6cixNb2Rlcm5penIuYWRkVGVzdChcImRldmljZW1vdGlvblwiLFwiRGV2aWNlTW90aW9uRXZlbnRcImluIGUpLE1vZGVybml6ci5hZGRUZXN0KFwiZGV2aWNlb3JpZW50YXRpb25cIixcIkRldmljZU9yaWVudGF0aW9uRXZlbnRcImluIGUpO3ZhciByPW4uZG9jdW1lbnRFbGVtZW50LGM9XCJzdmdcIj09PXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTthKCksaSh0KSxkZWxldGUgbC5hZGRUZXN0LGRlbGV0ZSBsLmFkZEFzeW5jVGVzdDtmb3IodmFyIGQ9MDtkPE1vZGVybml6ci5fcS5sZW5ndGg7ZCsrKU1vZGVybml6ci5fcVtkXSgpO2UuTW9kZXJuaXpyPU1vZGVybml6cn0od2luZG93LGRvY3VtZW50KTtcblxuIFxuXG4gIGlmIChNb2Rlcm5penIuZGV2aWNlbW90aW9uKSB7XG4gICAgLy8gc3VwcG9ydGVkXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3VwcG9ydGVkXCIpXG4gIH0gZWxzZSB7XG4gICAgLy8gbm90LXN1cHBvcnRlZFxuICAgIGNvbnNvbGUubG9nKFwibm90IHN1cHBvcnRlZFwiKVxuICB9XG5cbmxldCBjaGFydEosXG4gICAgY2hhcnRMLFxuICAgIGphY29iTWF4ID0gMzQyMCxcbiAgICBsaXNhTWF4ID0gMzA0MDtcblxubGV0IGFubm90YXRpb25KID0ge1xuICAgIGlkOiAnai1hbm5vJyxcbiAgICBsYWJlbHM6IFt7XG4gICAgICAgIHRleHQ6ICc4NCUgc3BlbnQnLFxuICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDE5NzksXG4gICAgICAgICAgICB4QXhpczogMCxcbiAgICAgICAgICAgIHlBeGlzOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHk6IDE1LFxuICAgICAgICBvdmVyZmxvdzogJ2FsbG93JyxcbiAgICB9XSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgZGVmZXI6IDEwXG4gICAgfVxufVxuXG5sZXQgYW5ub3RhdGlvbkwgPSB7XG4gICAgaWQ6ICdsLWFubm8nLFxuICAgIGxhYmVsczogW3tcbiAgICAgICAgdGV4dDogJzc1JSBzcGVudCcsXG4gICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMTkwMyxcbiAgICAgICAgICAgIHhBeGlzOiAwLFxuICAgICAgICAgICAgeUF4aXM6IDBcbiAgICAgICAgfSxcbiAgICAgICAgeTogMTUsXG4gICAgICAgIG92ZXJmbG93OiAnYWxsb3cnLFxuICAgIH1dLFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICBkZWZlcjogMTBcbiAgICB9XG59XG5cblxuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJUd29TdGVwXCIsW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5Ud29TdGVwPXQoKTplLlR3b1N0ZXA9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoaSl7aWYobltpXSlyZXR1cm4gbltpXS5leHBvcnRzO3ZhciBvPW5baV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHQpLG8ubD0hMCxvLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIHQubT1lLHQuYz1uLHQuaT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdC5kPWZ1bmN0aW9uKGUsbixpKXt0Lm8oZSxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Oml9KX0sdC5uPWZ1bmN0aW9uKGUpe3ZhciBuPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQobixcImFcIixuKSxufSx0Lm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHQucD1cIlwiLHQodC5zPTIpfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7dmFyIHQ9WzQwLDMyLDM5LDM0XSxuPVszNywzOCwzM107cmV0dXJuIHQuaW5kZXhPZihlKT4tMT8xOm4uaW5kZXhPZihlKT4tMT8tMTowfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1pLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpLHRoaXMuaW5zdGFuY2VzPVtdfXJldHVybiBvKGUsW3trZXk6XCJyZWdpc3RlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluc3RhbmNlcy5wdXNoKGUpLHRoaXN9fSx7a2V5OlwiZ2V0QWN0aXZlSW5zdGFuY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVuYWJsZWR9KX19XSksZX0oKTt0LmRlZmF1bHQ9cixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPW4oMCksYT1pKHMpLHU9bigxKSxmPWkodSksbD1uZXcgZi5kZWZhdWx0LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2Z1bmN0aW9uIG4oZSl7aWYoXCJ1cFwiPT1lKXt2YXIgdD1hLmVsZW1lbnRzLmluZGV4T2YodGhpcy5lbGVtZW50KTt0IT09dGhpcy5pbmRleCYmYS5nb1RvKHQsITEsZSl9fWZ1bmN0aW9uIGkoZSl7aWYoXCJkb3duXCI9PWUpe3ZhciB0PWEuZWxlbWVudHMuaW5kZXhPZih0aGlzLmVsZW1lbnQpO3QhPT10aGlzLmluZGV4JiZhLmdvVG8odCwhMSxlKX19aWYobyh0aGlzLGUpLDA9PT10LmVsZW1lbnRzLmxlbmd0aCl0aHJvd1wiRWxlbWVudHMgYXJyYXkgaXMgZW1wdHlcIjtpZih0Lm5hcnJhdGl2ZSl7aWYodC5lbGVtZW50cy5sZW5ndGghPT10Lm5hcnJhdGl2ZS5sZW5ndGgpdGhyb3dcIkVsZW1lbnRzIGFuZCBuYXJyYXRpdmUgYXJlIGRpZmZlcmVudCBsZW5ndGhzXCI7aWYoIXQubmFycmF0aXZlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBlfSkubGVuZ3RoPT09ITEpdGhyb3dcIk5hcnJhdGl2ZSBjb250YWlucyBub24tZnVuY3Rpb25zXCI7dGhpcy5uYXJyYXRpdmU9dC5uYXJyYXRpdmV9dGhpcy5vbkNoYW5nZT10Lm9uQ2hhbmdlLHRoaXMuZWxlbWVudHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC5lbGVtZW50cyksdGhpcy5lbmFibGVkPSEwLHRoaXMub2Zmc2V0PXQuaGFzT3duUHJvcGVydHkoXCJvZmZzZXRcIik/dC5vZmZzZXQ6e2Rvd246XCI1MCVcIix1cDpcIjBcIn07dmFyIHI9dGhpcy5zZXRXYXlwb2ludHModGhpcy5lbGVtZW50cyxpLHQuY29udGludW91cyx0aGlzLm9mZnNldC5kb3duKSxzPXRoaXMuc2V0V2F5cG9pbnRzKHRoaXMuZWxlbWVudHMsbix0LmNvbnRpbnVvdXMsdGhpcy5vZmZzZXQudXApO2lmKHRoaXMud2F5cG9pbnRzPVtyLHNdLHQuc3RpY2spe2lmKHZvaWQgMD09PSQoKS5maXhUbyl0aHJvd1wiZml4VG8gaXMgbm90IHByZXNlbnQgb24gdGhlIHBhZ2UsIG9yIG1heSBoYXZlIGJlZW4gbG9hZGVkIGluIGJlZm9yZSBqUXVlcnkuXCI7JCh0LnN0aWNrKS53cmFwSW5uZXIoJzxkaXYgY2xhc3M9XCJ0d28tc3RlcC1zdGlja3ktd3JhcHBlclwiPjwvZGl2PicpLHRoaXMuc3RpY2t5PSQodC5zdGljaykuZmluZChcIi50d28tc3RlcC1zdGlja3ktd3JhcHBlclwiKS5maXhUbygkKHQuc3RpY2spKX10aGlzLnNldEtleWJvYXJkKCksdGhpcy5pbmRleD0tMSxsLnJlZ2lzdGVyKHRoaXMpLHNldEludGVydmFsKGZ1bmN0aW9uKCl7V2F5cG9pbnQucmVmcmVzaEFsbCgpfSwxZTMpO3ZhciBhPXRoaXN9cmV0dXJuIHIoZSxbe2tleTpcImdvVG9cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcztpZih0aGlzLmlzVmFsaWRJbmRleChlKT09PSExKXRocm93IGUrXCIgaXMgbm90IGEgdmFsaWQgaW5kZXguIE11c3QgYmUgYmV0d2VlbiAwIGFuZCBcIisodGhpcy5lbGVtZW50cy5sZW5ndGgtMSkrXCIgKGluY2x1c2l2ZSkuXCI7dGhpcy5uYXJyYXRpdmUmJnRoaXMubmFycmF0aXZlW2VdKHtlbGVtZW50OnRoaXMuZWxlbWVudHNbZV0saW5kZXg6ZSxkaXJlY3Rpb246bn0pLHRoaXMub25DaGFuZ2UmJnRoaXMub25DaGFuZ2Uoe2VsZW1lbnQ6dGhpcy5lbGVtZW50c1tlXSxpbmRleDplLGRpcmVjdGlvbjpufSksdGhpcy5pbmRleD1lO3ZhciBvPSQodGhpcy5lbGVtZW50cykuZXEoZSk7cmV0dXJuICQodGhpcy5lbGVtZW50cykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksby5hZGRDbGFzcyhcImFjdGl2ZVwiKSx0PT09ITA/KHRoaXMuZGlzYWJsZVdheXBvaW50cygpLCQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDpvLm9mZnNldCgpLnRvcC0xMDB9LDUwMCkucHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24oKXtpLmVuYWJsZVdheXBvaW50cygpfSkpOiQuRGVmZXJyZWQoKS5yZXNvbHZlKCl9fSx7a2V5Olwic2V0V2F5cG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdLGk9YXJndW1lbnRzWzNdO3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFdheXBvaW50KHtlbGVtZW50OmUsaGFuZGxlcjp0LGNvbnRpbnVvdXM6bixvZmZzZXQ6aX0pfSl9fSx7a2V5Olwic2V0S2V5Ym9hcmRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7JCh3aW5kb3cpLmtleWRvd24oZnVuY3Rpb24odCl7aWYoZS5kaXNhYmxlZClyZXR1cm4hMDt2YXIgbj0oMCxhLmRlZmF1bHQpKHQua2V5Q29kZSksaT1sLmdldEFjdGl2ZUluc3RhbmNlcygpO2lmKDAhPT1uJiZ0LnRhcmdldD09PWRvY3VtZW50LmJvZHkmJnQubWV0YUtleT09PSExJiYxPT09aS5sZW5ndGgpe3ZhciBvPWUuaW5kZXgrbjtyZXR1cm4hZS5pc1ZhbGlkSW5kZXgobyl8fChlLmdvVG8obywhMCksdC5wcmV2ZW50RGVmYXVsdCgpLCExKX19KX19LHtrZXk6XCJpc1ZhbGlkSW5kZXhcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZTx0aGlzLmVsZW1lbnRzLmxlbmd0aCYmZT4tMX19LHtrZXk6XCJkaXNhYmxlV2F5cG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtbXS5jb25jYXQuYXBwbHkoW10sdGhpcy53YXlwb2ludHMpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZSgpfSl9fSx7a2V5OlwiZW5hYmxlV2F5cG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtbXS5jb25jYXQuYXBwbHkoW10sdGhpcy53YXlwb2ludHMpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5hYmxlKCl9KX19LHtrZXk6XCJkaXNhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwLHRoaXMuZW5hYmxlZD0hMSx0aGlzLmRpc2FibGVXYXlwb2ludHMoKSx0aGlzLnN0aWNreSYmdGhpcy5zdGlja3kuZml4VG8oXCJzdG9wXCIpfX0se2tleTpcImVuYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5lbmFibGVXYXlwb2ludHMoKSx0aGlzLnN0aWNreSYmdGhpcy5zdGlja3kuZml4VG8oXCJzdGFydFwiKX19XSksZX0oKTt0LmRlZmF1bHQ9YyxlLmV4cG9ydHM9dC5kZWZhdWx0fV0pfSk7XG5cbnZhciB0cyA9IG5ldyBUd29TdGVwKHtcbiAgZWxlbWVudHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJlbnQgLm5hcnJhdGl2ZS1pdGVtJyksXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgY29uc29sZS5sb2coJ0l0ZW0gJytldmVudC5pbmRleCk7XG4gIH0sXG4gIHN0aWNrOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFyZW50IC5zdGlja3ktb3V0ZXInKSxcbiAgbmFycmF0aXZlOiBbXG4gICAgLy8gICBmdW5jdGlvbihldmVudCkge1xuICAgIC8vICAgICAkKCcuamFjb2ItaWxsbycpLmZhZGVPdXQoNTAwKTtcbiAgICAvLyAgIH0sXG4gICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICQoJy5saXNhLWlsbG8nKS5mYWRlT3V0KDUwMCk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgJCgnLmxpc2EtaWxsbycpLmZhZGVJbig1MDApO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIC8vIHJlbW92ZSBjYXAgYW5kIGdvd24/XG4gICAgICAgICQoJy5jaGFydC10aXRsZScpLnRleHQoJycpO1xuICAgICAgICAkKCcubW9uZXktaW5mbycpLmZhZGVPdXQoNTAwKTtcbiAgICAgICAgXG5cbiAgICAgICAgY2hhcnRKLnVwZGF0ZSh7XG4gICAgICAgICAgICBzZXJpZXM6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBbMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhcnRMLnVwZGF0ZSh7XG4gICAgICAgICAgICBzZXJpZXM6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBbMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgJCgnLm1vbmV5LWluZm8nKS5mYWRlSW4oNTAwKTtcbiAgICAgICAgJCgnLmNoYXJ0LXRpdGxlJykudGV4dCgnTW9udGhseSBpbmNvbWUnKTtcbiAgICAgICAgJCgnI2phY29icy1tb25leScpLnRleHQoJyQzLDQyMCcpO1xuICAgICAgICAkKCcjbGlzYXMtbW9uZXknKS50ZXh0KCckMywwNDAnKTtcblxuICAgICAgICBjaGFydEoucmVtb3ZlQW5ub3RhdGlvbignai1hbm5vJyk7XG4gICAgICAgIGNoYXJ0TC5yZW1vdmVBbm5vdGF0aW9uKCdsLWFubm8nKTtcblxuICAgICAgICBjaGFydEoudXBkYXRlKHtcbiAgICAgICAgICAgIHNlcmllczoge1xuICAgICAgICAgICAgICAgIGRhdGE6IFtqYWNvYk1heF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5QXhpczoge1xuICAgICAgICAgICAgICAgIHBsb3RCYW5kczogW3sgLy8gbWFyayB0aGUgd2Vla2VuZFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgICAgICAgICAgICB0bzogamFjb2JNYXgsXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYXJ0TC51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogW2xpc2FNYXhdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeUF4aXM6IHtcbiAgICAgICAgICAgICAgICBwbG90QmFuZHM6IFt7IC8vIG1hcmsgdGhlIHdlZWtlbmRcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICAgICAgICAgICAgdG86IGxpc2FNYXgsXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgY2hhcnRKLnJlbW92ZUFubm90YXRpb24oJ2otYW5ubycpO1xuICAgICAgICBjaGFydEwucmVtb3ZlQW5ub3RhdGlvbignbC1hbm5vJyk7XG4gICAgICAgIFxuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICQoJy5jaGFydC10aXRsZScpLnRleHQoJ01vbnRobHkgdGFrZS1ob21lIHBheScpO1xuICAgICAgICAkKCcjamFjb2JzLW1vbmV5JykudGV4dCgnJDMsMDcwJyk7XG4gICAgICAgICQoJyNsaXNhcy1tb25leScpLnRleHQoJyQyLDcwMCcpO1xuXG4gICAgICAgIGNoYXJ0Si5yZW1vdmVBbm5vdGF0aW9uKCdqLWFubm8nKTtcbiAgICAgICAgY2hhcnRMLnJlbW92ZUFubm90YXRpb24oJ2wtYW5ubycpO1xuXG4gICAgICAgIGNoYXJ0Si51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzMwNzBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYXJ0TC51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzI3MDBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICQoJy5jaGFydC10aXRsZScpLnRleHQoJ0FmdGVyIHN0dWRlbnQtbG9hbiBwYXltZW50cycpO1xuICAgICAgICAkKCcjamFjb2JzLW1vbmV5JykudGV4dCgnJDIsNzY0Jyk7XG4gICAgICAgICQoJyNsaXNhcy1tb25leScpLnRleHQoJyQyLDUxMCcpO1xuXG4gICAgICAgIGNoYXJ0Si5yZW1vdmVBbm5vdGF0aW9uKCdqLWFubm8nKTtcbiAgICAgICAgY2hhcnRMLnJlbW92ZUFubm90YXRpb24oJ2wtYW5ubycpO1xuXG4gICAgICAgIGNoYXJ0Si51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzI3NjRdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYXJ0TC51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzI1MTBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICQoJy5jaGFydC10aXRsZScpLnRleHQoJ0FmdGVyIHJlbnQgYW5kIHV0aWxpdGllcycpO1xuICAgICAgICAkKCcjamFjb2JzLW1vbmV5JykudGV4dCgnJDIsMDE5Jyk7XG4gICAgICAgICQoJyNsaXNhcy1tb25leScpLnRleHQoJyQxLDk2NCcpO1xuXG4gICAgICAgIGNoYXJ0Si5yZW1vdmVBbm5vdGF0aW9uKCdqLWFubm8nKTtcbiAgICAgICAgY2hhcnRMLnJlbW92ZUFubm90YXRpb24oJ2wtYW5ubycpO1xuXG4gICAgICAgIGNoYXJ0Si51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzIwMTldXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYXJ0TC51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzE5NjRdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICQoJy5jaGFydC10aXRsZScpLnRleHQoJ0FmdGVyIHRyYW5zcG9ydGF0aW9uIGNvc3RzJyk7XG4gICAgICAgICQoJyNqYWNvYnMtbW9uZXknKS50ZXh0KCckMSw2MzknKTtcbiAgICAgICAgJCgnI2xpc2FzLW1vbmV5JykudGV4dCgnJDEsNjU2Jyk7XG5cbiAgICAgICAgY2hhcnRKLnJlbW92ZUFubm90YXRpb24oJ2otYW5ubycpO1xuICAgICAgICBjaGFydEwucmVtb3ZlQW5ub3RhdGlvbignbC1hbm5vJyk7XG5cbiAgICAgICAgY2hhcnRKLnVwZGF0ZSh7XG4gICAgICAgICAgICBzZXJpZXM6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBbMTYzOV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhcnRMLnVwZGF0ZSh7XG4gICAgICAgICAgICBzZXJpZXM6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBbMTY1Nl1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgJCgnLmNoYXJ0LXRpdGxlJykudGV4dCgnQWZ0ZXIgZ3JvY2VyaWVzIGFuZCBwZXJzb25hbCBjYXJlJyk7XG4gICAgICAgICQoJyNqYWNvYnMtbW9uZXknKS50ZXh0KCckOTMxJyk7XG4gICAgICAgICQoJyNsaXNhcy1tb25leScpLnRleHQoJyQ5NzcnKTtcblxuICAgICAgICBjaGFydEoucmVtb3ZlQW5ub3RhdGlvbignai1hbm5vJyk7XG4gICAgICAgIGNoYXJ0TC5yZW1vdmVBbm5vdGF0aW9uKCdsLWFubm8nKTtcblxuICAgICAgICBjaGFydEoudXBkYXRlKHtcbiAgICAgICAgICAgIHNlcmllczoge1xuICAgICAgICAgICAgICAgIGRhdGE6IFs5MzFdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYXJ0TC51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzk3N11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgJCgnLmNoYXJ0LXRpdGxlJykudGV4dCgnQWZ0ZXIgcmV0aXJlbWVudCBjb250cmlidXRpb25zJyk7XG4gICAgICAgICQoJyNqYWNvYnMtbW9uZXknKS50ZXh0KCckNjYyJyk7XG4gICAgICAgICQoJyNsaXNhcy1tb25leScpLnRleHQoJyQ4MjMnKTtcblxuICAgICAgICBjaGFydEoucmVtb3ZlQW5ub3RhdGlvbignai1hbm5vJyk7XG4gICAgICAgIGNoYXJ0TC5yZW1vdmVBbm5vdGF0aW9uKCdsLWFubm8nKTtcblxuICAgICAgICBjaGFydEoudXBkYXRlKHtcbiAgICAgICAgICAgIHNlcmllczoge1xuICAgICAgICAgICAgICAgIGRhdGE6IFs2NjJdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYXJ0TC51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzgyM11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgJCgnLmNoYXJ0LXRpdGxlJykudGV4dCgnQWZ0ZXIgaGVhbHRoLWNhcmUgZXhwZW5zZXMnKTtcbiAgICAgICAgJCgnI2phY29icy1tb25leScpLnRleHQoJyQ1MzknKTtcbiAgICAgICAgJCgnI2xpc2FzLW1vbmV5JykudGV4dCgnJDc2NicpO1xuXG4gICAgICAgIGNoYXJ0Si5yZW1vdmVBbm5vdGF0aW9uKCdqLWFubm8nKTtcbiAgICAgICAgY2hhcnRMLnJlbW92ZUFubm90YXRpb24oJ2wtYW5ubycpO1xuXG4gICAgICAgIGNoYXJ0Si51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzUzOV1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYXJ0TC51cGRhdGUoe1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZGF0YTogWzc2Nl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICQoJy5jaGFydC10aXRsZScpLnRleHQoJ1JlbWFpbmRlcicpO1xuXG4gICAgICAgIGNoYXJ0Si5hZGRBbm5vdGF0aW9uKGFubm90YXRpb25KKTtcbiAgICAgICAgY2hhcnRMLmFkZEFubm90YXRpb24oYW5ub3RhdGlvbkwpO1xuXG4gICAgfVxuICBdLFxuICBvZmZzZXQ6IHtcbiAgICAgIHVwOiAnNSUnLFxuICAgICAgZG93bjogJzcwJSdcbiAgfVxufSk7XG5cblxuSGlnaGNoYXJ0cy5zZXRPcHRpb25zKHtcbiAgICBsYW5nOiB7XG4gICAgICB0aG91c2FuZHNTZXA6ICcsJ1xuICAgIH1cbn0pO1xuXG5cblxuXG5cblxuZnVuY3Rpb24gZHJhd0hpZ2hjaGFydHMoKSB7XG4gICAgY2hhcnRKID0gSGlnaGNoYXJ0cy5jaGFydCgnY2hhcnQtY29udGFpbmVyLWphY29iJywge1xuICAgICAgICBjaGFydDoge1xuICAgICAgICAgICAgdHlwZTogJ2JhcicsXG4gICAgICAgICAgICBzdHlsZWRNb2RlOiB0cnVlLFxuICAgICAgICAgICAgc3BhY2luZ0JvdHRvbTogMCxcbiAgICAgICAgICAgIHNwYWNpbmdSaWdodDogNTAsXG4gICAgICAgICAgICBzcGFjaW5nTGVmdDogMCxcbiAgICAgICAgICAgIHNwYWNpbmdUb3A6IDAsXG4gICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICB0ZXh0OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHNlcmllczogW3tcbiAgICAgICAgICAgIGRhdGE6IFswXVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gZm9yIGJhciBjaGFydHMgb25seVxuICAgICAgICBwbG90T3B0aW9uczoge1xuICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgZ3JvdXBQYWRkaW5nOiAtMlxuICAgICAgICAgICAgfSBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gZm9yIGxpbmUgY2hhcnRzIG9ubHlcbiAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB4QXhpczoge1xuICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGlja0xlbmd0aDogNSxcbiAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsXG4gICAgICAgIH0sXG4gICAgICAgIHlBeGlzOiB7XG4gICAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICB1c2VIVE1MOiB0cnVlLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnYWxsb3cnLFxuICAgICAgICAgICAgICAgIGZvcm1hdDonJHt0ZXh0fScsXG4gICAgICAgICAgICAgICAgc3RlcDogNCxcbiAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDE4XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGlja0Ftb3VudDogNSxcbiAgICAgICAgICAgIC8vIHdpZHRoOiAwLFxuICAgICAgICAgICAgdGlja0xlbmd0aDogMjUsXG4gICAgICAgICAgICB0aWNrUG9zaXRpb246ICdpbnNpZGUnLFxuICAgICAgICAgICAgbWF4OiA0MDAwLFxuICAgICAgICAgICAgZ3JpZFpJbmRleDogNVxuICAgICAgICAgICAgLy8gYWRkcyBjb21tYXMgdG8gdGhvdXNhbmRzXG4gICAgICAgICAgICAvLyBmb3JtYXR0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gSGlnaGNoYXJ0cy5udW1iZXJGb3JtYXQodGhpcy52YWx1ZSwwLCcuJywnLCcpO1xuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgfSxcbiAgICAgICAgY3JlZGl0czoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAgICAgcnVsZXM6IFt7XG4gICAgICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogMjUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhcnRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2luZ1JpZ2h0OiAyMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICB9KSxcbiAgICBjaGFydEwgPSBIaWdoY2hhcnRzLmNoYXJ0KCdjaGFydC1jb250YWluZXItbGlzYScsIHtcbiAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdiYXInLFxuICAgICAgICAgICAgc3R5bGVkTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgIHNwYWNpbmdCb3R0b206IDAsXG4gICAgICAgICAgICBzcGFjaW5nUmlnaHQ6IDAsXG4gICAgICAgICAgICBzcGFjaW5nTGVmdDogNTAsXG4gICAgICAgICAgICBzcGFjaW5nVG9wOiAwLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgdGV4dDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBzZXJpZXM6IFt7XG4gICAgICAgICAgICBkYXRhOiBbMF1cbiAgICAgICAgfV0sXG4gICAgICAgIC8vIGZvciBiYXIgY2hhcnRzIG9ubHlcbiAgICAgICAgcGxvdE9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlcmllczoge1xuICAgICAgICAgICAgICAgIGdyb3VwUGFkZGluZzogLTJcbiAgICAgICAgICAgIH0gXG4gICAgICAgIH0sXG4gICAgICAgIC8vIGZvciBsaW5lIGNoYXJ0cyBvbmx5XG4gICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgeEF4aXM6IHtcbiAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpY2tMZW5ndGg6IDUsXG4gICAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLFxuICAgICAgICB9LFxuICAgICAgICB5QXhpczoge1xuICAgICAgICAgICAgdGl0bGU6IGZhbHNlLFxuICAgICAgICAgICAgcmV2ZXJzZWQ6IHRydWUsXG4gICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICB1c2VIVE1MOiB0cnVlLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnYWxsb3cnLFxuICAgICAgICAgICAgICAgIGZvcm1hdDonJHt0ZXh0fScsXG4gICAgICAgICAgICAgICAgc3RlcDogNCxcbiAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDE4XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGlja0Ftb3VudDogNSxcbiAgICAgICAgICAgIC8vIHdpZHRoOiAwLFxuICAgICAgICAgICAgdGlja0xlbmd0aDogMjUsXG4gICAgICAgICAgICB0aWNrUG9zaXRpb246ICdpbnNpZGUnLFxuICAgICAgICAgICAgbWF4OiA0MDAwLFxuICAgICAgICAgICAgZ3JpZFpJbmRleDogNVxuICAgICAgICAgICAgLy8gYWRkcyBjb21tYXMgdG8gdGhvdXNhbmRzXG4gICAgICAgICAgICAvLyBmb3JtYXR0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gSGlnaGNoYXJ0cy5udW1iZXJGb3JtYXQodGhpcy52YWx1ZSwwLCcuJywnLCcpO1xuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgfSxcbiAgICAgICAgY3JlZGl0czoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAgICAgcnVsZXM6IFt7XG4gICAgICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogMjUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhcnRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2luZ0xlZnQ6IDIwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICBkcmF3SGlnaGNoYXJ0cygpO1xufSBlbHNlIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBkcmF3SGlnaGNoYXJ0cyk7XG59IiwiLyoqIHZpbTogZXQ6dHM9NDpzdz00OnN0cz00XG4gKiBAbGljZW5zZSBSZXF1aXJlSlMgMi4zLjYgQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMuXG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSwgaHR0cHM6Ly9naXRodWIuY29tL3JlcXVpcmVqcy9yZXF1aXJlanMvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICovXG4vL05vdCB1c2luZyBzdHJpY3Q6IHVuZXZlbiBzdHJpY3Qgc3VwcG9ydCBpbiBicm93c2VycywgIzM5MiwgYW5kIGNhdXNlc1xuLy9wcm9ibGVtcyB3aXRoIHJlcXVpcmVqcy5leGVjKCkvdHJhbnNwaWxlciBwbHVnaW5zIHRoYXQgbWF5IG5vdCBiZSBzdHJpY3QuXG4vKmpzbGludCByZWdleHA6IHRydWUsIG5vbWVuOiB0cnVlLCBzbG9wcHk6IHRydWUgKi9cbi8qZ2xvYmFsIHdpbmRvdywgbmF2aWdhdG9yLCBkb2N1bWVudCwgaW1wb3J0U2NyaXB0cywgc2V0VGltZW91dCwgb3BlcmEgKi9cblxudmFyIHJlcXVpcmVqcywgcmVxdWlyZSwgZGVmaW5lO1xuKGZ1bmN0aW9uIChnbG9iYWwsIHNldFRpbWVvdXQpIHtcbiAgICB2YXIgcmVxLCBzLCBoZWFkLCBiYXNlRWxlbWVudCwgZGF0YU1haW4sIHNyYyxcbiAgICAgICAgaW50ZXJhY3RpdmVTY3JpcHQsIGN1cnJlbnRseUFkZGluZ1NjcmlwdCwgbWFpblNjcmlwdCwgc3ViUGF0aCxcbiAgICAgICAgdmVyc2lvbiA9ICcyLjMuNicsXG4gICAgICAgIGNvbW1lbnRSZWdFeHAgPSAvXFwvXFwqW1xcc1xcU10qP1xcKlxcL3woW146XCInPV18XilcXC9cXC8uKiQvbWcsXG4gICAgICAgIGNqc1JlcXVpcmVSZWdFeHAgPSAvW14uXVxccypyZXF1aXJlXFxzKlxcKFxccypbXCInXShbXidcIlxcc10rKVtcIiddXFxzKlxcKS9nLFxuICAgICAgICBqc1N1ZmZpeFJlZ0V4cCA9IC9cXC5qcyQvLFxuICAgICAgICBjdXJyRGlyUmVnRXhwID0gL15cXC5cXC8vLFxuICAgICAgICBvcCA9IE9iamVjdC5wcm90b3R5cGUsXG4gICAgICAgIG9zdHJpbmcgPSBvcC50b1N0cmluZyxcbiAgICAgICAgaGFzT3duID0gb3AuaGFzT3duUHJvcGVydHksXG4gICAgICAgIGlzQnJvd3NlciA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCksXG4gICAgICAgIGlzV2ViV29ya2VyID0gIWlzQnJvd3NlciAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICAgIC8vUFMzIGluZGljYXRlcyBsb2FkZWQgYW5kIGNvbXBsZXRlLCBidXQgbmVlZCB0byB3YWl0IGZvciBjb21wbGV0ZVxuICAgICAgICAvL3NwZWNpZmljYWxseS4gU2VxdWVuY2UgaXMgJ2xvYWRpbmcnLCAnbG9hZGVkJywgZXhlY3V0aW9uLFxuICAgICAgICAvLyB0aGVuICdjb21wbGV0ZScuIFRoZSBVQSBjaGVjayBpcyB1bmZvcnR1bmF0ZSwgYnV0IG5vdCBzdXJlIGhvd1xuICAgICAgICAvL3RvIGZlYXR1cmUgdGVzdCB3L28gY2F1c2luZyBwZXJmIGlzc3Vlcy5cbiAgICAgICAgcmVhZHlSZWdFeHAgPSBpc0Jyb3dzZXIgJiYgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnUExBWVNUQVRJT04gMycgP1xuICAgICAgICAgICAgICAgICAgICAgIC9eY29tcGxldGUkLyA6IC9eKGNvbXBsZXRlfGxvYWRlZCkkLyxcbiAgICAgICAgZGVmQ29udGV4dE5hbWUgPSAnXycsXG4gICAgICAgIC8vT2ggdGhlIHRyYWdlZHksIGRldGVjdGluZyBvcGVyYS4gU2VlIHRoZSB1c2FnZSBvZiBpc09wZXJhIGZvciByZWFzb24uXG4gICAgICAgIGlzT3BlcmEgPSB0eXBlb2Ygb3BlcmEgIT09ICd1bmRlZmluZWQnICYmIG9wZXJhLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE9wZXJhXScsXG4gICAgICAgIGNvbnRleHRzID0ge30sXG4gICAgICAgIGNmZyA9IHt9LFxuICAgICAgICBnbG9iYWxEZWZRdWV1ZSA9IFtdLFxuICAgICAgICB1c2VJbnRlcmFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgLy9Db3VsZCBtYXRjaCBzb21ldGhpbmcgbGlrZSAnKS8vY29tbWVudCcsIGRvIG5vdCBsb3NlIHRoZSBwcmVmaXggdG8gY29tbWVudC5cbiAgICBmdW5jdGlvbiBjb21tZW50UmVwbGFjZShtYXRjaCwgc2luZ2xlUHJlZml4KSB7XG4gICAgICAgIHJldHVybiBzaW5nbGVQcmVmaXggfHwgJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbihpdCkge1xuICAgICAgICByZXR1cm4gb3N0cmluZy5jYWxsKGl0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0FycmF5KGl0KSB7XG4gICAgICAgIHJldHVybiBvc3RyaW5nLmNhbGwoaXQpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgaXRlcmF0aW5nIG92ZXIgYW4gYXJyYXkuIElmIHRoZSBmdW5jIHJldHVybnNcbiAgICAgKiBhIHRydWUgdmFsdWUsIGl0IHdpbGwgYnJlYWsgb3V0IG9mIHRoZSBsb29wLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVhY2goYXJ5LCBmdW5jKSB7XG4gICAgICAgIGlmIChhcnkpIHtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyeS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChhcnlbaV0gJiYgZnVuYyhhcnlbaV0sIGksIGFyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBpdGVyYXRpbmcgb3ZlciBhbiBhcnJheSBiYWNrd2FyZHMuIElmIHRoZSBmdW5jXG4gICAgICogcmV0dXJucyBhIHRydWUgdmFsdWUsIGl0IHdpbGwgYnJlYWsgb3V0IG9mIHRoZSBsb29wLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVhY2hSZXZlcnNlKGFyeSwgZnVuYykge1xuICAgICAgICBpZiAoYXJ5KSB7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGZvciAoaSA9IGFyeS5sZW5ndGggLSAxOyBpID4gLTE7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChhcnlbaV0gJiYgZnVuYyhhcnlbaV0sIGksIGFyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzUHJvcChvYmosIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIGhhc093bi5jYWxsKG9iaiwgcHJvcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0T3duKG9iaiwgcHJvcCkge1xuICAgICAgICByZXR1cm4gaGFzUHJvcChvYmosIHByb3ApICYmIG9ialtwcm9wXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDeWNsZXMgb3ZlciBwcm9wZXJ0aWVzIGluIGFuIG9iamVjdCBhbmQgY2FsbHMgYSBmdW5jdGlvbiBmb3IgZWFjaFxuICAgICAqIHByb3BlcnR5IHZhbHVlLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIHRydXRoeSB2YWx1ZSwgdGhlbiB0aGVcbiAgICAgKiBpdGVyYXRpb24gaXMgc3RvcHBlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlYWNoUHJvcChvYmosIGZ1bmMpIHtcbiAgICAgICAgdmFyIHByb3A7XG4gICAgICAgIGZvciAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNQcm9wKG9iaiwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnVuYyhvYmpbcHJvcF0sIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBmdW5jdGlvbiB0byBtaXggaW4gcHJvcGVydGllcyBmcm9tIHNvdXJjZSBpbnRvIHRhcmdldCxcbiAgICAgKiBidXQgb25seSBpZiB0YXJnZXQgZG9lcyBub3QgYWxyZWFkeSBoYXZlIGEgcHJvcGVydHkgb2YgdGhlIHNhbWUgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbih0YXJnZXQsIHNvdXJjZSwgZm9yY2UsIGRlZXBTdHJpbmdNaXhpbikge1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBlYWNoUHJvcChzb3VyY2UsIGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkge1xuICAgICAgICAgICAgICAgIGlmIChmb3JjZSB8fCAhaGFzUHJvcCh0YXJnZXQsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWVwU3RyaW5nTWl4aW4gJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzQXJyYXkodmFsdWUpICYmICFpc0Z1bmN0aW9uKHZhbHVlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRbcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1peGluKHRhcmdldFtwcm9wXSwgdmFsdWUsIGZvcmNlLCBkZWVwU3RyaW5nTWl4aW4pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8vU2ltaWxhciB0byBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCwgYnV0IHRoZSAndGhpcycgb2JqZWN0IGlzIHNwZWNpZmllZFxuICAgIC8vZmlyc3QsIHNpbmNlIGl0IGlzIGVhc2llciB0byByZWFkL2ZpZ3VyZSBvdXQgd2hhdCAndGhpcycgd2lsbCBiZS5cbiAgICBmdW5jdGlvbiBiaW5kKG9iaiwgZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShvYmosIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2NyaXB0cygpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWZhdWx0T25FcnJvcihlcnIpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cblxuICAgIC8vQWxsb3cgZ2V0dGluZyBhIGdsb2JhbCB0aGF0IGlzIGV4cHJlc3NlZCBpblxuICAgIC8vZG90IG5vdGF0aW9uLCBsaWtlICdhLmIuYycuXG4gICAgZnVuY3Rpb24gZ2V0R2xvYmFsKHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZyA9IGdsb2JhbDtcbiAgICAgICAgZWFjaCh2YWx1ZS5zcGxpdCgnLicpLCBmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgZyA9IGdbcGFydF07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGFuIGVycm9yIHdpdGggYSBwb2ludGVyIHRvIGFuIFVSTCB3aXRoIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIHRoZSBlcnJvciBJRCB0aGF0IG1hcHMgdG8gYW4gSUQgb24gYSB3ZWIgcGFnZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBodW1hbiByZWFkYWJsZSBlcnJvci5cbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBbZXJyXSB0aGUgb3JpZ2luYWwgZXJyb3IsIGlmIHRoZXJlIGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtFcnJvcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYWtlRXJyb3IoaWQsIG1zZywgZXJyLCByZXF1aXJlTW9kdWxlcykge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcihtc2cgKyAnXFxuaHR0cHM6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjJyArIGlkKTtcbiAgICAgICAgZS5yZXF1aXJlVHlwZSA9IGlkO1xuICAgICAgICBlLnJlcXVpcmVNb2R1bGVzID0gcmVxdWlyZU1vZHVsZXM7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGUub3JpZ2luYWxFcnJvciA9IGVycjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRlZmluZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy9JZiBhIGRlZmluZSBpcyBhbHJlYWR5IGluIHBsYXkgdmlhIGFub3RoZXIgQU1EIGxvYWRlcixcbiAgICAgICAgLy9kbyBub3Qgb3ZlcndyaXRlLlxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZXF1aXJlanMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHJlcXVpcmVqcykpIHtcbiAgICAgICAgICAgIC8vRG8gbm90IG92ZXJ3cml0ZSBhbiBleGlzdGluZyByZXF1aXJlanMgaW5zdGFuY2UuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2ZnID0gcmVxdWlyZWpzO1xuICAgICAgICByZXF1aXJlanMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy9BbGxvdyBmb3IgYSByZXF1aXJlIGNvbmZpZyBvYmplY3RcbiAgICBpZiAodHlwZW9mIHJlcXVpcmUgIT09ICd1bmRlZmluZWQnICYmICFpc0Z1bmN0aW9uKHJlcXVpcmUpKSB7XG4gICAgICAgIC8vYXNzdW1lIGl0IGlzIGEgY29uZmlnIG9iamVjdC5cbiAgICAgICAgY2ZnID0gcmVxdWlyZTtcbiAgICAgICAgcmVxdWlyZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdDb250ZXh0KGNvbnRleHROYW1lKSB7XG4gICAgICAgIHZhciBpbkNoZWNrTG9hZGVkLCBNb2R1bGUsIGNvbnRleHQsIGhhbmRsZXJzLFxuICAgICAgICAgICAgY2hlY2tMb2FkZWRUaW1lb3V0SWQsXG4gICAgICAgICAgICBjb25maWcgPSB7XG4gICAgICAgICAgICAgICAgLy9EZWZhdWx0cy4gRG8gbm90IHNldCBhIGRlZmF1bHQgZm9yIG1hcFxuICAgICAgICAgICAgICAgIC8vY29uZmlnIHRvIHNwZWVkIHVwIG5vcm1hbGl6ZSgpLCB3aGljaFxuICAgICAgICAgICAgICAgIC8vd2lsbCBydW4gZmFzdGVyIGlmIHRoZXJlIGlzIG5vIGRlZmF1bHQuXG4gICAgICAgICAgICAgICAgd2FpdFNlY29uZHM6IDcsXG4gICAgICAgICAgICAgICAgYmFzZVVybDogJy4vJyxcbiAgICAgICAgICAgICAgICBwYXRoczoge30sXG4gICAgICAgICAgICAgICAgYnVuZGxlczoge30sXG4gICAgICAgICAgICAgICAgcGtnczoge30sXG4gICAgICAgICAgICAgICAgc2hpbToge30sXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7fVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdHJ5ID0ge30sXG4gICAgICAgICAgICAvL3JlZ2lzdHJ5IG9mIGp1c3QgZW5hYmxlZCBtb2R1bGVzLCB0byBzcGVlZFxuICAgICAgICAgICAgLy9jeWNsZSBicmVha2luZyBjb2RlIHdoZW4gbG90cyBvZiBtb2R1bGVzXG4gICAgICAgICAgICAvL2FyZSByZWdpc3RlcmVkLCBidXQgbm90IGFjdGl2YXRlZC5cbiAgICAgICAgICAgIGVuYWJsZWRSZWdpc3RyeSA9IHt9LFxuICAgICAgICAgICAgdW5kZWZFdmVudHMgPSB7fSxcbiAgICAgICAgICAgIGRlZlF1ZXVlID0gW10sXG4gICAgICAgICAgICBkZWZpbmVkID0ge30sXG4gICAgICAgICAgICB1cmxGZXRjaGVkID0ge30sXG4gICAgICAgICAgICBidW5kbGVzTWFwID0ge30sXG4gICAgICAgICAgICByZXF1aXJlQ291bnRlciA9IDEsXG4gICAgICAgICAgICB1bm5vcm1hbGl6ZWRDb3VudGVyID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJpbXMgdGhlIC4gYW5kIC4uIGZyb20gYW4gYXJyYXkgb2YgcGF0aCBzZWdtZW50cy5cbiAgICAgICAgICogSXQgd2lsbCBrZWVwIGEgbGVhZGluZyBwYXRoIHNlZ21lbnQgaWYgYSAuLiB3aWxsIGJlY29tZVxuICAgICAgICAgKiB0aGUgZmlyc3QgcGF0aCBzZWdtZW50LCB0byBoZWxwIHdpdGggbW9kdWxlIG5hbWUgbG9va3VwcyxcbiAgICAgICAgICogd2hpY2ggYWN0IGxpa2UgcGF0aHMsIGJ1dCBjYW4gYmUgcmVtYXBwZWQuIEJ1dCB0aGUgZW5kIHJlc3VsdCxcbiAgICAgICAgICogYWxsIHBhdGhzIHRoYXQgdXNlIHRoaXMgZnVuY3Rpb24gc2hvdWxkIGxvb2sgbm9ybWFsaXplZC5cbiAgICAgICAgICogTk9URTogdGhpcyBtZXRob2QgTU9ESUZJRVMgdGhlIGlucHV0IGFycmF5LlxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnkgdGhlIGFycmF5IG9mIHBhdGggc2VnbWVudHMuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB0cmltRG90cyhhcnkpIHtcbiAgICAgICAgICAgIHZhciBpLCBwYXJ0O1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcnQgPSBhcnlbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgICAgICAgICAgICAgICBhcnkuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBpIC09IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGF0IHRoZSBzdGFydCwgb3IgcHJldmlvdXMgdmFsdWUgaXMgc3RpbGwgLi4sXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlbSBzbyB0aGF0IHdoZW4gY29udmVydGVkIHRvIGEgcGF0aCBpdCBtYXlcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RpbGwgd29yayB3aGVuIGNvbnZlcnRlZCB0byBhIHBhdGgsIGV2ZW4gdGhvdWdoXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGFuIElEIGl0IGlzIGxlc3MgdGhhbiBpZGVhbC4gSW4gbGFyZ2VyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbGVhc2VzLCBtYXkgYmUgYmV0dGVyIHRvIGp1c3Qga2ljayBvdXQgYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwIHx8IChpID09PSAxICYmIGFyeVsyXSA9PT0gJy4uJykgfHwgYXJ5W2kgLSAxXSA9PT0gJy4uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyeS5zcGxpY2UoaSAtIDEsIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSAtPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIGEgcmVsYXRpdmUgbW9kdWxlIG5hbWUsIGxpa2UgLi9zb21ldGhpbmcsIG5vcm1hbGl6ZSBpdCB0b1xuICAgICAgICAgKiBhIHJlYWwgbmFtZSB0aGF0IGNhbiBiZSBtYXBwZWQgdG8gYSBwYXRoLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSB0aGUgcmVsYXRpdmUgbmFtZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gYmFzZU5hbWUgYSByZWFsIG5hbWUgdGhhdCB0aGUgbmFtZSBhcmcgaXMgcmVsYXRpdmVcbiAgICAgICAgICogdG8uXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYXBwbHlNYXAgYXBwbHkgdGhlIG1hcCBjb25maWcgdG8gdGhlIHZhbHVlLiBTaG91bGRcbiAgICAgICAgICogb25seSBiZSBkb25lIGlmIHRoaXMgbm9ybWFsaXphdGlvbiBpcyBmb3IgYSBkZXBlbmRlbmN5IElELlxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBub3JtYWxpemVkIG5hbWVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZShuYW1lLCBiYXNlTmFtZSwgYXBwbHlNYXApIHtcbiAgICAgICAgICAgIHZhciBwa2dNYWluLCBtYXBWYWx1ZSwgbmFtZVBhcnRzLCBpLCBqLCBuYW1lU2VnbWVudCwgbGFzdEluZGV4LFxuICAgICAgICAgICAgICAgIGZvdW5kTWFwLCBmb3VuZEksIGZvdW5kU3Rhck1hcCwgc3RhckksIG5vcm1hbGl6ZWRCYXNlUGFydHMsXG4gICAgICAgICAgICAgICAgYmFzZVBhcnRzID0gKGJhc2VOYW1lICYmIGJhc2VOYW1lLnNwbGl0KCcvJykpLFxuICAgICAgICAgICAgICAgIG1hcCA9IGNvbmZpZy5tYXAsXG4gICAgICAgICAgICAgICAgc3Rhck1hcCA9IG1hcCAmJiBtYXBbJyonXTtcblxuICAgICAgICAgICAgLy9BZGp1c3QgYW55IHJlbGF0aXZlIHBhdGhzLlxuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIGxhc3RJbmRleCA9IG5hbWUubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHdhbnRpbmcgbm9kZSBJRCBjb21wYXRpYmlsaXR5LCBzdHJpcCAuanMgZnJvbSBlbmRcbiAgICAgICAgICAgICAgICAvLyBvZiBJRHMuIEhhdmUgdG8gZG8gdGhpcyBoZXJlLCBhbmQgbm90IGluIG5hbWVUb1VybFxuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugbm9kZSBhbGxvd3MgZWl0aGVyIC5qcyBvciBub24gLmpzIHRvIG1hcFxuICAgICAgICAgICAgICAgIC8vIHRvIHNhbWUgZmlsZS5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm5vZGVJZENvbXBhdCAmJiBqc1N1ZmZpeFJlZ0V4cC50ZXN0KG5hbWVbbGFzdEluZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZVtsYXN0SW5kZXhdID0gbmFtZVtsYXN0SW5kZXhdLnJlcGxhY2UoanNTdWZmaXhSZWdFeHAsICcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTdGFydHMgd2l0aCBhICcuJyBzbyBuZWVkIHRoZSBiYXNlTmFtZVxuICAgICAgICAgICAgICAgIGlmIChuYW1lWzBdLmNoYXJBdCgwKSA9PT0gJy4nICYmIGJhc2VQYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICAvL0NvbnZlcnQgYmFzZU5hbWUgdG8gYXJyYXksIGFuZCBsb3Agb2ZmIHRoZSBsYXN0IHBhcnQsXG4gICAgICAgICAgICAgICAgICAgIC8vc28gdGhhdCAuIG1hdGNoZXMgdGhhdCAnZGlyZWN0b3J5JyBhbmQgbm90IG5hbWUgb2YgdGhlIGJhc2VOYW1lJ3NcbiAgICAgICAgICAgICAgICAgICAgLy9tb2R1bGUuIEZvciBpbnN0YW5jZSwgYmFzZU5hbWUgb2YgJ29uZS90d28vdGhyZWUnLCBtYXBzIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vJ29uZS90d28vdGhyZWUuanMnLCBidXQgd2Ugd2FudCB0aGUgZGlyZWN0b3J5LCAnb25lL3R3bycgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyBub3JtYWxpemF0aW9uLlxuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkQmFzZVBhcnRzID0gYmFzZVBhcnRzLnNsaWNlKDAsIGJhc2VQYXJ0cy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5vcm1hbGl6ZWRCYXNlUGFydHMuY29uY2F0KG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyaW1Eb3RzKG5hbWUpO1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLmpvaW4oJy8nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9BcHBseSBtYXAgY29uZmlnIGlmIGF2YWlsYWJsZS5cbiAgICAgICAgICAgIGlmIChhcHBseU1hcCAmJiBtYXAgJiYgKGJhc2VQYXJ0cyB8fCBzdGFyTWFwKSkge1xuICAgICAgICAgICAgICAgIG5hbWVQYXJ0cyA9IG5hbWUuc3BsaXQoJy8nKTtcblxuICAgICAgICAgICAgICAgIG91dGVyTG9vcDogZm9yIChpID0gbmFtZVBhcnRzLmxlbmd0aDsgaSA+IDA7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lU2VnbWVudCA9IG5hbWVQYXJ0cy5zbGljZSgwLCBpKS5qb2luKCcvJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2VQYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9GaW5kIHRoZSBsb25nZXN0IGJhc2VOYW1lIHNlZ21lbnQgbWF0Y2ggaW4gdGhlIGNvbmZpZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU28sIGRvIGpvaW5zIG9uIHRoZSBiaWdnZXN0IHRvIHNtYWxsZXN0IGxlbmd0aHMgb2YgYmFzZVBhcnRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gYmFzZVBhcnRzLmxlbmd0aDsgaiA+IDA7IGogLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFZhbHVlID0gZ2V0T3duKG1hcCwgYmFzZVBhcnRzLnNsaWNlKDAsIGopLmpvaW4oJy8nKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Jhc2VOYW1lIHNlZ21lbnQgaGFzIGNvbmZpZywgZmluZCBpZiBpdCBoYXMgb25lIGZvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBuYW1lLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXBWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBWYWx1ZSA9IGdldE93bihtYXBWYWx1ZSwgbmFtZVNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTWF0Y2gsIHVwZGF0ZSBuYW1lIHRvIHRoZSBuZXcgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZE1hcCA9IG1hcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRJID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vQ2hlY2sgZm9yIGEgc3RhciBtYXAgbWF0Y2gsIGJ1dCBqdXN0IGhvbGQgb24gdG8gaXQsXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdGhlcmUgaXMgYSBzaG9ydGVyIHNlZ21lbnQgbWF0Y2ggbGF0ZXIgaW4gYSBtYXRjaGluZ1xuICAgICAgICAgICAgICAgICAgICAvL2NvbmZpZywgdGhlbiBmYXZvciBvdmVyIHRoaXMgc3RhciBtYXAuXG4gICAgICAgICAgICAgICAgICAgIGlmICghZm91bmRTdGFyTWFwICYmIHN0YXJNYXAgJiYgZ2V0T3duKHN0YXJNYXAsIG5hbWVTZWdtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRTdGFyTWFwID0gZ2V0T3duKHN0YXJNYXAsIG5hbWVTZWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJJID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghZm91bmRNYXAgJiYgZm91bmRTdGFyTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kTWFwID0gZm91bmRTdGFyTWFwO1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEkgPSBzdGFySTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZm91bmRNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZVBhcnRzLnNwbGljZSgwLCBmb3VuZEksIGZvdW5kTWFwKTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWVQYXJ0cy5qb2luKCcvJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgbmFtZSBwb2ludHMgdG8gYSBwYWNrYWdlJ3MgbmFtZSwgdXNlXG4gICAgICAgICAgICAvLyB0aGUgcGFja2FnZSBtYWluIGluc3RlYWQuXG4gICAgICAgICAgICBwa2dNYWluID0gZ2V0T3duKGNvbmZpZy5wa2dzLCBuYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIHBrZ01haW4gPyBwa2dNYWluIDogbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVNjcmlwdChuYW1lKSB7XG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgZWFjaChzY3JpcHRzKCksIGZ1bmN0aW9uIChzY3JpcHROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JpcHROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXF1aXJlbW9kdWxlJykgPT09IG5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXF1aXJlY29udGV4dCcpID09PSBjb250ZXh0LmNvbnRleHROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaGFzUGF0aEZhbGxiYWNrKGlkKSB7XG4gICAgICAgICAgICB2YXIgcGF0aENvbmZpZyA9IGdldE93bihjb25maWcucGF0aHMsIGlkKTtcbiAgICAgICAgICAgIGlmIChwYXRoQ29uZmlnICYmIGlzQXJyYXkocGF0aENvbmZpZykgJiYgcGF0aENvbmZpZy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy9Qb3Agb2ZmIHRoZSBmaXJzdCBhcnJheSB2YWx1ZSwgc2luY2UgaXQgZmFpbGVkLCBhbmRcbiAgICAgICAgICAgICAgICAvL3JldHJ5XG4gICAgICAgICAgICAgICAgcGF0aENvbmZpZy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVxdWlyZS51bmRlZihpZCk7XG5cbiAgICAgICAgICAgICAgICAvL0N1c3RvbSByZXF1aXJlIHRoYXQgZG9lcyBub3QgZG8gbWFwIHRyYW5zbGF0aW9uLCBzaW5jZVxuICAgICAgICAgICAgICAgIC8vSUQgaXMgXCJhYnNvbHV0ZVwiLCBhbHJlYWR5IG1hcHBlZC9yZXNvbHZlZC5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1ha2VSZXF1aXJlKG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcE1hcDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pKFtpZF0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL1R1cm5zIGEgcGx1Z2luIXJlc291cmNlIHRvIFtwbHVnaW4sIHJlc291cmNlXVxuICAgICAgICAvL3dpdGggdGhlIHBsdWdpbiBiZWluZyB1bmRlZmluZWQgaWYgdGhlIG5hbWVcbiAgICAgICAgLy9kaWQgbm90IGhhdmUgYSBwbHVnaW4gcHJlZml4LlxuICAgICAgICBmdW5jdGlvbiBzcGxpdFByZWZpeChuYW1lKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4LFxuICAgICAgICAgICAgICAgIGluZGV4ID0gbmFtZSA/IG5hbWUuaW5kZXhPZignIScpIDogLTE7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHByZWZpeCA9IG5hbWUuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoaW5kZXggKyAxLCBuYW1lLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3ByZWZpeCwgbmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIG1vZHVsZSBtYXBwaW5nIHRoYXQgaW5jbHVkZXMgcGx1Z2luIHByZWZpeCwgbW9kdWxlXG4gICAgICAgICAqIG5hbWUsIGFuZCBwYXRoLiBJZiBwYXJlbnRNb2R1bGVNYXAgaXMgcHJvdmlkZWQgaXQgd2lsbFxuICAgICAgICAgKiBhbHNvIG5vcm1hbGl6ZSB0aGUgbmFtZSB2aWEgcmVxdWlyZS5ub3JtYWxpemUoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSB0aGUgbW9kdWxlIG5hbWVcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IFtwYXJlbnRNb2R1bGVNYXBdIHBhcmVudCBtb2R1bGUgbWFwXG4gICAgICAgICAqIGZvciB0aGUgbW9kdWxlIG5hbWUsIHVzZWQgdG8gcmVzb2x2ZSByZWxhdGl2ZSBuYW1lcy5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBpc05vcm1hbGl6ZWQ6IGlzIHRoZSBJRCBhbHJlYWR5IG5vcm1hbGl6ZWQuXG4gICAgICAgICAqIFRoaXMgaXMgdHJ1ZSBpZiB0aGlzIGNhbGwgaXMgZG9uZSBmb3IgYSBkZWZpbmUoKSBtb2R1bGUgSUQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYXBwbHlNYXA6IGFwcGx5IHRoZSBtYXAgY29uZmlnIHRvIHRoZSBJRC5cbiAgICAgICAgICogU2hvdWxkIG9ubHkgYmUgdHJ1ZSBpZiB0aGlzIG1hcCBpcyBmb3IgYSBkZXBlbmRlbmN5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbWFrZU1vZHVsZU1hcChuYW1lLCBwYXJlbnRNb2R1bGVNYXAsIGlzTm9ybWFsaXplZCwgYXBwbHlNYXApIHtcbiAgICAgICAgICAgIHZhciB1cmwsIHBsdWdpbk1vZHVsZSwgc3VmZml4LCBuYW1lUGFydHMsXG4gICAgICAgICAgICAgICAgcHJlZml4ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBwYXJlbnROYW1lID0gcGFyZW50TW9kdWxlTWFwID8gcGFyZW50TW9kdWxlTWFwLm5hbWUgOiBudWxsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsTmFtZSA9IG5hbWUsXG4gICAgICAgICAgICAgICAgaXNEZWZpbmUgPSB0cnVlLFxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWROYW1lID0gJyc7XG5cbiAgICAgICAgICAgIC8vSWYgbm8gbmFtZSwgdGhlbiBpdCBtZWFucyBpdCBpcyBhIHJlcXVpcmUgY2FsbCwgZ2VuZXJhdGUgYW5cbiAgICAgICAgICAgIC8vaW50ZXJuYWwgbmFtZS5cbiAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICAgIGlzRGVmaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbmFtZSA9ICdfQHInICsgKHJlcXVpcmVDb3VudGVyICs9IDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuYW1lUGFydHMgPSBzcGxpdFByZWZpeChuYW1lKTtcbiAgICAgICAgICAgIHByZWZpeCA9IG5hbWVQYXJ0c1swXTtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lUGFydHNbMV07XG5cbiAgICAgICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICAgICAgICBwcmVmaXggPSBub3JtYWxpemUocHJlZml4LCBwYXJlbnROYW1lLCBhcHBseU1hcCk7XG4gICAgICAgICAgICAgICAgcGx1Z2luTW9kdWxlID0gZ2V0T3duKGRlZmluZWQsIHByZWZpeCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vQWNjb3VudCBmb3IgcmVsYXRpdmUgcGF0aHMgaWYgdGhlcmUgaXMgYSBiYXNlIG5hbWUuXG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZE5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsdWdpbk1vZHVsZSAmJiBwbHVnaW5Nb2R1bGUubm9ybWFsaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1BsdWdpbiBpcyBsb2FkZWQsIHVzZSBpdHMgbm9ybWFsaXplIG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWROYW1lID0gcGx1Z2luTW9kdWxlLm5vcm1hbGl6ZShuYW1lLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3JtYWxpemUobmFtZSwgcGFyZW50TmFtZSwgYXBwbHlNYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBuZXN0ZWQgcGx1Z2luIHJlZmVyZW5jZXMsIHRoZW4gZG8gbm90IHRyeSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9ybWFsaXplLCBhcyBpdCB3aWxsIG5vdCBub3JtYWxpemUgY29ycmVjdGx5LiBUaGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwbGFjZXMgYSByZXN0cmljdGlvbiBvbiByZXNvdXJjZUlkcywgYW5kIHRoZSBsb25nZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRlcm0gc29sdXRpb24gaXMgbm90IHRvIG5vcm1hbGl6ZSB1bnRpbCBwbHVnaW5zIGFyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9hZGVkIGFuZCBhbGwgbm9ybWFsaXphdGlvbnMgdG8gYWxsb3cgZm9yIGFzeW5jXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2FkaW5nIG9mIGEgbG9hZGVyIHBsdWdpbi4gQnV0IGZvciBub3csIGZpeGVzIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tbW9uIHVzZXMuIERldGFpbHMgaW4gIzExMzFcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWROYW1lID0gbmFtZS5pbmRleE9mKCchJykgPT09IC0xID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplKG5hbWUsIHBhcmVudE5hbWUsIGFwcGx5TWFwKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL0EgcmVndWxhciBtb2R1bGUuXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWROYW1lID0gbm9ybWFsaXplKG5hbWUsIHBhcmVudE5hbWUsIGFwcGx5TWFwKTtcblxuICAgICAgICAgICAgICAgICAgICAvL05vcm1hbGl6ZWQgbmFtZSBtYXkgYmUgYSBwbHVnaW4gSUQgZHVlIHRvIG1hcCBjb25maWdcbiAgICAgICAgICAgICAgICAgICAgLy9hcHBsaWNhdGlvbiBpbiBub3JtYWxpemUuIFRoZSBtYXAgY29uZmlnIHZhbHVlcyBtdXN0XG4gICAgICAgICAgICAgICAgICAgIC8vYWxyZWFkeSBiZSBub3JtYWxpemVkLCBzbyBkbyBub3QgbmVlZCB0byByZWRvIHRoYXQgcGFydC5cbiAgICAgICAgICAgICAgICAgICAgbmFtZVBhcnRzID0gc3BsaXRQcmVmaXgobm9ybWFsaXplZE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSBuYW1lUGFydHNbMF07XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWROYW1lID0gbmFtZVBhcnRzWzFdO1xuICAgICAgICAgICAgICAgICAgICBpc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGNvbnRleHQubmFtZVRvVXJsKG5vcm1hbGl6ZWROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vSWYgdGhlIGlkIGlzIGEgcGx1Z2luIGlkIHRoYXQgY2Fubm90IGJlIGRldGVybWluZWQgaWYgaXQgbmVlZHNcbiAgICAgICAgICAgIC8vbm9ybWFsaXphdGlvbiwgc3RhbXAgaXQgd2l0aCBhIHVuaXF1ZSBJRCBzbyB0d28gbWF0Y2hpbmcgcmVsYXRpdmVcbiAgICAgICAgICAgIC8vaWRzIHRoYXQgbWF5IGNvbmZsaWN0IGNhbiBiZSBzZXBhcmF0ZS5cbiAgICAgICAgICAgIHN1ZmZpeCA9IHByZWZpeCAmJiAhcGx1Z2luTW9kdWxlICYmICFpc05vcm1hbGl6ZWQgP1xuICAgICAgICAgICAgICAgICAgICAgJ191bm5vcm1hbGl6ZWQnICsgKHVubm9ybWFsaXplZENvdW50ZXIgKz0gMSkgOlxuICAgICAgICAgICAgICAgICAgICAgJyc7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJlZml4OiBwcmVmaXgsXG4gICAgICAgICAgICAgICAgbmFtZTogbm9ybWFsaXplZE5hbWUsXG4gICAgICAgICAgICAgICAgcGFyZW50TWFwOiBwYXJlbnRNb2R1bGVNYXAsXG4gICAgICAgICAgICAgICAgdW5ub3JtYWxpemVkOiAhIXN1ZmZpeCxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbE5hbWU6IG9yaWdpbmFsTmFtZSxcbiAgICAgICAgICAgICAgICBpc0RlZmluZTogaXNEZWZpbmUsXG4gICAgICAgICAgICAgICAgaWQ6IChwcmVmaXggP1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4ICsgJyEnICsgbm9ybWFsaXplZE5hbWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZE5hbWUpICsgc3VmZml4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TW9kdWxlKGRlcE1hcCkge1xuICAgICAgICAgICAgdmFyIGlkID0gZGVwTWFwLmlkLFxuICAgICAgICAgICAgICAgIG1vZCA9IGdldE93bihyZWdpc3RyeSwgaWQpO1xuXG4gICAgICAgICAgICBpZiAoIW1vZCkge1xuICAgICAgICAgICAgICAgIG1vZCA9IHJlZ2lzdHJ5W2lkXSA9IG5ldyBjb250ZXh0Lk1vZHVsZShkZXBNYXApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbW9kO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb24oZGVwTWFwLCBuYW1lLCBmbikge1xuICAgICAgICAgICAgdmFyIGlkID0gZGVwTWFwLmlkLFxuICAgICAgICAgICAgICAgIG1vZCA9IGdldE93bihyZWdpc3RyeSwgaWQpO1xuXG4gICAgICAgICAgICBpZiAoaGFzUHJvcChkZWZpbmVkLCBpZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKCFtb2QgfHwgbW9kLmRlZmluZUVtaXRDb21wbGV0ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2RlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuKGRlZmluZWRbaWRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZCA9IGdldE1vZHVsZShkZXBNYXApO1xuICAgICAgICAgICAgICAgIGlmIChtb2QuZXJyb3IgJiYgbmFtZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICBmbihtb2QuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZC5vbihuYW1lLCBmbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIsIGVycmJhY2spIHtcbiAgICAgICAgICAgIHZhciBpZHMgPSBlcnIucmVxdWlyZU1vZHVsZXMsXG4gICAgICAgICAgICAgICAgbm90aWZpZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGVycmJhY2spIHtcbiAgICAgICAgICAgICAgICBlcnJiYWNrKGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVhY2goaWRzLCBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZCA9IGdldE93bihyZWdpc3RyeSwgaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NldCBlcnJvciBvbiBtb2R1bGUsIHNvIGl0IHNraXBzIHRpbWVvdXQgY2hlY2tzLlxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kLmVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZC5ldmVudHMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFub3RpZmllZCkge1xuICAgICAgICAgICAgICAgICAgICByZXEub25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBtZXRob2QgdG8gdHJhbnNmZXIgZ2xvYmFsUXVldWUgaXRlbXMgdG8gdGhpcyBjb250ZXh0J3NcbiAgICAgICAgICogZGVmUXVldWUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB0YWtlR2xvYmFsUXVldWUoKSB7XG4gICAgICAgICAgICAvL1B1c2ggYWxsIHRoZSBnbG9iYWxEZWZRdWV1ZSBpdGVtcyBpbnRvIHRoZSBjb250ZXh0J3MgZGVmUXVldWVcbiAgICAgICAgICAgIGlmIChnbG9iYWxEZWZRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBlYWNoKGdsb2JhbERlZlF1ZXVlLCBmdW5jdGlvbihxdWV1ZUl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gcXVldWVJdGVtWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kZWZRdWV1ZU1hcFtpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZlF1ZXVlLnB1c2gocXVldWVJdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBnbG9iYWxEZWZRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaGFuZGxlcnMgPSB7XG4gICAgICAgICAgICAncmVxdWlyZSc6IGZ1bmN0aW9uIChtb2QpIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kLnJlcXVpcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZC5yZXF1aXJlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobW9kLnJlcXVpcmUgPSBjb250ZXh0Lm1ha2VSZXF1aXJlKG1vZC5tYXApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2V4cG9ydHMnOiBmdW5jdGlvbiAobW9kKSB7XG4gICAgICAgICAgICAgICAgbW9kLnVzaW5nRXhwb3J0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKG1vZC5tYXAuaXNEZWZpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZC5leHBvcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGRlZmluZWRbbW9kLm1hcC5pZF0gPSBtb2QuZXhwb3J0cyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG1vZC5leHBvcnRzID0gZGVmaW5lZFttb2QubWFwLmlkXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnbW9kdWxlJzogZnVuY3Rpb24gKG1vZCkge1xuICAgICAgICAgICAgICAgIGlmIChtb2QubW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2QubW9kdWxlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobW9kLm1vZHVsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtb2QubWFwLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJpOiBtb2QubWFwLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRPd24oY29uZmlnLmNvbmZpZywgbW9kLm1hcC5pZCkgfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogbW9kLmV4cG9ydHMgfHwgKG1vZC5leHBvcnRzID0ge30pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBjbGVhblJlZ2lzdHJ5KGlkKSB7XG4gICAgICAgICAgICAvL0NsZWFuIHVwIG1hY2hpbmVyeSB1c2VkIGZvciB3YWl0aW5nIG1vZHVsZXMuXG4gICAgICAgICAgICBkZWxldGUgcmVnaXN0cnlbaWRdO1xuICAgICAgICAgICAgZGVsZXRlIGVuYWJsZWRSZWdpc3RyeVtpZF07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBicmVha0N5Y2xlKG1vZCwgdHJhY2VkLCBwcm9jZXNzZWQpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IG1vZC5tYXAuaWQ7XG5cbiAgICAgICAgICAgIGlmIChtb2QuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBtb2QuZW1pdCgnZXJyb3InLCBtb2QuZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFjZWRbaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlYWNoKG1vZC5kZXBNYXBzLCBmdW5jdGlvbiAoZGVwTWFwLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBJZCA9IGRlcE1hcC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcCA9IGdldE93bihyZWdpc3RyeSwgZGVwSWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vT25seSBmb3JjZSB0aGluZ3MgdGhhdCBoYXZlIG5vdCBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy9iZWluZyBkZWZpbmVkLCBzbyBzdGlsbCBpbiB0aGUgcmVnaXN0cnksXG4gICAgICAgICAgICAgICAgICAgIC8vYW5kIG9ubHkgaWYgaXQgaGFzIG5vdCBiZWVuIG1hdGNoZWQgdXBcbiAgICAgICAgICAgICAgICAgICAgLy9pbiB0aGUgbW9kdWxlIGFscmVhZHkuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXAgJiYgIW1vZC5kZXBNYXRjaGVkW2ldICYmICFwcm9jZXNzZWRbZGVwSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0T3duKHRyYWNlZCwgZGVwSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kLmRlZmluZURlcChpLCBkZWZpbmVkW2RlcElkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kLmNoZWNrKCk7IC8vcGFzcyBmYWxzZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtDeWNsZShkZXAsIHRyYWNlZCwgcHJvY2Vzc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFtpZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tMb2FkZWQoKSB7XG4gICAgICAgICAgICB2YXIgZXJyLCB1c2luZ1BhdGhGYWxsYmFjayxcbiAgICAgICAgICAgICAgICB3YWl0SW50ZXJ2YWwgPSBjb25maWcud2FpdFNlY29uZHMgKiAxMDAwLFxuICAgICAgICAgICAgICAgIC8vSXQgaXMgcG9zc2libGUgdG8gZGlzYWJsZSB0aGUgd2FpdCBpbnRlcnZhbCBieSB1c2luZyB3YWl0U2Vjb25kcyBvZiAwLlxuICAgICAgICAgICAgICAgIGV4cGlyZWQgPSB3YWl0SW50ZXJ2YWwgJiYgKGNvbnRleHQuc3RhcnRUaW1lICsgd2FpdEludGVydmFsKSA8IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgIG5vTG9hZHMgPSBbXSxcbiAgICAgICAgICAgICAgICByZXFDYWxscyA9IFtdLFxuICAgICAgICAgICAgICAgIHN0aWxsTG9hZGluZyA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5lZWRDeWNsZUNoZWNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy9EbyBub3QgYm90aGVyIGlmIHRoaXMgY2FsbCB3YXMgYSByZXN1bHQgb2YgYSBjeWNsZSBicmVhay5cbiAgICAgICAgICAgIGlmIChpbkNoZWNrTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbkNoZWNrTG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy9GaWd1cmUgb3V0IHRoZSBzdGF0ZSBvZiBhbGwgdGhlIG1vZHVsZXMuXG4gICAgICAgICAgICBlYWNoUHJvcChlbmFibGVkUmVnaXN0cnksIGZ1bmN0aW9uIChtb2QpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbW9kLm1hcCxcbiAgICAgICAgICAgICAgICAgICAgbW9kSWQgPSBtYXAuaWQ7XG5cbiAgICAgICAgICAgICAgICAvL1NraXAgdGhpbmdzIHRoYXQgYXJlIG5vdCBlbmFibGVkIG9yIGluIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmICghbW9kLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghbWFwLmlzRGVmaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcUNhbGxzLnB1c2gobW9kKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIW1vZC5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvL0lmIHRoZSBtb2R1bGUgc2hvdWxkIGJlIGV4ZWN1dGVkLCBhbmQgaXQgaGFzIG5vdFxuICAgICAgICAgICAgICAgICAgICAvL2JlZW4gaW5pdGVkIGFuZCB0aW1lIGlzIHVwLCByZW1lbWJlciBpdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb2QuaW5pdGVkICYmIGV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNQYXRoRmFsbGJhY2sobW9kSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNpbmdQYXRoRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0aWxsTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vTG9hZHMucHVzaChtb2RJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlU2NyaXB0KG1vZElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbW9kLmluaXRlZCAmJiBtb2QuZmV0Y2hlZCAmJiBtYXAuaXNEZWZpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0aWxsTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hcC5wcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL05vIHJlYXNvbiB0byBrZWVwIGxvb2tpbmcgZm9yIHVuZmluaXNoZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xvYWRpbmcuIElmIHRoZSBvbmx5IHN0aWxsTG9hZGluZyBpcyBhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wbHVnaW4gcmVzb3VyY2UgdGhvdWdoLCBrZWVwIGdvaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYmVjYXVzZSBpdCBtYXkgYmUgdGhhdCBhIHBsdWdpbiByZXNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgd2FpdGluZyBvbiBhIG5vbi1wbHVnaW4gY3ljbGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChuZWVkQ3ljbGVDaGVjayA9IGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXhwaXJlZCAmJiBub0xvYWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vSWYgd2FpdCB0aW1lIGV4cGlyZWQsIHRocm93IGVycm9yIG9mIHVubG9hZGVkIG1vZHVsZXMuXG4gICAgICAgICAgICAgICAgZXJyID0gbWFrZUVycm9yKCd0aW1lb3V0JywgJ0xvYWQgdGltZW91dCBmb3IgbW9kdWxlczogJyArIG5vTG9hZHMsIG51bGwsIG5vTG9hZHMpO1xuICAgICAgICAgICAgICAgIGVyci5jb250ZXh0TmFtZSA9IGNvbnRleHQuY29udGV4dE5hbWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9Ob3QgZXhwaXJlZCwgY2hlY2sgZm9yIGEgY3ljbGUuXG4gICAgICAgICAgICBpZiAobmVlZEN5Y2xlQ2hlY2spIHtcbiAgICAgICAgICAgICAgICBlYWNoKHJlcUNhbGxzLCBmdW5jdGlvbiAobW9kKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrQ3ljbGUobW9kLCB7fSwge30pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0lmIHN0aWxsIHdhaXRpbmcgb24gbG9hZHMsIGFuZCB0aGUgd2FpdGluZyBsb2FkIGlzIHNvbWV0aGluZ1xuICAgICAgICAgICAgLy9vdGhlciB0aGFuIGEgcGx1Z2luIHJlc291cmNlLCBvciB0aGVyZSBhcmUgc3RpbGwgb3V0c3RhbmRpbmdcbiAgICAgICAgICAgIC8vc2NyaXB0cywgdGhlbiBqdXN0IHRyeSBiYWNrIGxhdGVyLlxuICAgICAgICAgICAgaWYgKCghZXhwaXJlZCB8fCB1c2luZ1BhdGhGYWxsYmFjaykgJiYgc3RpbGxMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgLy9Tb21ldGhpbmcgaXMgc3RpbGwgd2FpdGluZyB0byBsb2FkLiBXYWl0IGZvciBpdCwgYnV0IG9ubHlcbiAgICAgICAgICAgICAgICAvL2lmIGEgdGltZW91dCBpcyBub3QgYWxyZWFkeSBpbiBlZmZlY3QuXG4gICAgICAgICAgICAgICAgaWYgKChpc0Jyb3dzZXIgfHwgaXNXZWJXb3JrZXIpICYmICFjaGVja0xvYWRlZFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0xvYWRlZFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tMb2FkZWRUaW1lb3V0SWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tMb2FkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5DaGVja0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgTW9kdWxlID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBnZXRPd24odW5kZWZFdmVudHMsIG1hcC5pZCkgfHwge307XG4gICAgICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgICAgIHRoaXMuc2hpbSA9IGdldE93bihjb25maWcuc2hpbSwgbWFwLmlkKTtcbiAgICAgICAgICAgIHRoaXMuZGVwRXhwb3J0cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5kZXBNYXBzID0gW107XG4gICAgICAgICAgICB0aGlzLmRlcE1hdGNoZWQgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luTWFwcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5kZXBDb3VudCA9IDA7XG5cbiAgICAgICAgICAgIC8qIHRoaXMuZXhwb3J0cyB0aGlzLmZhY3RvcnlcbiAgICAgICAgICAgICAgIHRoaXMuZGVwTWFwcyA9IFtdLFxuICAgICAgICAgICAgICAgdGhpcy5lbmFibGVkLCB0aGlzLmZldGNoZWRcbiAgICAgICAgICAgICovXG4gICAgICAgIH07XG5cbiAgICAgICAgTW9kdWxlLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChkZXBNYXBzLCBmYWN0b3J5LCBlcnJiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgICAgICAgICAvL0RvIG5vdCBkbyBtb3JlIGluaXRzIGlmIGFscmVhZHkgZG9uZS4gQ2FuIGhhcHBlbiBpZiB0aGVyZVxuICAgICAgICAgICAgICAgIC8vYXJlIG11bHRpcGxlIGRlZmluZSBjYWxscyBmb3IgdGhlIHNhbWUgbW9kdWxlLiBUaGF0IGlzIG5vdFxuICAgICAgICAgICAgICAgIC8vYSBub3JtYWwsIGNvbW1vbiBjYXNlLCBidXQgaXQgaXMgYWxzbyBub3QgdW5leHBlY3RlZC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIGZvciBlcnJvcnMgb24gdGhpcyBtb2R1bGUuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub24oJ2Vycm9yJywgZXJyYmFjayk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmV2ZW50cy5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvL0lmIG5vIGVycmJhY2sgYWxyZWFkeSwgYnV0IHRoZXJlIGFyZSBlcnJvciBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICAgICAgLy9vbiB0aGlzIG1vZHVsZSwgc2V0IHVwIGFuIGVycmJhY2sgdG8gcGFzcyB0byB0aGUgZGVwcy5cbiAgICAgICAgICAgICAgICAgICAgZXJyYmFjayA9IGJpbmQodGhpcywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vRG8gYSBjb3B5IG9mIHRoZSBkZXBlbmRlbmN5IGFycmF5LCBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy9zb3VyY2UgaW5wdXRzIGFyZSBub3QgbW9kaWZpZWQuIEZvciBleGFtcGxlXG4gICAgICAgICAgICAgICAgLy9cInNoaW1cIiBkZXBzIGFyZSBwYXNzZWQgaW4gaGVyZSBkaXJlY3RseSwgYW5kXG4gICAgICAgICAgICAgICAgLy9kb2luZyBhIGRpcmVjdCBtb2RpZmljYXRpb24gb2YgdGhlIGRlcE1hcHMgYXJyYXlcbiAgICAgICAgICAgICAgICAvL3dvdWxkIGFmZmVjdCB0aGF0IGNvbmZpZy5cbiAgICAgICAgICAgICAgICB0aGlzLmRlcE1hcHMgPSBkZXBNYXBzICYmIGRlcE1hcHMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVycmJhY2sgPSBlcnJiYWNrO1xuXG4gICAgICAgICAgICAgICAgLy9JbmRpY2F0ZSB0aGlzIG1vZHVsZSBoYXMgYmUgaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlnbm9yZSA9IG9wdGlvbnMuaWdub3JlO1xuXG4gICAgICAgICAgICAgICAgLy9Db3VsZCBoYXZlIG9wdGlvbiB0byBpbml0IHRoaXMgbW9kdWxlIGluIGVuYWJsZWQgbW9kZSxcbiAgICAgICAgICAgICAgICAvL29yIGNvdWxkIGhhdmUgYmVlbiBwcmV2aW91c2x5IG1hcmtlZCBhcyBlbmFibGVkLiBIb3dldmVyLFxuICAgICAgICAgICAgICAgIC8vdGhlIGRlcGVuZGVuY2llcyBhcmUgbm90IGtub3duIHVudGlsIGluaXQgaXMgY2FsbGVkLiBTb1xuICAgICAgICAgICAgICAgIC8vaWYgZW5hYmxlZCBwcmV2aW91c2x5LCBub3cgdHJpZ2dlciBkZXBlbmRlbmNpZXMgYXMgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5lbmFibGVkIHx8IHRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAvL0VuYWJsZSB0aGlzIG1vZHVsZSBhbmQgZGVwZW5kZW5jaWVzLlxuICAgICAgICAgICAgICAgICAgICAvL1dpbGwgY2FsbCB0aGlzLmNoZWNrKClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZGVmaW5lRGVwOiBmdW5jdGlvbiAoaSwgZGVwRXhwb3J0cykge1xuICAgICAgICAgICAgICAgIC8vQmVjYXVzZSBvZiBjeWNsZXMsIGRlZmluZWQgY2FsbGJhY2sgZm9yIGEgZ2l2ZW5cbiAgICAgICAgICAgICAgICAvL2V4cG9ydCBjYW4gYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kZXBNYXRjaGVkW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwTWF0Y2hlZFtpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwQ291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXBFeHBvcnRzW2ldID0gZGVwRXhwb3J0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmZXRjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZldGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmZldGNoZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdGFydFRpbWUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMubWFwO1xuXG4gICAgICAgICAgICAgICAgLy9JZiB0aGUgbWFuYWdlciBpcyBmb3IgYSBwbHVnaW4gbWFuYWdlZCByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICAvL2FzayB0aGUgcGx1Z2luIHRvIGxvYWQgaXQgbm93LlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoaW0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tYWtlUmVxdWlyZSh0aGlzLm1hcCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlQnVpbGRDYWxsYmFjazogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KSh0aGlzLnNoaW0uZGVwcyB8fCBbXSwgYmluZCh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwLnByZWZpeCA/IHRoaXMuY2FsbFBsdWdpbigpIDogdGhpcy5sb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL1JlZ3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcC5wcmVmaXggPyB0aGlzLmNhbGxQbHVnaW4oKSA6IHRoaXMubG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5tYXAudXJsO1xuXG4gICAgICAgICAgICAgICAgLy9SZWd1bGFyIGRlcGVuZGVuY3kuXG4gICAgICAgICAgICAgICAgaWYgKCF1cmxGZXRjaGVkW3VybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsRmV0Y2hlZFt1cmxdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5sb2FkKHRoaXMubWFwLmlkLCB1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2tzIGlmIHRoZSBtb2R1bGUgaXMgcmVhZHkgdG8gZGVmaW5lIGl0c2VsZiwgYW5kIGlmIHNvLFxuICAgICAgICAgICAgICogZGVmaW5lIGl0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjaGVjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5lbmFibGVkIHx8IHRoaXMuZW5hYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBlcnIsIGNqc01vZHVsZSxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSB0aGlzLm1hcC5pZCxcbiAgICAgICAgICAgICAgICAgICAgZGVwRXhwb3J0cyA9IHRoaXMuZGVwRXhwb3J0cyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0cyA9IHRoaXMuZXhwb3J0cyxcbiAgICAgICAgICAgICAgICAgICAgZmFjdG9yeSA9IHRoaXMuZmFjdG9yeTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbml0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBmZXRjaCBpZiBub3QgYWxyZWFkeSBpbiB0aGUgZGVmUXVldWUuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzUHJvcChjb250ZXh0LmRlZlF1ZXVlTWFwLCBpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5kZWZpbmluZykge1xuICAgICAgICAgICAgICAgICAgICAvL1RoZSBmYWN0b3J5IGNvdWxkIHRyaWdnZXIgYW5vdGhlciByZXF1aXJlIGNhbGxcbiAgICAgICAgICAgICAgICAgICAgLy90aGF0IHdvdWxkIHJlc3VsdCBpbiBjaGVja2luZyB0aGlzIG1vZHVsZSB0b1xuICAgICAgICAgICAgICAgICAgICAvL2RlZmluZSBpdHNlbGYgYWdhaW4uIElmIGFscmVhZHkgaW4gdGhlIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgLy9vZiBkb2luZyB0aGF0LCBza2lwIHRoaXMgd29yay5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZpbmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVwQ291bnQgPCAxICYmICF0aGlzLmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGZhY3RvcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiB0aGVyZSBpcyBhbiBlcnJvciBsaXN0ZW5lciwgZmF2b3IgcGFzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdG8gdGhhdCBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLiBIb3dldmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBkbyBpdCBmb3IgZGVmaW5lKCknZCAgbW9kdWxlcy4gcmVxdWlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZXJyYmFja3Mgc2hvdWxkIG5vdCBiZSBjYWxsZWQgZm9yIGZhaWx1cmVzIGluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVpciBjYWxsYmFja3MgKCM2OTkpLiBIb3dldmVyIGlmIGEgZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbkVycm9yIGlzIHNldCwgdXNlIHRoYXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0aGlzLmV2ZW50cy5lcnJvciAmJiB0aGlzLm1hcC5pc0RlZmluZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uRXJyb3IgIT09IGRlZmF1bHRPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRzID0gY29udGV4dC5leGVjQ2IoaWQsIGZhY3RvcnksIGRlcEV4cG9ydHMsIGV4cG9ydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0cyA9IGNvbnRleHQuZXhlY0NiKGlkLCBmYWN0b3J5LCBkZXBFeHBvcnRzLCBleHBvcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYXZvciByZXR1cm4gdmFsdWUgb3ZlciBleHBvcnRzLiBJZiBub2RlL2NqcyBpbiBwbGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gd2lsbCBub3QgaGF2ZSBhIHJldHVybiB2YWx1ZSBhbnl3YXkuIEZhdm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW9kdWxlLmV4cG9ydHMgYXNzaWdubWVudCBvdmVyIGV4cG9ydHMgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcC5pc0RlZmluZSAmJiBleHBvcnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2pzTW9kdWxlID0gdGhpcy5tb2R1bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjanNNb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHMgPSBjanNNb2R1bGUuZXhwb3J0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnVzaW5nRXhwb3J0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9leHBvcnRzIGFscmVhZHkgc2V0IHRoZSBkZWZpbmVkIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0cyA9IHRoaXMuZXhwb3J0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLnJlcXVpcmVNYXAgPSB0aGlzLm1hcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLnJlcXVpcmVNb2R1bGVzID0gdGhpcy5tYXAuaXNEZWZpbmUgPyBbdGhpcy5tYXAuaWRdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLnJlcXVpcmVUeXBlID0gdGhpcy5tYXAuaXNEZWZpbmUgPyAnZGVmaW5lJyA6ICdyZXF1aXJlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3IoKHRoaXMuZXJyb3IgPSBlcnIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9KdXN0IGEgbGl0ZXJhbCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHMgPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cG9ydHMgPSBleHBvcnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXAuaXNEZWZpbmUgJiYgIXRoaXMuaWdub3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5lZFtpZF0gPSBleHBvcnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS5vblJlc291cmNlTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzTG9hZE1hcHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCh0aGlzLmRlcE1hcHMsIGZ1bmN0aW9uIChkZXBNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc0xvYWRNYXBzLnB1c2goZGVwTWFwLm5vcm1hbGl6ZWRNYXAgfHwgZGVwTWFwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vblJlc291cmNlTG9hZChjb250ZXh0LCB0aGlzLm1hcCwgcmVzTG9hZE1hcHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9DbGVhbiB1cFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5SZWdpc3RyeShpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvL0ZpbmlzaGVkIHRoZSBkZWZpbmUgc3RhZ2UuIEFsbG93IGNhbGxpbmcgY2hlY2sgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgLy90byBhbGxvdyBkZWZpbmUgbm90aWZpY2F0aW9ucyBiZWxvdyBpbiB0aGUgY2FzZSBvZiBhXG4gICAgICAgICAgICAgICAgICAgIC8vY3ljbGUuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWZpbmVkICYmICF0aGlzLmRlZmluZUVtaXR0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lRW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2RlZmluZWQnLCB0aGlzLmV4cG9ydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZpbmVFbWl0Q29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjYWxsUGx1Z2luOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMubWFwLFxuICAgICAgICAgICAgICAgICAgICBpZCA9IG1hcC5pZCxcbiAgICAgICAgICAgICAgICAgICAgLy9NYXAgYWxyZWFkeSBub3JtYWxpemVkIHRoZSBwcmVmaXguXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbk1hcCA9IG1ha2VNb2R1bGVNYXAobWFwLnByZWZpeCk7XG5cbiAgICAgICAgICAgICAgICAvL01hcmsgdGhpcyBhcyBhIGRlcGVuZGVuY3kgZm9yIHRoaXMgcGx1Z2luLCBzbyBpdFxuICAgICAgICAgICAgICAgIC8vY2FuIGJlIHRyYWNlZCBmb3IgY3ljbGVzLlxuICAgICAgICAgICAgICAgIHRoaXMuZGVwTWFwcy5wdXNoKHBsdWdpbk1hcCk7XG5cbiAgICAgICAgICAgICAgICBvbihwbHVnaW5NYXAsICdkZWZpbmVkJywgYmluZCh0aGlzLCBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2FkLCBub3JtYWxpemVkTWFwLCBub3JtYWxpemVkTW9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVuZGxlSWQgPSBnZXRPd24oYnVuZGxlc01hcCwgdGhpcy5tYXAuaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IHRoaXMubWFwLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROYW1lID0gdGhpcy5tYXAucGFyZW50TWFwID8gdGhpcy5tYXAucGFyZW50TWFwLm5hbWUgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxSZXF1aXJlID0gY29udGV4dC5tYWtlUmVxdWlyZShtYXAucGFyZW50TWFwLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlQnVpbGRDYWxsYmFjazogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9JZiBjdXJyZW50IG1hcCBpcyBub3Qgbm9ybWFsaXplZCwgd2FpdCBmb3IgdGhhdFxuICAgICAgICAgICAgICAgICAgICAvL25vcm1hbGl6ZWQgbmFtZSB0byBsb2FkIGluc3RlYWQgb2YgY29udGludWluZy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwLnVubm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9Ob3JtYWxpemUgdGhlIElEIGlmIHRoZSBwbHVnaW4gYWxsb3dzIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5ub3JtYWxpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gcGx1Z2luLm5vcm1hbGl6ZShuYW1lLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9ybWFsaXplKG5hbWUsIHBhcmVudE5hbWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3ByZWZpeCBhbmQgbmFtZSBzaG91bGQgYWxyZWFkeSBiZSBub3JtYWxpemVkLCBubyBuZWVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBhcHBseWluZyBtYXAgY29uZmlnIGFnYWluIGVpdGhlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRNYXAgPSBtYWtlTW9kdWxlTWFwKG1hcC5wcmVmaXggKyAnIScgKyBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAucGFyZW50TWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbihub3JtYWxpemVkTWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZWZpbmVkJywgYmluZCh0aGlzLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAubm9ybWFsaXplZE1hcCA9IG5vcm1hbGl6ZWRNYXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdChbXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0sIG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkTW9kID0gZ2V0T3duKHJlZ2lzdHJ5LCBub3JtYWxpemVkTWFwLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkTW9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9NYXJrIHRoaXMgYXMgYSBkZXBlbmRlbmN5IGZvciB0aGlzIHBsdWdpbiwgc28gaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NhbiBiZSB0cmFjZWQgZm9yIGN5Y2xlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlcE1hcHMucHVzaChub3JtYWxpemVkTWFwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkTW9kLm9uKCdlcnJvcicsIGJpbmQodGhpcywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZE1vZC5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy9JZiBhIHBhdGhzIGNvbmZpZywgdGhlbiBqdXN0IGxvYWQgdGhhdCBmaWxlIGluc3RlYWQgdG9cbiAgICAgICAgICAgICAgICAgICAgLy9yZXNvbHZlIHRoZSBwbHVnaW4sIGFzIGl0IGlzIGJ1aWx0IGludG8gdGhhdCBwYXRocyBsYXllci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1bmRsZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC51cmwgPSBjb250ZXh0Lm5hbWVUb1VybChidW5kbGVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxvYWQgPSBiaW5kKHRoaXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0KFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZTsgfSwgbnVsbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBsb2FkLmVycm9yID0gYmluZCh0aGlzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLnJlcXVpcmVNb2R1bGVzID0gW2lkXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9SZW1vdmUgdGVtcCB1bm5vcm1hbGl6ZWQgbW9kdWxlcyBmb3IgdGhpcyBtb2R1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NpbmNlIHRoZXkgd2lsbCBuZXZlciBiZSByZXNvbHZlZCBvdGhlcndpc2Ugbm93LlxuICAgICAgICAgICAgICAgICAgICAgICAgZWFjaFByb3AocmVnaXN0cnksIGZ1bmN0aW9uIChtb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kLm1hcC5pZC5pbmRleE9mKGlkICsgJ191bm5vcm1hbGl6ZWQnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhblJlZ2lzdHJ5KG1vZC5tYXAuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vQWxsb3cgcGx1Z2lucyB0byBsb2FkIG90aGVyIGNvZGUgd2l0aG91dCBoYXZpbmcgdG8ga25vdyB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy9jb250ZXh0IG9yIGhvdyB0byAnY29tcGxldGUnIHRoZSBsb2FkLlxuICAgICAgICAgICAgICAgICAgICBsb2FkLmZyb21UZXh0ID0gYmluZCh0aGlzLCBmdW5jdGlvbiAodGV4dCwgdGV4dEFsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLypqc2xpbnQgZXZpbDogdHJ1ZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZHVsZU5hbWUgPSBtYXAubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVNYXAgPSBtYWtlTW9kdWxlTWFwKG1vZHVsZU5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ludGVyYWN0aXZlID0gdXNlSW50ZXJhY3RpdmU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQXMgb2YgMi4xLjAsIHN1cHBvcnQganVzdCBwYXNzaW5nIHRoZSB0ZXh0LCB0byByZWluZm9yY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZnJvbVRleHQgb25seSBiZWluZyBjYWxsZWQgb25jZSBwZXIgcmVzb3VyY2UuIFN0aWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N1cHBvcnQgb2xkIHN0eWxlIG9mIHBhc3NpbmcgbW9kdWxlTmFtZSBidXQgZGlzY2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGF0IG1vZHVsZU5hbWUgaW4gZmF2b3Igb2YgdGhlIGludGVybmFsIHJlZi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0QWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHRBbHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vVHVybiBvZmYgaW50ZXJhY3RpdmUgc2NyaXB0IG1hdGNoaW5nIGZvciBJRSBmb3IgYW55IGRlZmluZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jYWxscyBpbiB0aGUgdGV4dCwgdGhlbiB0dXJuIGl0IGJhY2sgb24gYXQgdGhlIGVuZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNJbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vUHJpbWUgdGhlIHN5c3RlbSBieSBjcmVhdGluZyBhIG1vZHVsZSBpbnN0YW5jZSBmb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNb2R1bGUobW9kdWxlTWFwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9UcmFuc2ZlciBhbnkgY29uZmlnIHRvIHRoaXMgb3RoZXIgbW9kdWxlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1Byb3AoY29uZmlnLmNvbmZpZywgaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmNvbmZpZ1ttb2R1bGVOYW1lXSA9IGNvbmZpZy5jb25maWdbaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5leGVjKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkVycm9yKG1ha2VFcnJvcignZnJvbXRleHRldmFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmcm9tVGV4dCBldmFsIGZvciAnICsgaWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGZhaWxlZDogJyArIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lkXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzSW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VJbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vTWFyayB0aGlzIGFzIGEgZGVwZW5kZW5jeSBmb3IgdGhlIHBsdWdpblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXBNYXBzLnB1c2gobW9kdWxlTWFwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9TdXBwb3J0IGFub255bW91cyBtb2R1bGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21wbGV0ZUxvYWQobW9kdWxlTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQmluZCB0aGUgdmFsdWUgb2YgdGhhdCBtb2R1bGUgdG8gdGhlIHZhbHVlIGZvciB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Jlc291cmNlIElELlxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxSZXF1aXJlKFttb2R1bGVOYW1lXSwgbG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vVXNlIHBhcmVudE5hbWUgaGVyZSBzaW5jZSB0aGUgcGx1Z2luJ3MgbmFtZSBpcyBub3QgcmVsaWFibGUsXG4gICAgICAgICAgICAgICAgICAgIC8vY291bGQgYmUgc29tZSB3ZWlyZCBzdHJpbmcgd2l0aCBubyBwYXRoIHRoYXQgYWN0dWFsbHkgd2FudHMgdG9cbiAgICAgICAgICAgICAgICAgICAgLy9yZWZlcmVuY2UgdGhlIHBhcmVudE5hbWUncyBwYXRoLlxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ubG9hZChtYXAubmFtZSwgbG9jYWxSZXF1aXJlLCBsb2FkLCBjb25maWcpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuZW5hYmxlKHBsdWdpbk1hcCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5NYXBzW3BsdWdpbk1hcC5pZF0gPSBwbHVnaW5NYXA7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlbmFibGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlbmFibGVkUmVnaXN0cnlbdGhpcy5tYXAuaWRdID0gdGhpcztcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy9TZXQgZmxhZyBtZW50aW9uaW5nIHRoYXQgdGhlIG1vZHVsZSBpcyBlbmFibGluZyxcbiAgICAgICAgICAgICAgICAvL3NvIHRoYXQgaW1tZWRpYXRlIGNhbGxzIHRvIHRoZSBkZWZpbmVkIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgIC8vZm9yIGRlcGVuZGVuY2llcyBkbyBub3QgdHJpZ2dlciBpbmFkdmVydGVudCBsb2FkXG4gICAgICAgICAgICAgICAgLy93aXRoIHRoZSBkZXBDb3VudCBzdGlsbCBiZWluZyB6ZXJvLlxuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy9FbmFibGUgZWFjaCBkZXBlbmRlbmN5XG4gICAgICAgICAgICAgICAgZWFjaCh0aGlzLmRlcE1hcHMsIGJpbmQodGhpcywgZnVuY3Rpb24gKGRlcE1hcCwgaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWQsIG1vZCwgaGFuZGxlcjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRlcE1hcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRGVwZW5kZW5jeSBuZWVkcyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBkZXBNYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYW5kIHdpcmVkIHVwIHRvIHRoaXMgbW9kdWxlLlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwTWFwID0gbWFrZU1vZHVsZU1hcChkZXBNYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLm1hcC5pc0RlZmluZSA/IHRoaXMubWFwIDogdGhpcy5tYXAucGFyZW50TWFwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnNraXBNYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXBNYXBzW2ldID0gZGVwTWFwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gZ2V0T3duKGhhbmRsZXJzLCBkZXBNYXAuaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwRXhwb3J0c1tpXSA9IGhhbmRsZXIodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlcENvdW50ICs9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uKGRlcE1hcCwgJ2RlZmluZWQnLCBiaW5kKHRoaXMsIGZ1bmN0aW9uIChkZXBFeHBvcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5kZWZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lRGVwKGksIGRlcEV4cG9ydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZXJyYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uKGRlcE1hcCwgJ2Vycm9yJywgYmluZCh0aGlzLCB0aGlzLmVycmJhY2spKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ldmVudHMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBkaXJlY3QgZXJyYmFjayBvbiB0aGlzIG1vZHVsZSwgYnV0IHNvbWV0aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgaXMgbGlzdGVuaW5nIGZvciBlcnJvcnMsIHNvIGJlIHN1cmUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9wYWdhdGUgdGhlIGVycm9yIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbihkZXBNYXAsICdlcnJvcicsIGJpbmQodGhpcywgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlkID0gZGVwTWFwLmlkO1xuICAgICAgICAgICAgICAgICAgICBtb2QgPSByZWdpc3RyeVtpZF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy9Ta2lwIHNwZWNpYWwgbW9kdWxlcyBsaWtlICdyZXF1aXJlJywgJ2V4cG9ydHMnLCAnbW9kdWxlJ1xuICAgICAgICAgICAgICAgICAgICAvL0Fsc28sIGRvbid0IGNhbGwgZW5hYmxlIGlmIGl0IGlzIGFscmVhZHkgZW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgLy9pbXBvcnRhbnQgaW4gY2lyY3VsYXIgZGVwZW5kZW5jeSBjYXNlcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNQcm9wKGhhbmRsZXJzLCBpZCkgJiYgbW9kICYmICFtb2QuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5lbmFibGUoZGVwTWFwLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIC8vRW5hYmxlIGVhY2ggcGx1Z2luIHRoYXQgaXMgdXNlZCBpblxuICAgICAgICAgICAgICAgIC8vYSBkZXBlbmRlbmN5XG4gICAgICAgICAgICAgICAgZWFjaFByb3AodGhpcy5wbHVnaW5NYXBzLCBiaW5kKHRoaXMsIGZ1bmN0aW9uIChwbHVnaW5NYXApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZCA9IGdldE93bihyZWdpc3RyeSwgcGx1Z2luTWFwLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZCAmJiAhbW9kLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZW5hYmxlKHBsdWdpbk1hcCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrKCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvbjogZnVuY3Rpb24gKG5hbWUsIGNiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNicyA9IHRoaXMuZXZlbnRzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghY2JzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNicyA9IHRoaXMuZXZlbnRzW25hbWVdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNicy5wdXNoKGNiKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVtaXQ6IGZ1bmN0aW9uIChuYW1lLCBldnQpIHtcbiAgICAgICAgICAgICAgICBlYWNoKHRoaXMuZXZlbnRzW25hbWVdLCBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2IoZXZ0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAvL05vdyB0aGF0IHRoZSBlcnJvciBoYW5kbGVyIHdhcyB0cmlnZ2VyZWQsIHJlbW92ZVxuICAgICAgICAgICAgICAgICAgICAvL3RoZSBsaXN0ZW5lcnMsIHNpbmNlIHRoaXMgYnJva2VuIE1vZHVsZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAvL2NhbiBzdGF5IGFyb3VuZCBmb3IgYSB3aGlsZSBpbiB0aGUgcmVnaXN0cnkuXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50c1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gY2FsbEdldE1vZHVsZShhcmdzKSB7XG4gICAgICAgICAgICAvL1NraXAgbW9kdWxlcyBhbHJlYWR5IGRlZmluZWQuXG4gICAgICAgICAgICBpZiAoIWhhc1Byb3AoZGVmaW5lZCwgYXJnc1swXSkpIHtcbiAgICAgICAgICAgICAgICBnZXRNb2R1bGUobWFrZU1vZHVsZU1hcChhcmdzWzBdLCBudWxsLCB0cnVlKSkuaW5pdChhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKG5vZGUsIGZ1bmMsIG5hbWUsIGllTmFtZSkge1xuICAgICAgICAgICAgLy9GYXZvciBkZXRhY2hFdmVudCBiZWNhdXNlIG9mIElFOVxuICAgICAgICAgICAgLy9pc3N1ZSwgc2VlIGF0dGFjaEV2ZW50L2FkZEV2ZW50TGlzdGVuZXIgY29tbWVudCBlbHNld2hlcmVcbiAgICAgICAgICAgIC8vaW4gdGhpcyBmaWxlLlxuICAgICAgICAgICAgaWYgKG5vZGUuZGV0YWNoRXZlbnQgJiYgIWlzT3BlcmEpIHtcbiAgICAgICAgICAgICAgICAvL1Byb2JhYmx5IElFLiBJZiBub3QgaXQgd2lsbCB0aHJvdyBhbiBlcnJvciwgd2hpY2ggd2lsbCBiZVxuICAgICAgICAgICAgICAgIC8vdXNlZnVsIHRvIGtub3cuXG4gICAgICAgICAgICAgICAgaWYgKGllTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmRldGFjaEV2ZW50KGllTmFtZSwgZnVuYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgZnVuYywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIGFuIGV2ZW50IGZyb20gYSBzY3JpcHQgbm9kZSwgZ2V0IHRoZSByZXF1aXJlanMgaW5mbyBmcm9tIGl0LFxuICAgICAgICAgKiBhbmQgdGhlbiByZW1vdmVzIHRoZSBldmVudCBsaXN0ZW5lcnMgb24gdGhlIG5vZGUuXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2dFxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0U2NyaXB0RGF0YShldnQpIHtcbiAgICAgICAgICAgIC8vVXNpbmcgY3VycmVudFRhcmdldCBpbnN0ZWFkIG9mIHRhcmdldCBmb3IgRmlyZWZveCAyLjAncyBzYWtlLiBOb3RcbiAgICAgICAgICAgIC8vYWxsIG9sZCBicm93c2VycyB3aWxsIGJlIHN1cHBvcnRlZCwgYnV0IHRoaXMgb25lIHdhcyBlYXN5IGVub3VnaFxuICAgICAgICAgICAgLy90byBzdXBwb3J0IGFuZCBzdGlsbCBtYWtlcyBzZW5zZS5cbiAgICAgICAgICAgIHZhciBub2RlID0gZXZ0LmN1cnJlbnRUYXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQ7XG5cbiAgICAgICAgICAgIC8vUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb25jZSBoZXJlLlxuICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIobm9kZSwgY29udGV4dC5vblNjcmlwdExvYWQsICdsb2FkJywgJ29ucmVhZHlzdGF0ZWNoYW5nZScpO1xuICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIobm9kZSwgY29udGV4dC5vblNjcmlwdEVycm9yLCAnZXJyb3InKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgICAgICAgIGlkOiBub2RlICYmIG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcXVpcmVtb2R1bGUnKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGludGFrZURlZmluZXMoKSB7XG4gICAgICAgICAgICB2YXIgYXJncztcblxuICAgICAgICAgICAgLy9BbnkgZGVmaW5lZCBtb2R1bGVzIGluIHRoZSBnbG9iYWwgcXVldWUsIGludGFrZSB0aGVtIG5vdy5cbiAgICAgICAgICAgIHRha2VHbG9iYWxRdWV1ZSgpO1xuXG4gICAgICAgICAgICAvL01ha2Ugc3VyZSBhbnkgcmVtYWluaW5nIGRlZlF1ZXVlIGl0ZW1zIGdldCBwcm9wZXJseSBwcm9jZXNzZWQuXG4gICAgICAgICAgICB3aGlsZSAoZGVmUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYXJncyA9IGRlZlF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3IobWFrZUVycm9yKCdtaXNtYXRjaCcsICdNaXNtYXRjaGVkIGFub255bW91cyBkZWZpbmUoKSBtb2R1bGU6ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1thcmdzLmxlbmd0aCAtIDFdKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9hcmdzIGFyZSBpZCwgZGVwcywgZmFjdG9yeS4gU2hvdWxkIGJlIG5vcm1hbGl6ZWQgYnkgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vZGVmaW5lKCkgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgIGNhbGxHZXRNb2R1bGUoYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5kZWZRdWV1ZU1hcCA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dCA9IHtcbiAgICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgICAgY29udGV4dE5hbWU6IGNvbnRleHROYW1lLFxuICAgICAgICAgICAgcmVnaXN0cnk6IHJlZ2lzdHJ5LFxuICAgICAgICAgICAgZGVmaW5lZDogZGVmaW5lZCxcbiAgICAgICAgICAgIHVybEZldGNoZWQ6IHVybEZldGNoZWQsXG4gICAgICAgICAgICBkZWZRdWV1ZTogZGVmUXVldWUsXG4gICAgICAgICAgICBkZWZRdWV1ZU1hcDoge30sXG4gICAgICAgICAgICBNb2R1bGU6IE1vZHVsZSxcbiAgICAgICAgICAgIG1ha2VNb2R1bGVNYXA6IG1ha2VNb2R1bGVNYXAsXG4gICAgICAgICAgICBuZXh0VGljazogcmVxLm5leHRUaWNrLFxuICAgICAgICAgICAgb25FcnJvcjogb25FcnJvcixcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgYSBjb25maWd1cmF0aW9uIGZvciB0aGUgY29udGV4dC5cbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgY29uZmlnIG9iamVjdCB0byBpbnRlZ3JhdGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbmZpZ3VyZTogZnVuY3Rpb24gKGNmZykge1xuICAgICAgICAgICAgICAgIC8vTWFrZSBzdXJlIHRoZSBiYXNlVXJsIGVuZHMgaW4gYSBzbGFzaC5cbiAgICAgICAgICAgICAgICBpZiAoY2ZnLmJhc2VVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNmZy5iYXNlVXJsLmNoYXJBdChjZmcuYmFzZVVybC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZmcuYmFzZVVybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IG9sZCBzdHlsZSB1cmxBcmdzIHN0cmluZyB0byBhIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2ZnLnVybEFyZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmxBcmdzID0gY2ZnLnVybEFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGNmZy51cmxBcmdzID0gZnVuY3Rpb24oaWQsIHVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyB1cmxBcmdzO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vU2F2ZSBvZmYgdGhlIHBhdGhzIHNpbmNlIHRoZXkgcmVxdWlyZSBzcGVjaWFsIHByb2Nlc3NpbmcsXG4gICAgICAgICAgICAgICAgLy90aGV5IGFyZSBhZGRpdGl2ZS5cbiAgICAgICAgICAgICAgICB2YXIgc2hpbSA9IGNvbmZpZy5zaGltLFxuICAgICAgICAgICAgICAgICAgICBvYmpzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBidW5kbGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBlYWNoUHJvcChjZmcsIGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2Jqc1twcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maWdbcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWdbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1peGluKGNvbmZpZ1twcm9wXSwgdmFsdWUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vUmV2ZXJzZSBtYXAgdGhlIGJ1bmRsZXNcbiAgICAgICAgICAgICAgICBpZiAoY2ZnLmJ1bmRsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZWFjaFByb3AoY2ZnLmJ1bmRsZXMsIGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCh2YWx1ZSwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0gcHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidW5kbGVzTWFwW3ZdID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9NZXJnZSBzaGltXG4gICAgICAgICAgICAgICAgaWYgKGNmZy5zaGltKSB7XG4gICAgICAgICAgICAgICAgICAgIGVhY2hQcm9wKGNmZy5zaGltLCBmdW5jdGlvbiAodmFsdWUsIGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL05vcm1hbGl6ZSB0aGUgc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZS5leHBvcnRzIHx8IHZhbHVlLmluaXQpICYmICF2YWx1ZS5leHBvcnRzRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5leHBvcnRzRm4gPSBjb250ZXh0Lm1ha2VTaGltRXhwb3J0cyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGltW2lkXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNoaW0gPSBzaGltO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vQWRqdXN0IHBhY2thZ2VzIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgICAgICBpZiAoY2ZnLnBhY2thZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVhY2goY2ZnLnBhY2thZ2VzLCBmdW5jdGlvbiAocGtnT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24sIG5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBrZ09iaiA9IHR5cGVvZiBwa2dPYmogPT09ICdzdHJpbmcnID8ge25hbWU6IHBrZ09ian0gOiBwa2dPYmo7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBwa2dPYmoubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gcGtnT2JqLmxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnBhdGhzW25hbWVdID0gcGtnT2JqLmxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NhdmUgcG9pbnRlciB0byBtYWluIG1vZHVsZSBJRCBmb3IgcGtnIG5hbWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1JlbW92ZSBsZWFkaW5nIGRvdCBpbiBtYWluLCBzbyBtYWluIHBhdGhzIGFyZSBub3JtYWxpemVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbmQgcmVtb3ZlIGFueSB0cmFpbGluZyAuanMsIHNpbmNlIGRpZmZlcmVudCBwYWNrYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VudnMgaGF2ZSBkaWZmZXJlbnQgY29udmVudGlvbnM6IHNvbWUgdXNlIGEgbW9kdWxlIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NvbWUgdXNlIGEgZmlsZSBuYW1lLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnBrZ3NbbmFtZV0gPSBwa2dPYmoubmFtZSArICcvJyArIChwa2dPYmoubWFpbiB8fCAnbWFpbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoY3VyckRpclJlZ0V4cCwgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoanNTdWZmaXhSZWdFeHAsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy9JZiB0aGVyZSBhcmUgYW55IFwid2FpdGluZyB0byBleGVjdXRlXCIgbW9kdWxlcyBpbiB0aGUgcmVnaXN0cnksXG4gICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIG1hcHMgZm9yIHRoZW0sIHNpbmNlIHRoZWlyIGluZm8sIGxpa2UgVVJMcyB0byBsb2FkLFxuICAgICAgICAgICAgICAgIC8vbWF5IGhhdmUgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICBlYWNoUHJvcChyZWdpc3RyeSwgZnVuY3Rpb24gKG1vZCwgaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9JZiBtb2R1bGUgYWxyZWFkeSBoYXMgaW5pdCBjYWxsZWQsIHNpbmNlIGl0IGlzIHRvb1xuICAgICAgICAgICAgICAgICAgICAvL2xhdGUgdG8gbW9kaWZ5IHRoZW0sIGFuZCBpZ25vcmUgdW5ub3JtYWxpemVkIG9uZXNcbiAgICAgICAgICAgICAgICAgICAgLy9zaW5jZSB0aGV5IGFyZSB0cmFuc2llbnQuXG4gICAgICAgICAgICAgICAgICAgIGlmICghbW9kLmluaXRlZCAmJiAhbW9kLm1hcC51bm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZC5tYXAgPSBtYWtlTW9kdWxlTWFwKGlkLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy9JZiBhIGRlcHMgYXJyYXkgb3IgYSBjb25maWcgY2FsbGJhY2sgaXMgc3BlY2lmaWVkLCB0aGVuIGNhbGxcbiAgICAgICAgICAgICAgICAvL3JlcXVpcmUgd2l0aCB0aG9zZSBhcmdzLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHJlcXVpcmUgaXMgZGVmaW5lZCBhcyBhXG4gICAgICAgICAgICAgICAgLy9jb25maWcgb2JqZWN0IGJlZm9yZSByZXF1aXJlLmpzIGlzIGxvYWRlZC5cbiAgICAgICAgICAgICAgICBpZiAoY2ZnLmRlcHMgfHwgY2ZnLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVxdWlyZShjZmcuZGVwcyB8fCBbXSwgY2ZnLmNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBtYWtlU2hpbUV4cG9ydHM6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZuKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdmFsdWUuaW5pdC5hcHBseShnbG9iYWwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldCB8fCAodmFsdWUuZXhwb3J0cyAmJiBnZXRHbG9iYWwodmFsdWUuZXhwb3J0cykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBtYWtlUmVxdWlyZTogZnVuY3Rpb24gKHJlbE1hcCwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbG9jYWxSZXF1aXJlKGRlcHMsIGNhbGxiYWNrLCBlcnJiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCwgbWFwLCByZXF1aXJlTW9kO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVuYWJsZUJ1aWxkQ2FsbGJhY2sgJiYgY2FsbGJhY2sgJiYgaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLl9fcmVxdWlyZUpzQnVpbGQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXBzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JbnZhbGlkIGNhbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihtYWtlRXJyb3IoJ3JlcXVpcmVhcmdzJywgJ0ludmFsaWQgcmVxdWlyZSBjYWxsJyksIGVycmJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0lmIHJlcXVpcmV8ZXhwb3J0c3xtb2R1bGUgYXJlIHJlcXVlc3RlZCwgZ2V0IHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy92YWx1ZSBmb3IgdGhlbSBmcm9tIHRoZSBzcGVjaWFsIGhhbmRsZXJzLiBDYXZlYXQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgb25seSB3b3JrcyB3aGlsZSBtb2R1bGUgaXMgYmVpbmcgZGVmaW5lZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWxNYXAgJiYgaGFzUHJvcChoYW5kbGVycywgZGVwcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlcnNbZGVwc10ocmVnaXN0cnlbcmVsTWFwLmlkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU3luY2hyb25vdXMgYWNjZXNzIHRvIG9uZSBtb2R1bGUuIElmIHJlcXVpcmUuZ2V0IGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2F2YWlsYWJsZSAoYXMgaW4gdGhlIE5vZGUgYWRhcHRlciksIHByZWZlciB0aGF0LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS5nZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxLmdldChjb250ZXh0LCBkZXBzLCByZWxNYXAsIGxvY2FsUmVxdWlyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vTm9ybWFsaXplIG1vZHVsZSBuYW1lLCBpZiBpdCBjb250YWlucyAuIG9yIC4uXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAgPSBtYWtlTW9kdWxlTWFwKGRlcHMsIHJlbE1hcCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBtYXAuaWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzUHJvcChkZWZpbmVkLCBpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihtYWtlRXJyb3IoJ25vdGxvYWRlZCcsICdNb2R1bGUgbmFtZSBcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCIgaGFzIG5vdCBiZWVuIGxvYWRlZCB5ZXQgZm9yIGNvbnRleHQ6ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHROYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVsTWFwID8gJycgOiAnLiBVc2UgcmVxdWlyZShbXSknKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluZWRbaWRdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy9HcmFiIGRlZmluZXMgd2FpdGluZyBpbiB0aGUgZ2xvYmFsIHF1ZXVlLlxuICAgICAgICAgICAgICAgICAgICBpbnRha2VEZWZpbmVzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9NYXJrIGFsbCB0aGUgZGVwZW5kZW5jaWVzIGFzIG5lZWRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU29tZSBkZWZpbmVzIGNvdWxkIGhhdmUgYmVlbiBhZGRlZCBzaW5jZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVxdWlyZSBjYWxsLCBjb2xsZWN0IHRoZW0uXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRha2VEZWZpbmVzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVNb2QgPSBnZXRNb2R1bGUobWFrZU1vZHVsZU1hcChudWxsLCByZWxNYXApKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9TdG9yZSBpZiBtYXAgY29uZmlnIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoaXMgcmVxdWlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jYWxsIGZvciBkZXBlbmRlbmNpZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlTW9kLnNraXBNYXAgPSBvcHRpb25zLnNraXBNYXA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVNb2QuaW5pdChkZXBzLCBjYWxsYmFjaywgZXJyYmFjaywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0xvYWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxSZXF1aXJlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1peGluKGxvY2FsUmVxdWlyZSwge1xuICAgICAgICAgICAgICAgICAgICBpc0Jyb3dzZXI6IGlzQnJvd3NlcixcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29udmVydHMgYSBtb2R1bGUgbmFtZSArIC5leHRlbnNpb24gaW50byBhbiBVUkwgcGF0aC5cbiAgICAgICAgICAgICAgICAgICAgICogKlJlcXVpcmVzKiB0aGUgdXNlIG9mIGEgbW9kdWxlIG5hbWUuIEl0IGRvZXMgbm90IHN1cHBvcnQgdXNpbmdcbiAgICAgICAgICAgICAgICAgICAgICogcGxhaW4gVVJMcyBsaWtlIG5hbWVUb1VybC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHRvVXJsOiBmdW5jdGlvbiAobW9kdWxlTmFtZVBsdXNFeHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBtb2R1bGVOYW1lUGx1c0V4dC5sYXN0SW5kZXhPZignLicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBtb2R1bGVOYW1lUGx1c0V4dC5zcGxpdCgnLycpWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVsYXRpdmUgPSBzZWdtZW50ID09PSAnLicgfHwgc2VnbWVudCA9PT0gJy4uJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9IYXZlIGEgZmlsZSBleHRlbnNpb24gYWxpYXMsIGFuZCBpdCBpcyBub3QgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RvdHMgZnJvbSBhIHJlbGF0aXZlIHBhdGguXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xICYmICghaXNSZWxhdGl2ZSB8fCBpbmRleCA+IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ID0gbW9kdWxlTmFtZVBsdXNFeHQuc3Vic3RyaW5nKGluZGV4LCBtb2R1bGVOYW1lUGx1c0V4dC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWVQbHVzRXh0ID0gbW9kdWxlTmFtZVBsdXNFeHQuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQubmFtZVRvVXJsKG5vcm1hbGl6ZShtb2R1bGVOYW1lUGx1c0V4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbE1hcCAmJiByZWxNYXAuaWQsIHRydWUpLCBleHQsICB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBkZWZpbmVkOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNQcm9wKGRlZmluZWQsIG1ha2VNb2R1bGVNYXAoaWQsIHJlbE1hcCwgZmFsc2UsIHRydWUpLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBzcGVjaWZpZWQ6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBtYWtlTW9kdWxlTWFwKGlkLCByZWxNYXAsIGZhbHNlLCB0cnVlKS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNQcm9wKGRlZmluZWQsIGlkKSB8fCBoYXNQcm9wKHJlZ2lzdHJ5LCBpZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vT25seSBhbGxvdyB1bmRlZiBvbiB0b3AgbGV2ZWwgcmVxdWlyZSBjYWxsc1xuICAgICAgICAgICAgICAgIGlmICghcmVsTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsUmVxdWlyZS51bmRlZiA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9CaW5kIGFueSB3YWl0aW5nIGRlZmluZSgpIGNhbGxzIHRvIHRoaXMgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZml4IGZvciAjNDA4XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlR2xvYmFsUXVldWUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IG1ha2VNb2R1bGVNYXAoaWQsIHJlbE1hcCwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kID0gZ2V0T3duKHJlZ2lzdHJ5LCBpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZC51bmRlZmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVNjcmlwdChpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkZWZpbmVkW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1cmxGZXRjaGVkW21hcC51cmxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHVuZGVmRXZlbnRzW2lkXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9DbGVhbiBxdWV1ZWQgZGVmaW5lcyB0b28uIEdvIGJhY2t3YXJkc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9pbiBhcnJheSBzbyB0aGF0IHRoZSBzcGxpY2VzIGRvIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tZXNzIHVwIHRoZSBpdGVyYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoUmV2ZXJzZShkZWZRdWV1ZSwgZnVuY3Rpb24oYXJncywgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWzBdID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZRdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29udGV4dC5kZWZRdWV1ZU1hcFtpZF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0hvbGQgb24gdG8gbGlzdGVuZXJzIGluIGNhc2UgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tb2R1bGUgd2lsbCBiZSBhdHRlbXB0ZWQgdG8gYmUgcmVsb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VzaW5nIGEgZGlmZmVyZW50IGNvbmZpZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kLmV2ZW50cy5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmRXZlbnRzW2lkXSA9IG1vZC5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5SZWdpc3RyeShpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsUmVxdWlyZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHRvIGVuYWJsZSBhIG1vZHVsZSBpZiBpdCBpcyBzdGlsbCBpbiB0aGUgcmVnaXN0cnlcbiAgICAgICAgICAgICAqIGF3YWl0aW5nIGVuYWJsZW1lbnQuIEEgc2Vjb25kIGFyZywgcGFyZW50LCB0aGUgcGFyZW50IG1vZHVsZSxcbiAgICAgICAgICAgICAqIGlzIHBhc3NlZCBpbiBmb3IgY29udGV4dCwgd2hlbiB0aGlzIG1ldGhvZCBpcyBvdmVycmlkZGVuIGJ5XG4gICAgICAgICAgICAgKiB0aGUgb3B0aW1pemVyLiBOb3Qgc2hvd24gaGVyZSB0byBrZWVwIGNvZGUgY29tcGFjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZW5hYmxlOiBmdW5jdGlvbiAoZGVwTWFwKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vZCA9IGdldE93bihyZWdpc3RyeSwgZGVwTWFwLmlkKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldE1vZHVsZShkZXBNYXApLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW50ZXJuYWwgbWV0aG9kIHVzZWQgYnkgZW52aXJvbm1lbnQgYWRhcHRlcnMgdG8gY29tcGxldGUgYSBsb2FkIGV2ZW50LlxuICAgICAgICAgICAgICogQSBsb2FkIGV2ZW50IGNvdWxkIGJlIGEgc2NyaXB0IGxvYWQgb3IganVzdCBhIGxvYWQgcGFzcyBmcm9tIGEgc3luY2hyb25vdXNcbiAgICAgICAgICAgICAqIGxvYWQgY2FsbC5cbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2R1bGVOYW1lIHRoZSBuYW1lIG9mIHRoZSBtb2R1bGUgdG8gcG90ZW50aWFsbHkgY29tcGxldGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbXBsZXRlTG9hZDogZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQsIGFyZ3MsIG1vZCxcbiAgICAgICAgICAgICAgICAgICAgc2hpbSA9IGdldE93bihjb25maWcuc2hpbSwgbW9kdWxlTmFtZSkgfHwge30sXG4gICAgICAgICAgICAgICAgICAgIHNoRXhwb3J0cyA9IHNoaW0uZXhwb3J0cztcblxuICAgICAgICAgICAgICAgIHRha2VHbG9iYWxRdWV1ZSgpO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGRlZlF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gZGVmUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBtb2R1bGVOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiBhbHJlYWR5IGZvdW5kIGFuIGFub255bW91cyBtb2R1bGUgYW5kIGJvdW5kIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RvIHRoaXMgbmFtZSwgdGhlbiB0aGlzIGlzIHNvbWUgb3RoZXIgYW5vbiBtb2R1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2FpdGluZyBmb3IgaXRzIGNvbXBsZXRlTG9hZCB0byBmaXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJnc1swXSA9PT0gbW9kdWxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9Gb3VuZCBtYXRjaGluZyBkZWZpbmUgY2FsbCBmb3IgdGhpcyBzY3JpcHQhXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYWxsR2V0TW9kdWxlKGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LmRlZlF1ZXVlTWFwID0ge307XG5cbiAgICAgICAgICAgICAgICAvL0RvIHRoaXMgYWZ0ZXIgdGhlIGN5Y2xlIG9mIGNhbGxHZXRNb2R1bGUgaW4gY2FzZSB0aGUgcmVzdWx0XG4gICAgICAgICAgICAgICAgLy9vZiB0aG9zZSBjYWxscy9pbml0IGNhbGxzIGNoYW5nZXMgdGhlIHJlZ2lzdHJ5LlxuICAgICAgICAgICAgICAgIG1vZCA9IGdldE93bihyZWdpc3RyeSwgbW9kdWxlTmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kICYmICFoYXNQcm9wKGRlZmluZWQsIG1vZHVsZU5hbWUpICYmIG1vZCAmJiAhbW9kLmluaXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmVuZm9yY2VEZWZpbmUgJiYgKCFzaEV4cG9ydHMgfHwgIWdldEdsb2JhbChzaEV4cG9ydHMpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1BhdGhGYWxsYmFjayhtb2R1bGVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3IobWFrZUVycm9yKCdub2RlZmluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm8gZGVmaW5lIGNhbGwgZm9yICcgKyBtb2R1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttb2R1bGVOYW1lXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9BIHNjcmlwdCB0aGF0IGRvZXMgbm90IGNhbGwgZGVmaW5lKCksIHNvIGp1c3Qgc2ltdWxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlIGNhbGwgZm9yIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEdldE1vZHVsZShbbW9kdWxlTmFtZSwgKHNoaW0uZGVwcyB8fCBbXSksIHNoaW0uZXhwb3J0c0ZuXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaGVja0xvYWRlZCgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb252ZXJ0cyBhIG1vZHVsZSBuYW1lIHRvIGEgZmlsZSBwYXRoLiBTdXBwb3J0cyBjYXNlcyB3aGVyZVxuICAgICAgICAgICAgICogbW9kdWxlTmFtZSBtYXkgYWN0dWFsbHkgYmUganVzdCBhbiBVUkwuXG4gICAgICAgICAgICAgKiBOb3RlIHRoYXQgaXQgKipkb2VzIG5vdCoqIGNhbGwgbm9ybWFsaXplIG9uIHRoZSBtb2R1bGVOYW1lLFxuICAgICAgICAgICAgICogaXQgaXMgYXNzdW1lZCB0byBoYXZlIGFscmVhZHkgYmVlbiBub3JtYWxpemVkLiBUaGlzIGlzIGFuXG4gICAgICAgICAgICAgKiBpbnRlcm5hbCBBUEksIG5vdCBhIHB1YmxpYyBvbmUuIFVzZSB0b1VybCBmb3IgdGhlIHB1YmxpYyBBUEkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG5hbWVUb1VybDogZnVuY3Rpb24gKG1vZHVsZU5hbWUsIGV4dCwgc2tpcEV4dCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXRocywgc3ltcywgaSwgcGFyZW50TW9kdWxlLCB1cmwsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFBhdGgsIGJ1bmRsZUlkLFxuICAgICAgICAgICAgICAgICAgICBwa2dNYWluID0gZ2V0T3duKGNvbmZpZy5wa2dzLCBtb2R1bGVOYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmIChwa2dNYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBwa2dNYWluO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJ1bmRsZUlkID0gZ2V0T3duKGJ1bmRsZXNNYXAsIG1vZHVsZU5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJ1bmRsZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0Lm5hbWVUb1VybChidW5kbGVJZCwgZXh0LCBza2lwRXh0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL0lmIGEgY29sb24gaXMgaW4gdGhlIFVSTCwgaXQgaW5kaWNhdGVzIGEgcHJvdG9jb2wgaXMgdXNlZCBhbmQgaXQgaXMganVzdFxuICAgICAgICAgICAgICAgIC8vYW4gVVJMIHRvIGEgZmlsZSwgb3IgaWYgaXQgc3RhcnRzIHdpdGggYSBzbGFzaCwgY29udGFpbnMgYSBxdWVyeSBhcmcgKGkuZS4gPylcbiAgICAgICAgICAgICAgICAvL29yIGVuZHMgd2l0aCAuanMsIHRoZW4gYXNzdW1lIHRoZSB1c2VyIG1lYW50IHRvIHVzZSBhbiB1cmwgYW5kIG5vdCBhIG1vZHVsZSBpZC5cbiAgICAgICAgICAgICAgICAvL1RoZSBzbGFzaCBpcyBpbXBvcnRhbnQgZm9yIHByb3RvY29sLWxlc3MgVVJMcyBhcyB3ZWxsIGFzIGZ1bGwgcGF0aHMuXG4gICAgICAgICAgICAgICAgaWYgKHJlcS5qc0V4dFJlZ0V4cC50ZXN0KG1vZHVsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vSnVzdCBhIHBsYWluIHBhdGgsIG5vdCBtb2R1bGUgbmFtZSBsb29rdXAsIHNvIGp1c3QgcmV0dXJuIGl0LlxuICAgICAgICAgICAgICAgICAgICAvL0FkZCBleHRlbnNpb24gaWYgaXQgaXMgaW5jbHVkZWQuIFRoaXMgaXMgYSBiaXQgd29ua3ksIG9ubHkgbm9uLS5qcyB0aGluZ3MgcGFzc1xuICAgICAgICAgICAgICAgICAgICAvL2FuIGV4dGVuc2lvbiwgdGhpcyBtZXRob2QgcHJvYmFibHkgbmVlZHMgdG8gYmUgcmV3b3JrZWQuXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IG1vZHVsZU5hbWUgKyAoZXh0IHx8ICcnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL0EgbW9kdWxlIHRoYXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgcGF0aC5cbiAgICAgICAgICAgICAgICAgICAgcGF0aHMgPSBjb25maWcucGF0aHM7XG5cbiAgICAgICAgICAgICAgICAgICAgc3ltcyA9IG1vZHVsZU5hbWUuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgLy9Gb3IgZWFjaCBtb2R1bGUgbmFtZSBzZWdtZW50LCBzZWUgaWYgdGhlcmUgaXMgYSBwYXRoXG4gICAgICAgICAgICAgICAgICAgIC8vcmVnaXN0ZXJlZCBmb3IgaXQuIFN0YXJ0IHdpdGggbW9zdCBzcGVjaWZpYyBuYW1lXG4gICAgICAgICAgICAgICAgICAgIC8vYW5kIHdvcmsgdXAgZnJvbSBpdC5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gc3ltcy5sZW5ndGg7IGkgPiAwOyBpIC09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE1vZHVsZSA9IHN5bXMuc2xpY2UoMCwgaSkuam9pbignLycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRQYXRoID0gZ2V0T3duKHBhdGhzLCBwYXJlbnRNb2R1bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0lmIGFuIGFycmF5LCBpdCBtZWFucyB0aGVyZSBhcmUgYSBmZXcgY2hvaWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Nob29zZSB0aGUgb25lIHRoYXQgaXMgZGVzaXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KHBhcmVudFBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFBhdGggPSBwYXJlbnRQYXRoWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1zLnNwbGljZSgwLCBpLCBwYXJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vSm9pbiB0aGUgcGF0aCBwYXJ0cyB0b2dldGhlciwgdGhlbiBmaWd1cmUgb3V0IGlmIGJhc2VVcmwgaXMgbmVlZGVkLlxuICAgICAgICAgICAgICAgICAgICB1cmwgPSBzeW1zLmpvaW4oJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgdXJsICs9IChleHQgfHwgKC9eZGF0YVxcOnxeYmxvYlxcOnxcXD8vLnRlc3QodXJsKSB8fCBza2lwRXh0ID8gJycgOiAnLmpzJykpO1xuICAgICAgICAgICAgICAgICAgICB1cmwgPSAodXJsLmNoYXJBdCgwKSA9PT0gJy8nIHx8IHVybC5tYXRjaCgvXltcXHdcXCtcXC5cXC1dKzovKSA/ICcnIDogY29uZmlnLmJhc2VVcmwpICsgdXJsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcudXJsQXJncyAmJiAhL15ibG9iXFw6Ly50ZXN0KHVybCkgP1xuICAgICAgICAgICAgICAgICAgICAgICB1cmwgKyBjb25maWcudXJsQXJncyhtb2R1bGVOYW1lLCB1cmwpIDogdXJsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy9EZWxlZ2F0ZXMgdG8gcmVxLmxvYWQuIEJyb2tlbiBvdXQgYXMgYSBzZXBhcmF0ZSBmdW5jdGlvbiB0b1xuICAgICAgICAgICAgLy9hbGxvdyBvdmVycmlkaW5nIGluIHRoZSBvcHRpbWl6ZXIuXG4gICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoaWQsIHVybCkge1xuICAgICAgICAgICAgICAgIHJlcS5sb2FkKGNvbnRleHQsIGlkLCB1cmwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFeGVjdXRlcyBhIG1vZHVsZSBjYWxsYmFjayBmdW5jdGlvbi4gQnJva2VuIG91dCBhcyBhIHNlcGFyYXRlIGZ1bmN0aW9uXG4gICAgICAgICAgICAgKiBzb2xlbHkgdG8gYWxsb3cgdGhlIGJ1aWxkIHN5c3RlbSB0byBzZXF1ZW5jZSB0aGUgZmlsZXMgaW4gdGhlIGJ1aWx0XG4gICAgICAgICAgICAgKiBsYXllciBpbiB0aGUgcmlnaHQgc2VxdWVuY2UuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXhlY0NiOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGFyZ3MsIGV4cG9ydHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoZXhwb3J0cywgYXJncyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGNhbGxiYWNrIGZvciBzY3JpcHQgbG9hZHMsIHVzZWQgdG8gY2hlY2sgc3RhdHVzIG9mIGxvYWRpbmcuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZ0IHRoZSBldmVudCBmcm9tIHRoZSBicm93c2VyIGZvciB0aGUgc2NyaXB0XG4gICAgICAgICAgICAgKiB0aGF0IHdhcyBsb2FkZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG9uU2NyaXB0TG9hZDogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIC8vVXNpbmcgY3VycmVudFRhcmdldCBpbnN0ZWFkIG9mIHRhcmdldCBmb3IgRmlyZWZveCAyLjAncyBzYWtlLiBOb3RcbiAgICAgICAgICAgICAgICAvL2FsbCBvbGQgYnJvd3NlcnMgd2lsbCBiZSBzdXBwb3J0ZWQsIGJ1dCB0aGlzIG9uZSB3YXMgZWFzeSBlbm91Z2hcbiAgICAgICAgICAgICAgICAvL3RvIHN1cHBvcnQgYW5kIHN0aWxsIG1ha2VzIHNlbnNlLlxuICAgICAgICAgICAgICAgIGlmIChldnQudHlwZSA9PT0gJ2xvYWQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAocmVhZHlSZWdFeHAudGVzdCgoZXZ0LmN1cnJlbnRUYXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpLnJlYWR5U3RhdGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAvL1Jlc2V0IGludGVyYWN0aXZlIHNjcmlwdCBzbyBhIHNjcmlwdCBub2RlIGlzIG5vdCBoZWxkIG9udG8gZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vdG8gbG9uZy5cbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVTY3JpcHQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vUHVsbCBvdXQgdGhlIG5hbWUgb2YgdGhlIG1vZHVsZSBhbmQgdGhlIGNvbnRleHQuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gZ2V0U2NyaXB0RGF0YShldnQpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBsZXRlTG9hZChkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxiYWNrIGZvciBzY3JpcHQgZXJyb3JzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvblNjcmlwdEVycm9yOiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBnZXRTY3JpcHREYXRhKGV2dCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNQYXRoRmFsbGJhY2soZGF0YS5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZWFjaFByb3AocmVnaXN0cnksIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignX0ByJykgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHZhbHVlLmRlcE1hcHMsIGZ1bmN0aW9uKGRlcE1hcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwTWFwLmlkID09PSBkYXRhLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FcnJvcihtYWtlRXJyb3IoJ3NjcmlwdGVycm9yJywgJ1NjcmlwdCBlcnJvciBmb3IgXCInICsgZGF0YS5pZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFyZW50cy5sZW5ndGggP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiLCBuZWVkZWQgYnk6ICcgKyBwYXJlbnRzLmpvaW4oJywgJykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiJyksIGV2dCwgW2RhdGEuaWRdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnRleHQucmVxdWlyZSA9IGNvbnRleHQubWFrZVJlcXVpcmUoKTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFpbiBlbnRyeSBwb2ludC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBvbmx5IGFyZ3VtZW50IHRvIHJlcXVpcmUgaXMgYSBzdHJpbmcsIHRoZW4gdGhlIG1vZHVsZSB0aGF0XG4gICAgICogaXMgcmVwcmVzZW50ZWQgYnkgdGhhdCBzdHJpbmcgaXMgZmV0Y2hlZCBmb3IgdGhlIGFwcHJvcHJpYXRlIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIHRoZW4gaXQgd2lsbCBiZSB0cmVhdGVkIGFzIGFuIGFycmF5XG4gICAgICogb2YgZGVwZW5kZW5jeSBzdHJpbmcgbmFtZXMgdG8gZmV0Y2guIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIGNhbGxiYWNrIGNhblxuICAgICAqIGJlIHNwZWNpZmllZCB0byBleGVjdXRlIHdoZW4gYWxsIG9mIHRob3NlIGRlcGVuZGVuY2llcyBhcmUgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogTWFrZSBhIGxvY2FsIHJlcSB2YXJpYWJsZSB0byBoZWxwIENhamEgY29tcGxpYW5jZSAoaXQgYXNzdW1lcyB0aGluZ3NcbiAgICAgKiBvbiBhIHJlcXVpcmUgdGhhdCBhcmUgbm90IHN0YW5kYXJkaXplZCksIGFuZCB0byBnaXZlIGEgc2hvcnRcbiAgICAgKiBuYW1lIGZvciBtaW5pZmljYXRpb24vbG9jYWwgc2NvcGUgdXNlLlxuICAgICAqL1xuICAgIHJlcSA9IHJlcXVpcmVqcyA9IGZ1bmN0aW9uIChkZXBzLCBjYWxsYmFjaywgZXJyYmFjaywgb3B0aW9uYWwpIHtcblxuICAgICAgICAvL0ZpbmQgdGhlIHJpZ2h0IGNvbnRleHQsIHVzZSBkZWZhdWx0XG4gICAgICAgIHZhciBjb250ZXh0LCBjb25maWcsXG4gICAgICAgICAgICBjb250ZXh0TmFtZSA9IGRlZkNvbnRleHROYW1lO1xuXG4gICAgICAgIC8vIERldGVybWluZSBpZiBoYXZlIGNvbmZpZyBvYmplY3QgaW4gdGhlIGNhbGwuXG4gICAgICAgIGlmICghaXNBcnJheShkZXBzKSAmJiB0eXBlb2YgZGVwcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIGRlcHMgaXMgYSBjb25maWcgb2JqZWN0XG4gICAgICAgICAgICBjb25maWcgPSBkZXBzO1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IGFyZ3MgaWYgdGhlcmUgYXJlIGRlcGVuZGVuY2llc1xuICAgICAgICAgICAgICAgIGRlcHMgPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGVycmJhY2s7XG4gICAgICAgICAgICAgICAgZXJyYmFjayA9IG9wdGlvbmFsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXBzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5jb250ZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0TmFtZSA9IGNvbmZpZy5jb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dCA9IGdldE93bihjb250ZXh0cywgY29udGV4dE5hbWUpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0c1tjb250ZXh0TmFtZV0gPSByZXEucy5uZXdDb250ZXh0KGNvbnRleHROYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY29uZmlndXJlKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5yZXF1aXJlKGRlcHMsIGNhbGxiYWNrLCBlcnJiYWNrKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3VwcG9ydCByZXF1aXJlLmNvbmZpZygpIHRvIG1ha2UgaXQgZWFzaWVyIHRvIGNvb3BlcmF0ZSB3aXRoIG90aGVyXG4gICAgICogQU1EIGxvYWRlcnMgb24gZ2xvYmFsbHkgYWdyZWVkIG5hbWVzLlxuICAgICAqL1xuICAgIHJlcS5jb25maWcgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiByZXEoY29uZmlnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBzb21ldGhpbmcgYWZ0ZXIgdGhlIGN1cnJlbnQgdGlja1xuICAgICAqIG9mIHRoZSBldmVudCBsb29wLiBPdmVycmlkZSBmb3Igb3RoZXIgZW52c1xuICAgICAqIHRoYXQgaGF2ZSBhIGJldHRlciBzb2x1dGlvbiB0aGFuIHNldFRpbWVvdXQuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgbGF0ZXIuXG4gICAgICovXG4gICAgcmVxLm5leHRUaWNrID0gdHlwZW9mIHNldFRpbWVvdXQgIT09ICd1bmRlZmluZWQnID8gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZm4sIDQpO1xuICAgIH0gOiBmdW5jdGlvbiAoZm4pIHsgZm4oKTsgfTtcblxuICAgIC8qKlxuICAgICAqIEV4cG9ydCByZXF1aXJlIGFzIGEgZ2xvYmFsLCBidXQgb25seSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LlxuICAgICAqL1xuICAgIGlmICghcmVxdWlyZSkge1xuICAgICAgICByZXF1aXJlID0gcmVxO1xuICAgIH1cblxuICAgIHJlcS52ZXJzaW9uID0gdmVyc2lvbjtcblxuICAgIC8vVXNlZCB0byBmaWx0ZXIgb3V0IGRlcGVuZGVuY2llcyB0aGF0IGFyZSBhbHJlYWR5IHBhdGhzLlxuICAgIHJlcS5qc0V4dFJlZ0V4cCA9IC9eXFwvfDp8XFw/fFxcLmpzJC87XG4gICAgcmVxLmlzQnJvd3NlciA9IGlzQnJvd3NlcjtcbiAgICBzID0gcmVxLnMgPSB7XG4gICAgICAgIGNvbnRleHRzOiBjb250ZXh0cyxcbiAgICAgICAgbmV3Q29udGV4dDogbmV3Q29udGV4dFxuICAgIH07XG5cbiAgICAvL0NyZWF0ZSBkZWZhdWx0IGNvbnRleHQuXG4gICAgcmVxKHt9KTtcblxuICAgIC8vRXhwb3J0cyBzb21lIGNvbnRleHQtc2Vuc2l0aXZlIG1ldGhvZHMgb24gZ2xvYmFsIHJlcXVpcmUuXG4gICAgZWFjaChbXG4gICAgICAgICd0b1VybCcsXG4gICAgICAgICd1bmRlZicsXG4gICAgICAgICdkZWZpbmVkJyxcbiAgICAgICAgJ3NwZWNpZmllZCdcbiAgICBdLCBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAvL1JlZmVyZW5jZSBmcm9tIGNvbnRleHRzIGluc3RlYWQgb2YgZWFybHkgYmluZGluZyB0byBkZWZhdWx0IGNvbnRleHQsXG4gICAgICAgIC8vc28gdGhhdCBkdXJpbmcgYnVpbGRzLCB0aGUgbGF0ZXN0IGluc3RhbmNlIG9mIHRoZSBkZWZhdWx0IGNvbnRleHRcbiAgICAgICAgLy93aXRoIGl0cyBjb25maWcgZ2V0cyB1c2VkLlxuICAgICAgICByZXFbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gY29udGV4dHNbZGVmQ29udGV4dE5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5yZXF1aXJlW3Byb3BdLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgaGVhZCA9IHMuaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgICAgIC8vSWYgQkFTRSB0YWcgaXMgaW4gcGxheSwgdXNpbmcgYXBwZW5kQ2hpbGQgaXMgYSBwcm9ibGVtIGZvciBJRTYuXG4gICAgICAgIC8vV2hlbiB0aGF0IGJyb3dzZXIgZGllcywgdGhpcyBjYW4gYmUgcmVtb3ZlZC4gRGV0YWlscyBpbiB0aGlzIGpRdWVyeSBidWc6XG4gICAgICAgIC8vaHR0cDovL2Rldi5qcXVlcnkuY29tL3RpY2tldC8yNzA5XG4gICAgICAgIGJhc2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Jhc2UnKVswXTtcbiAgICAgICAgaWYgKGJhc2VFbGVtZW50KSB7XG4gICAgICAgICAgICBoZWFkID0gcy5oZWFkID0gYmFzZUVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFueSBlcnJvcnMgdGhhdCByZXF1aXJlIGV4cGxpY2l0bHkgZ2VuZXJhdGVzIHdpbGwgYmUgcGFzc2VkIHRvIHRoaXNcbiAgICAgKiBmdW5jdGlvbi4gSW50ZXJjZXB0L292ZXJyaWRlIGl0IGlmIHlvdSB3YW50IGN1c3RvbSBlcnJvciBoYW5kbGluZy5cbiAgICAgKiBAcGFyYW0ge0Vycm9yfSBlcnIgdGhlIGVycm9yIG9iamVjdC5cbiAgICAgKi9cbiAgICByZXEub25FcnJvciA9IGRlZmF1bHRPbkVycm9yO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgbm9kZSBmb3IgdGhlIGxvYWQgY29tbWFuZC4gT25seSB1c2VkIGluIGJyb3dzZXIgZW52cy5cbiAgICAgKi9cbiAgICByZXEuY3JlYXRlTm9kZSA9IGZ1bmN0aW9uIChjb25maWcsIG1vZHVsZU5hbWUsIHVybCkge1xuICAgICAgICB2YXIgbm9kZSA9IGNvbmZpZy54aHRtbCA/XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJywgJ2h0bWw6c2NyaXB0JykgOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBub2RlLnR5cGUgPSBjb25maWcuc2NyaXB0VHlwZSB8fCAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgbm9kZS5jaGFyc2V0ID0gJ3V0Zi04JztcbiAgICAgICAgbm9kZS5hc3luYyA9IHRydWU7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEb2VzIHRoZSByZXF1ZXN0IHRvIGxvYWQgYSBtb2R1bGUgZm9yIHRoZSBicm93c2VyIGNhc2UuXG4gICAgICogTWFrZSB0aGlzIGEgc2VwYXJhdGUgZnVuY3Rpb24gdG8gYWxsb3cgb3RoZXIgZW52aXJvbm1lbnRzXG4gICAgICogdG8gb3ZlcnJpZGUgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCB0aGUgcmVxdWlyZSBjb250ZXh0IHRvIGZpbmQgc3RhdGUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1vZHVsZU5hbWUgdGhlIG5hbWUgb2YgdGhlIG1vZHVsZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdXJsIHRoZSBVUkwgdG8gdGhlIG1vZHVsZS5cbiAgICAgKi9cbiAgICByZXEubG9hZCA9IGZ1bmN0aW9uIChjb250ZXh0LCBtb2R1bGVOYW1lLCB1cmwpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IChjb250ZXh0ICYmIGNvbnRleHQuY29uZmlnKSB8fCB7fSxcbiAgICAgICAgICAgIG5vZGU7XG4gICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgIC8vSW4gdGhlIGJyb3dzZXIgc28gdXNlIGEgc2NyaXB0IHRhZ1xuICAgICAgICAgICAgbm9kZSA9IHJlcS5jcmVhdGVOb2RlKGNvbmZpZywgbW9kdWxlTmFtZSwgdXJsKTtcblxuICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcmVxdWlyZWNvbnRleHQnLCBjb250ZXh0LmNvbnRleHROYW1lKTtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLXJlcXVpcmVtb2R1bGUnLCBtb2R1bGVOYW1lKTtcblxuICAgICAgICAgICAgLy9TZXQgdXAgbG9hZCBsaXN0ZW5lci4gVGVzdCBhdHRhY2hFdmVudCBmaXJzdCBiZWNhdXNlIElFOSBoYXNcbiAgICAgICAgICAgIC8vYSBzdWJ0bGUgaXNzdWUgaW4gaXRzIGFkZEV2ZW50TGlzdGVuZXIgYW5kIHNjcmlwdCBvbmxvYWQgZmlyaW5nc1xuICAgICAgICAgICAgLy90aGF0IGRvIG5vdCBtYXRjaCB0aGUgYmVoYXZpb3Igb2YgYWxsIG90aGVyIGJyb3dzZXJzIHdpdGhcbiAgICAgICAgICAgIC8vYWRkRXZlbnRMaXN0ZW5lciBzdXBwb3J0LCB3aGljaCBmaXJlIHRoZSBvbmxvYWQgZXZlbnQgZm9yIGFcbiAgICAgICAgICAgIC8vc2NyaXB0IHJpZ2h0IGFmdGVyIHRoZSBzY3JpcHQgZXhlY3V0aW9uLiBTZWU6XG4gICAgICAgICAgICAvL2h0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvNjQ4MDU3L3NjcmlwdC1vbmxvYWQtZXZlbnQtaXMtbm90LWZpcmVkLWltbWVkaWF0ZWx5LWFmdGVyLXNjcmlwdC1leGVjdXRpb25cbiAgICAgICAgICAgIC8vVU5GT1JUVU5BVEVMWSBPcGVyYSBpbXBsZW1lbnRzIGF0dGFjaEV2ZW50IGJ1dCBkb2VzIG5vdCBmb2xsb3cgdGhlIHNjcmlwdFxuICAgICAgICAgICAgLy9zY3JpcHQgZXhlY3V0aW9uIG1vZGUuXG4gICAgICAgICAgICBpZiAobm9kZS5hdHRhY2hFdmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAvL0NoZWNrIGlmIG5vZGUuYXR0YWNoRXZlbnQgaXMgYXJ0aWZpY2lhbGx5IGFkZGVkIGJ5IGN1c3RvbSBzY3JpcHQgb3JcbiAgICAgICAgICAgICAgICAgICAgLy9uYXRpdmVseSBzdXBwb3J0ZWQgYnkgYnJvd3NlclxuICAgICAgICAgICAgICAgICAgICAvL3JlYWQgaHR0cHM6Ly9naXRodWIuY29tL3JlcXVpcmVqcy9yZXF1aXJlanMvaXNzdWVzLzE4N1xuICAgICAgICAgICAgICAgICAgICAvL2lmIHdlIGNhbiBOT1QgZmluZCBbbmF0aXZlIGNvZGVdIHRoZW4gaXQgbXVzdCBOT1QgbmF0aXZlbHkgc3VwcG9ydGVkLlxuICAgICAgICAgICAgICAgICAgICAvL2luIElFOCwgbm9kZS5hdHRhY2hFdmVudCBkb2VzIG5vdCBoYXZlIHRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgLy9Ob3RlIHRoZSB0ZXN0IGZvciBcIltuYXRpdmUgY29kZVwiIHdpdGggbm8gY2xvc2luZyBicmFjZSwgc2VlOlxuICAgICAgICAgICAgICAgICAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9yZXF1aXJlanMvcmVxdWlyZWpzL2lzc3Vlcy8yNzNcbiAgICAgICAgICAgICAgICAgICAgIShub2RlLmF0dGFjaEV2ZW50LnRvU3RyaW5nICYmIG5vZGUuYXR0YWNoRXZlbnQudG9TdHJpbmcoKS5pbmRleE9mKCdbbmF0aXZlIGNvZGUnKSA8IDApICYmXG4gICAgICAgICAgICAgICAgICAgICFpc09wZXJhKSB7XG4gICAgICAgICAgICAgICAgLy9Qcm9iYWJseSBJRS4gSUUgKGF0IGxlYXN0IDYtOCkgZG8gbm90IGZpcmVcbiAgICAgICAgICAgICAgICAvL3NjcmlwdCBvbmxvYWQgcmlnaHQgYWZ0ZXIgZXhlY3V0aW5nIHRoZSBzY3JpcHQsIHNvXG4gICAgICAgICAgICAgICAgLy93ZSBjYW5ub3QgdGllIHRoZSBhbm9ueW1vdXMgZGVmaW5lIGNhbGwgdG8gYSBuYW1lLlxuICAgICAgICAgICAgICAgIC8vSG93ZXZlciwgSUUgcmVwb3J0cyB0aGUgc2NyaXB0IGFzIGJlaW5nIGluICdpbnRlcmFjdGl2ZSdcbiAgICAgICAgICAgICAgICAvL3JlYWR5U3RhdGUgYXQgdGhlIHRpbWUgb2YgdGhlIGRlZmluZSBjYWxsLlxuICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGNvbnRleHQub25TY3JpcHRMb2FkKTtcbiAgICAgICAgICAgICAgICAvL0l0IHdvdWxkIGJlIGdyZWF0IHRvIGFkZCBhbiBlcnJvciBoYW5kbGVyIGhlcmUgdG8gY2F0Y2hcbiAgICAgICAgICAgICAgICAvLzQwNHMgaW4gSUU5Ky4gSG93ZXZlciwgb25yZWFkeXN0YXRlY2hhbmdlIHdpbGwgZmlyZSBiZWZvcmVcbiAgICAgICAgICAgICAgICAvL3RoZSBlcnJvciBoYW5kbGVyLCBzbyB0aGF0IGRvZXMgbm90IGhlbHAuIElmIGFkZEV2ZW50TGlzdGVuZXJcbiAgICAgICAgICAgICAgICAvL2lzIHVzZWQsIHRoZW4gSUUgd2lsbCBmaXJlIGVycm9yIGJlZm9yZSBsb2FkLCBidXQgd2UgY2Fubm90XG4gICAgICAgICAgICAgICAgLy91c2UgdGhhdCBwYXRod2F5IGdpdmVuIHRoZSBjb25uZWN0Lm1pY3Jvc29mdC5jb20gaXNzdWVcbiAgICAgICAgICAgICAgICAvL21lbnRpb25lZCBhYm92ZSBhYm91dCBub3QgZG9pbmcgdGhlICdzY3JpcHQgZXhlY3V0ZSxcbiAgICAgICAgICAgICAgICAvL3RoZW4gZmlyZSB0aGUgc2NyaXB0IGxvYWQgZXZlbnQgbGlzdGVuZXIgYmVmb3JlIGV4ZWN1dGVcbiAgICAgICAgICAgICAgICAvL25leHQgc2NyaXB0JyB0aGF0IG90aGVyIGJyb3dzZXJzIGRvLlxuICAgICAgICAgICAgICAgIC8vQmVzdCBob3BlOiBJRTEwIGZpeGVzIHRoZSBpc3N1ZXMsXG4gICAgICAgICAgICAgICAgLy9hbmQgdGhlbiBkZXN0cm95cyBhbGwgaW5zdGFsbHMgb2YgSUUgNi05LlxuICAgICAgICAgICAgICAgIC8vbm9kZS5hdHRhY2hFdmVudCgnb25lcnJvcicsIGNvbnRleHQub25TY3JpcHRFcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNvbnRleHQub25TY3JpcHRMb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGNvbnRleHQub25TY3JpcHRFcnJvciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5zcmMgPSB1cmw7XG5cbiAgICAgICAgICAgIC8vQ2FsbGluZyBvbk5vZGVDcmVhdGVkIGFmdGVyIGFsbCBwcm9wZXJ0aWVzIG9uIHRoZSBub2RlIGhhdmUgYmVlblxuICAgICAgICAgICAgLy9zZXQsIGJ1dCBiZWZvcmUgaXQgaXMgcGxhY2VkIGluIHRoZSBET00uXG4gICAgICAgICAgICBpZiAoY29uZmlnLm9uTm9kZUNyZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25maWcub25Ob2RlQ3JlYXRlZChub2RlLCBjb25maWcsIG1vZHVsZU5hbWUsIHVybCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vRm9yIHNvbWUgY2FjaGUgY2FzZXMgaW4gSUUgNi04LCB0aGUgc2NyaXB0IGV4ZWN1dGVzIGJlZm9yZSB0aGUgZW5kXG4gICAgICAgICAgICAvL29mIHRoZSBhcHBlbmRDaGlsZCBleGVjdXRpb24sIHNvIHRvIHRpZSBhbiBhbm9ueW1vdXMgZGVmaW5lXG4gICAgICAgICAgICAvL2NhbGwgdG8gdGhlIG1vZHVsZSBuYW1lICh3aGljaCBpcyBzdG9yZWQgb24gdGhlIG5vZGUpLCBob2xkIG9uXG4gICAgICAgICAgICAvL3RvIGEgcmVmZXJlbmNlIHRvIHRoaXMgbm9kZSwgYnV0IGNsZWFyIGFmdGVyIHRoZSBET00gaW5zZXJ0aW9uLlxuICAgICAgICAgICAgY3VycmVudGx5QWRkaW5nU2NyaXB0ID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChiYXNlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKG5vZGUsIGJhc2VFbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRseUFkZGluZ1NjcmlwdCA9IG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKGlzV2ViV29ya2VyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vSW4gYSB3ZWIgd29ya2VyLCB1c2UgaW1wb3J0U2NyaXB0cy4gVGhpcyBpcyBub3QgYSB2ZXJ5XG4gICAgICAgICAgICAgICAgLy9lZmZpY2llbnQgdXNlIG9mIGltcG9ydFNjcmlwdHMsIGltcG9ydFNjcmlwdHMgd2lsbCBibG9jayB1bnRpbFxuICAgICAgICAgICAgICAgIC8vaXRzIHNjcmlwdCBpcyBkb3dubG9hZGVkIGFuZCBldmFsdWF0ZWQuIEhvd2V2ZXIsIGlmIHdlYiB3b3JrZXJzXG4gICAgICAgICAgICAgICAgLy9hcmUgaW4gcGxheSwgdGhlIGV4cGVjdGF0aW9uIGlzIHRoYXQgYSBidWlsZCBoYXMgYmVlbiBkb25lIHNvXG4gICAgICAgICAgICAgICAgLy90aGF0IG9ubHkgb25lIHNjcmlwdCBuZWVkcyB0byBiZSBsb2FkZWQgYW55d2F5LiBUaGlzIG1heSBuZWVkXG4gICAgICAgICAgICAgICAgLy90byBiZSByZWV2YWx1YXRlZCBpZiBvdGhlciB1c2UgY2FzZXMgYmVjb21lIGNvbW1vbi5cblxuICAgICAgICAgICAgICAgIC8vIFBvc3QgYSB0YXNrIHRvIHRoZSBldmVudCBsb29wIHRvIHdvcmsgYXJvdW5kIGEgYnVnIGluIFdlYktpdFxuICAgICAgICAgICAgICAgIC8vIHdoZXJlIHRoZSB3b3JrZXIgZ2V0cyBnYXJiYWdlLWNvbGxlY3RlZCBhZnRlciBjYWxsaW5nXG4gICAgICAgICAgICAgICAgLy8gaW1wb3J0U2NyaXB0cygpOiBodHRwczovL3dlYmtpdC5vcmcvYi8xNTMzMTdcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge30sIDApO1xuICAgICAgICAgICAgICAgIGltcG9ydFNjcmlwdHModXJsKTtcblxuICAgICAgICAgICAgICAgIC8vQWNjb3VudCBmb3IgYW5vbnltb3VzIG1vZHVsZXNcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBsZXRlTG9hZChtb2R1bGVOYW1lKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uRXJyb3IobWFrZUVycm9yKCdpbXBvcnRzY3JpcHRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ltcG9ydFNjcmlwdHMgZmFpbGVkIGZvciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWUgKyAnIGF0ICcgKyB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttb2R1bGVOYW1lXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldEludGVyYWN0aXZlU2NyaXB0KCkge1xuICAgICAgICBpZiAoaW50ZXJhY3RpdmVTY3JpcHQgJiYgaW50ZXJhY3RpdmVTY3JpcHQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJykge1xuICAgICAgICAgICAgcmV0dXJuIGludGVyYWN0aXZlU2NyaXB0O1xuICAgICAgICB9XG5cbiAgICAgICAgZWFjaFJldmVyc2Uoc2NyaXB0cygpLCBmdW5jdGlvbiAoc2NyaXB0KSB7XG4gICAgICAgICAgICBpZiAoc2NyaXB0LnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGludGVyYWN0aXZlU2NyaXB0ID0gc2NyaXB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGl2ZVNjcmlwdDtcbiAgICB9XG5cbiAgICAvL0xvb2sgZm9yIGEgZGF0YS1tYWluIHNjcmlwdCBhdHRyaWJ1dGUsIHdoaWNoIGNvdWxkIGFsc28gYWRqdXN0IHRoZSBiYXNlVXJsLlxuICAgIGlmIChpc0Jyb3dzZXIgJiYgIWNmZy5za2lwRGF0YU1haW4pIHtcbiAgICAgICAgLy9GaWd1cmUgb3V0IGJhc2VVcmwuIEdldCBpdCBmcm9tIHRoZSBzY3JpcHQgdGFnIHdpdGggcmVxdWlyZS5qcyBpbiBpdC5cbiAgICAgICAgZWFjaFJldmVyc2Uoc2NyaXB0cygpLCBmdW5jdGlvbiAoc2NyaXB0KSB7XG4gICAgICAgICAgICAvL1NldCB0aGUgJ2hlYWQnIHdoZXJlIHdlIGNhbiBhcHBlbmQgY2hpbGRyZW4gYnlcbiAgICAgICAgICAgIC8vdXNpbmcgdGhlIHNjcmlwdCdzIHBhcmVudC5cbiAgICAgICAgICAgIGlmICghaGVhZCkge1xuICAgICAgICAgICAgICAgIGhlYWQgPSBzY3JpcHQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9Mb29rIGZvciBhIGRhdGEtbWFpbiBhdHRyaWJ1dGUgdG8gc2V0IG1haW4gc2NyaXB0IGZvciB0aGUgcGFnZVxuICAgICAgICAgICAgLy90byBsb2FkLiBJZiBpdCBpcyB0aGVyZSwgdGhlIHBhdGggdG8gZGF0YSBtYWluIGJlY29tZXMgdGhlXG4gICAgICAgICAgICAvL2Jhc2VVcmwsIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHNldC5cbiAgICAgICAgICAgIGRhdGFNYWluID0gc2NyaXB0LmdldEF0dHJpYnV0ZSgnZGF0YS1tYWluJyk7XG4gICAgICAgICAgICBpZiAoZGF0YU1haW4pIHtcbiAgICAgICAgICAgICAgICAvL1ByZXNlcnZlIGRhdGFNYWluIGluIGNhc2UgaXQgaXMgYSBwYXRoIChpLmUuIGNvbnRhaW5zICc/JylcbiAgICAgICAgICAgICAgICBtYWluU2NyaXB0ID0gZGF0YU1haW47XG5cbiAgICAgICAgICAgICAgICAvL1NldCBmaW5hbCBiYXNlVXJsIGlmIHRoZXJlIGlzIG5vdCBhbHJlYWR5IGFuIGV4cGxpY2l0IG9uZSxcbiAgICAgICAgICAgICAgICAvL2J1dCBvbmx5IGRvIHNvIGlmIHRoZSBkYXRhLW1haW4gdmFsdWUgaXMgbm90IGEgbG9hZGVyIHBsdWdpblxuICAgICAgICAgICAgICAgIC8vbW9kdWxlIElELlxuICAgICAgICAgICAgICAgIGlmICghY2ZnLmJhc2VVcmwgJiYgbWFpblNjcmlwdC5pbmRleE9mKCchJykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vUHVsbCBvZmYgdGhlIGRpcmVjdG9yeSBvZiBkYXRhLW1haW4gZm9yIHVzZSBhcyB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy9iYXNlVXJsLlxuICAgICAgICAgICAgICAgICAgICBzcmMgPSBtYWluU2NyaXB0LnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIG1haW5TY3JpcHQgPSBzcmMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YlBhdGggPSBzcmMubGVuZ3RoID8gc3JjLmpvaW4oJy8nKSAgKyAnLycgOiAnLi8nO1xuXG4gICAgICAgICAgICAgICAgICAgIGNmZy5iYXNlVXJsID0gc3ViUGF0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL1N0cmlwIG9mZiBhbnkgdHJhaWxpbmcgLmpzIHNpbmNlIG1haW5TY3JpcHQgaXMgbm93XG4gICAgICAgICAgICAgICAgLy9saWtlIGEgbW9kdWxlIG5hbWUuXG4gICAgICAgICAgICAgICAgbWFpblNjcmlwdCA9IG1haW5TY3JpcHQucmVwbGFjZShqc1N1ZmZpeFJlZ0V4cCwgJycpO1xuXG4gICAgICAgICAgICAgICAgLy9JZiBtYWluU2NyaXB0IGlzIHN0aWxsIGEgcGF0aCwgZmFsbCBiYWNrIHRvIGRhdGFNYWluXG4gICAgICAgICAgICAgICAgaWYgKHJlcS5qc0V4dFJlZ0V4cC50ZXN0KG1haW5TY3JpcHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1haW5TY3JpcHQgPSBkYXRhTWFpbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL1B1dCB0aGUgZGF0YS1tYWluIHNjcmlwdCBpbiB0aGUgZmlsZXMgdG8gbG9hZC5cbiAgICAgICAgICAgICAgICBjZmcuZGVwcyA9IGNmZy5kZXBzID8gY2ZnLmRlcHMuY29uY2F0KG1haW5TY3JpcHQpIDogW21haW5TY3JpcHRdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgZGVmaW5pdGlvbnMgb2YgbW9kdWxlcy4gRGlmZmVycyBmcm9tXG4gICAgICogcmVxdWlyZSgpIGluIHRoYXQgYSBzdHJpbmcgZm9yIHRoZSBtb2R1bGUgc2hvdWxkIGJlIHRoZSBmaXJzdCBhcmd1bWVudCxcbiAgICAgKiBhbmQgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgZGVwZW5kZW5jaWVzIGFyZSBsb2FkZWQgc2hvdWxkXG4gICAgICogcmV0dXJuIGEgdmFsdWUgdG8gZGVmaW5lIHRoZSBtb2R1bGUgY29ycmVzcG9uZGluZyB0byB0aGUgZmlyc3QgYXJndW1lbnQnc1xuICAgICAqIG5hbWUuXG4gICAgICovXG4gICAgZGVmaW5lID0gZnVuY3Rpb24gKG5hbWUsIGRlcHMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBub2RlLCBjb250ZXh0O1xuXG4gICAgICAgIC8vQWxsb3cgZm9yIGFub255bW91cyBtb2R1bGVzXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vQWRqdXN0IGFyZ3MgYXBwcm9wcmlhdGVseVxuICAgICAgICAgICAgY2FsbGJhY2sgPSBkZXBzO1xuICAgICAgICAgICAgZGVwcyA9IG5hbWU7XG4gICAgICAgICAgICBuYW1lID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vVGhpcyBtb2R1bGUgbWF5IG5vdCBoYXZlIGRlcGVuZGVuY2llc1xuICAgICAgICBpZiAoIWlzQXJyYXkoZGVwcykpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gZGVwcztcbiAgICAgICAgICAgIGRlcHMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9JZiBubyBuYW1lLCBhbmQgY2FsbGJhY2sgaXMgYSBmdW5jdGlvbiwgdGhlbiBmaWd1cmUgb3V0IGlmIGl0IGFcbiAgICAgICAgLy9Db21tb25KUyB0aGluZyB3aXRoIGRlcGVuZGVuY2llcy5cbiAgICAgICAgaWYgKCFkZXBzICYmIGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgICBkZXBzID0gW107XG4gICAgICAgICAgICAvL1JlbW92ZSBjb21tZW50cyBmcm9tIHRoZSBjYWxsYmFjayBzdHJpbmcsXG4gICAgICAgICAgICAvL2xvb2sgZm9yIHJlcXVpcmUgY2FsbHMsIGFuZCBwdWxsIHRoZW0gaW50byB0aGUgZGVwZW5kZW5jaWVzLFxuICAgICAgICAgICAgLy9idXQgb25seSBpZiB0aGVyZSBhcmUgZnVuY3Rpb24gYXJncy5cbiAgICAgICAgICAgIGlmIChjYWxsYmFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShjb21tZW50UmVnRXhwLCBjb21tZW50UmVwbGFjZSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoY2pzUmVxdWlyZVJlZ0V4cCwgZnVuY3Rpb24gKG1hdGNoLCBkZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vTWF5IGJlIGEgQ29tbW9uSlMgdGhpbmcgZXZlbiB3aXRob3V0IHJlcXVpcmUgY2FsbHMsIGJ1dCBzdGlsbFxuICAgICAgICAgICAgICAgIC8vY291bGQgdXNlIGV4cG9ydHMsIGFuZCBtb2R1bGUuIEF2b2lkIGRvaW5nIGV4cG9ydHMgYW5kIG1vZHVsZVxuICAgICAgICAgICAgICAgIC8vd29yayB0aG91Z2ggaWYgaXQganVzdCBuZWVkcyByZXF1aXJlLlxuICAgICAgICAgICAgICAgIC8vUkVRVUlSRVMgdGhlIGZ1bmN0aW9uIHRvIGV4cGVjdCB0aGUgQ29tbW9uSlMgdmFyaWFibGVzIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vb3JkZXIgbGlzdGVkIGJlbG93LlxuICAgICAgICAgICAgICAgIGRlcHMgPSAoY2FsbGJhY2subGVuZ3RoID09PSAxID8gWydyZXF1aXJlJ10gOiBbJ3JlcXVpcmUnLCAnZXhwb3J0cycsICdtb2R1bGUnXSkuY29uY2F0KGRlcHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9JZiBpbiBJRSA2LTggYW5kIGhpdCBhbiBhbm9ueW1vdXMgZGVmaW5lKCkgY2FsbCwgZG8gdGhlIGludGVyYWN0aXZlXG4gICAgICAgIC8vd29yay5cbiAgICAgICAgaWYgKHVzZUludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBub2RlID0gY3VycmVudGx5QWRkaW5nU2NyaXB0IHx8IGdldEludGVyYWN0aXZlU2NyaXB0KCk7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVxdWlyZW1vZHVsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dHNbbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVxdWlyZWNvbnRleHQnKV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL0Fsd2F5cyBzYXZlIG9mZiBldmFsdWF0aW5nIHRoZSBkZWYgY2FsbCB1bnRpbCB0aGUgc2NyaXB0IG9ubG9hZCBoYW5kbGVyLlxuICAgICAgICAvL1RoaXMgYWxsb3dzIG11bHRpcGxlIG1vZHVsZXMgdG8gYmUgaW4gYSBmaWxlIHdpdGhvdXQgcHJlbWF0dXJlbHlcbiAgICAgICAgLy90cmFjaW5nIGRlcGVuZGVuY2llcywgYW5kIGFsbG93cyBmb3IgYW5vbnltb3VzIG1vZHVsZSBzdXBwb3J0LFxuICAgICAgICAvL3doZXJlIHRoZSBtb2R1bGUgbmFtZSBpcyBub3Qga25vd24gdW50aWwgdGhlIHNjcmlwdCBvbmxvYWQgZXZlbnRcbiAgICAgICAgLy9vY2N1cnMuIElmIG5vIGNvbnRleHQsIHVzZSB0aGUgZ2xvYmFsIHF1ZXVlLCBhbmQgZ2V0IGl0IHByb2Nlc3NlZFxuICAgICAgICAvL2luIHRoZSBvbnNjcmlwdCBsb2FkIGNhbGxiYWNrLlxuICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dC5kZWZRdWV1ZS5wdXNoKFtuYW1lLCBkZXBzLCBjYWxsYmFja10pO1xuICAgICAgICAgICAgY29udGV4dC5kZWZRdWV1ZU1hcFtuYW1lXSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWxEZWZRdWV1ZS5wdXNoKFtuYW1lLCBkZXBzLCBjYWxsYmFja10pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGRlZmluZS5hbWQgPSB7XG4gICAgICAgIGpRdWVyeTogdHJ1ZVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgdGV4dC4gTm9ybWFsbHkganVzdCB1c2VzIGV2YWwsIGJ1dCBjYW4gYmUgbW9kaWZpZWRcbiAgICAgKiB0byB1c2UgYSBiZXR0ZXIsIGVudmlyb25tZW50LXNwZWNpZmljIGNhbGwuIE9ubHkgdXNlZCBmb3IgdHJhbnNwaWxpbmdcbiAgICAgKiBsb2FkZXIgcGx1Z2lucywgbm90IGZvciBwbGFpbiBKUyBtb2R1bGVzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRoZSB0ZXh0IHRvIGV4ZWN1dGUvZXZhbHVhdGUuXG4gICAgICovXG4gICAgcmVxLmV4ZWMgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAvKmpzbGludCBldmlsOiB0cnVlICovXG4gICAgICAgIHJldHVybiBldmFsKHRleHQpO1xuICAgIH07XG5cbiAgICAvL1NldCB1cCB3aXRoIGNvbmZpZyBpbmZvLlxuICAgIHJlcShjZmcpO1xufSh0aGlzLCAodHlwZW9mIHNldFRpbWVvdXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogc2V0VGltZW91dCkpKTsiXX0=
